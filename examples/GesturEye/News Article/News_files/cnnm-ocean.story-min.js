var cnnmBanner={bannerElem:document.querySelector(".js-banner"),bodyElem:document.querySelector("body"),navElem:document.querySelector(".js-nav"),yScroll:0,smallNav_triggerPos:68,setStickyNav:function(){window.addEventListener("scroll",function(a){if(window.pageYOffset!==undefined){cnnmBanner.yScroll=window.pageYOffset;}else{if(cnnmBanner.navElem!==undefined&&cnnmBanner.navElem.scrollTop){cnnmBanner.yScroll=cnnmBanner.navElem.scrollTop;}else{if(document.body!==undefined){cnnmBanner.yScroll=document.body.scrollTop;}}}if(cnnmBanner.yScroll>cnnmBanner.smallNav_triggerPos){if(cnnmBanner.bodyElem.className.indexOf("body--sticky")<0){cnnmBanner.bodyElem.className+=" body--sticky";}}else{cnnmBanner.bodyElem.className=cnnmBanner.bodyElem.className.replace("body--sticky","");}});},checkStickyNav:function(){if(window.pageYOffset!==undefined){cnnmBanner.yScroll=window.pageYOffset;}else{if(cnnmBanner.navElem!==undefined&&cnnmBanner.navElem.scrollTop){cnnmBanner.yScroll=cnnmBanner.navElem.scrollTop;}else{if(document.body!==undefined){cnnmBanner.yScroll=document.body.scrollTop;}}}if(cnnmBanner.yScroll>cnnmBanner.smallNav_triggerPos){cnnmBanner.bodyElem.className+=" body--sticky";}else{cnnmBanner.bodyElem.className=cnnmBanner.bodyElem.className.replace("body--sticky","");}console.log("DOM fully loaded and parsed");},setEditionDropdown:function(){jQuery(".js-editionizer").click(function(){$editionOption=jQuery(".js-editionOption");$editionIcon=jQuery(".js-editionIcon");if($editionOption.hasClass("show")){$editionOption.removeClass("show");$editionIcon.removeClass("icon-close");$editionIcon.html("+");}else{$editionOption.addClass("show");$editionIcon.addClass("icon-close");$editionIcon.html('<i class="icon icon--close"></i>');}});jQuery(document).bind("click",function(c){var a=jQuery(c.target);if(!a.parents().hasClass("js-editionizer")){jQuery(".js-editionOption").removeClass("show");jQuery(".js-editionIcon").removeClass("icon-close");jQuery(".js-editionIcon").html("+");}});jQuery(".js-editionOption").click(function(){var a=new Date();var d=jQuery(this).html();var c=jQuery(this).attr("id");jQuery(".js-editionDisplayText").html(d);jQuery(".js-editionOption").hide();a.setDate(a.getDate()+365);console.log("in and setting - "+c);cnnm_setCookie("SelectedEdition",c,a.toUTCString(),"/","cnn.com");if(c=="www"){document.location.href="/?iid=dmstedition";}else{document.location.href="/?iid=intnledition";}});},setLoggedInStatus:function(a,c){if(c&&c!==""&&a=="true"){jQuery(".js-logged-in-display").hide();jQuery(".js-logged-out-display").show();jQuery(".js-username-display").html('Hi, <a href="/profile">'+c+"</a>").show();}else{if(a=="false"){jQuery(".js-logged-in-display").show();jQuery(".js-logged-out-display").hide();jQuery(".js-username-display").html("").hide();}}},init:function(){try{this.setStickyNav();this.checkStickyNav();this.setEditionDropdown();}catch(a){console.log("banner error: "+a.message);}}};var MarketsModuleSlideShow=(function(){var g=$("#pt-markets-slider"),f=g.children("div.pt-page"),q=1,a=f.length,o=0,c=false,n=false,l=false,d=null,s=k(),t=true;function k(){var v,z,w=document.createElement("div"),y={"WebkitAnimation":"webkitAnimationEnd","OAnimation":"oAnimationEnd","msAnimation":"MSAnimationEnd","animation":"animationend"};for(v in y){if(y.hasOwnProperty(v)&&w.style[v]!==z){return y[v];}}return null;}function u(){g=$("#pt-markets-slider");f=g.children("div.pt-page");q=1;a=f.length;o=0;c=false;n=false;l=false;d=(typeof(d)!=="undefined")?d:null;s=k();t=true;if(d){window.clearInterval(d);}if(s===null){t=false;}f.each(function(){var v=$(this);v.attr("data-original-class-list",v.attr("class").replace("pt-page-current",""));});f.eq(o).addClass("pt-page-current");$(".navigation a.nav-prev").click(function(){r(2);clearInterval(d);});$(".navigation a.nav-right").click(function(){r(1);clearInterval(d);});d=setInterval(function(){h();},5000);}function r(y){var z=(y.animation)?y.animation:y;if(c){return false;}c=true;var A=f.eq(o);if(y.showPage){if(y.showPage<a-1){o=y.showPage;}else{o=0;}}else{if(o<a-1){++o;}else{o=0;}}var B=f.eq(o).addClass("pt-page-current"),v="",w="";switch(z){case 1:v="pt-page-moveToLeft";w="pt-page-moveFromRight";break;case 2:v="pt-page-moveToRight";w="pt-page-moveFromLeft";break;}A.addClass(v).on(s,function(){A.off(s);n=true;if(l){p(A,B);}});B.addClass(w).on(s,function(){B.off(s);l=true;if(n){p(A,B);}});if(!t){p(A,B);}}function p(w,v){n=false;l=false;j(w,v);c=false;}function j(w,v){w.attr("class",w.attr("data-original-class-list"));v.attr("class",v.attr("data-original-class-list")+" pt-page-current");}function h(){r(1);}return{init:u};})();(function(c,a){c.fn.html=function(){if(c(this).hasClass("index-change")&&arguments.length){if(arguments[0].indexOf("icon--markets-arrow-up")>-1){c(this).closest(".module-body").removeClass("market-down market-neutral").addClass("market-up");}else{if(arguments[0].indexOf("icon--markets-arrow-down")>-1){c(this).closest(".module-body").removeClass("market-up market-neutral").addClass("market-down");}else{c(this).closest(".module-body").removeClass("market-up market-down").addClass("market-neutral");}}}return(a.apply(this,arguments));};})(jQuery,jQuery.fn.html);function Format(d,c,a){return format_data.FormatVal(d,c,a);}format_data=function(){this.error=[];this.error["-32768"]="--";this.error["NA"]="--";this.error["--"]="--";this.error["NaN"]="--";this.magnitudes={shortcap:["","K","M","B","T"],longspace:[""," thousand"," million"," billion"," trillion"],longcap:["","Thousand","Million","Billion","Trillion"],longcapspace:[""," Thousand"," Million"," Billion"," Trillion"]};};format_data.prototype.FormatVal=function(f,d,a){var c=f;if(this.error[f]){return this.error[f];}try{return this[d](f,c,a);}catch(g){return"--";}};format_data.prototype.Price=function(c,a){c=c.toFixed(this.SigDigitsAll(a));c=this.comma(c);return c;};format_data.prototype.PriceNoDecimal=function(c,a){c=c.toFixed(0);c=this.comma(c);return c;};format_data.prototype.IndexPriceNoDecimal=function(c,a){c=c.toFixed(0);c=this.comma(c);return c;};format_data.prototype.ToHundredth=function(c,a){c=c.toFixed(2);c=this.comma(c);return c;};format_data.prototype.PriceCurrency=function(c,a){c=c.toFixed(4);return c;};format_data.prototype.PriceCurrencyColor=function(c,a){c=c.toFixed(4);c=this.color(c,a);return c;};format_data.prototype.FullVolume=function(c,a){c=c.toFixed(0);c=this.comma(c);return c;};format_data.prototype.ShortMagnitude=function(c,a){c=this.getMagnitude(1,a,"shortcap");return c;};format_data.prototype.PriceColor=function(c,a){c=c.toFixed(this.SigDigits(a));c=this.comma(c);c=this.showSign(c,a);c=this.color(c,a);return c;};format_data.prototype.PriceColorNoDecimal=function(c,a){c=c.toFixed(0);c=this.comma(c);c=this.showSign(c,a);c=this.color(c,a);return c;};format_data.prototype.PercentParensColor=function(c,a){c=c.toFixed(this.SigDigits(a));c=this.comma(c);c=c+"%";c=this.showSign(c,a);c=this.colorParens(c,a);return c;};format_data.prototype.PercentColor=function(c,a){c=c.toFixed(2);c=this.comma(c);c=c+"%";c=this.showSign(c,a);c=this.color(c,a);return c;};format_data.prototype.PercentColorNoSign=function(c,a){c=c.toFixed(2);c=this.comma(c);c=c+"%";c=this.removeSign(c,a);c=this.colorRawValue(c,a);return c;};format_data.prototype.PercentColorSpanSign=function(c,a){c=c.toFixed(2);c=this.comma(c);c=c+"%";c=this.spanSign(c,a);c=this.colorRawValue(c,a);return c;};format_data.prototype.IconArrow=function(c,a){c=c.toFixed(2);c=this.comma(c);c=this.removeSign(c,a);c=this.addIcon(c,a);return c;};format_data.prototype.PlainPercent=function(c,a){c=c.toFixed(2);c=this.comma(c);c=c+"%";return c;};format_data.prototype.PercentPrecision=function(c,a){c=c.toFixed(3);c=this.comma(c);c=c+"%";return c;};format_data.prototype.bid_ask=function(c,a){c=c*100;c=c.toFixed(0);c="x"+this.comma(c);return c;};format_data.prototype.timestamp=function(o,g){var p=new Date(o);var l=p.getDate();var d=p.getMonth();var k=p.getFullYear();var f=p.getHours();var c=p.getMinutes()+"";var n=p.getTimezoneOffset()/60;
var a=f+n;if(a>11){if(a==12){a=12;}else{a=(a-12);}var j="PM";}else{var j="AM";}if(c.length==1){c="0"+c;}return a+":"+c+" "+j+" ET "+(d+1)+"/"+l+"/"+k;};format_data.prototype.ShortTime=function(q,g,l){if(!l){l={};}var r=new Date(q);var n=r.getDate();var d=r.getMonth();var k=r.getFullYear();var f=r.getHours();var c=r.getMinutes()+"";var p="";if(l.showSeconds){p=r.getSeconds()+"";}var o=r.getTimezoneOffset()/60;var a=f+o;if(a>11){if(a==12){a=12;}else{a=(a-12);}var j="pm";}else{var j="am";}if(c.length==1){c="0"+c;}if(p.length==1){p="0"+p;}return[a,":",c,(l.showSeconds)?":"+p:"",j," ET"].join("");};format_data.prototype.LastTradeTime=function(p,g){var q=new Date(p);var l=q.getDate();var d=q.getMonth();var k=q.getFullYear();var f=q.getHours();var c=q.getMinutes()+"";var o=q.getSeconds()+"";var n=q.getTimezoneOffset()/60;var a=f+n;if(a>11){if(a==12){a=12;}else{a=(a-12);}var j="PM";}else{var j="AM";}if(c.length==1){c="0"+c;}return a+":"+c+":"+o+" "+j+" ET "+(d+1)+"/"+l+"/"+k;};format_data.prototype.ShortDate=function(h,d){var c=new Date(h);var a=c.getDate();var g=c.getMonth();if(g<10){g="0"+g;}var f=c.getFullYear();return(g+1)+"/"+a+"/"+f;};format_data.prototype.color=function(c,a){if(a>0){c='<span class="posData">'+c+"</span>";}else{if(a<0){c='<span class="negData">'+c+"</span>";}else{c='<span class="unchanged">'+c+"</span>";}}return c;};format_data.prototype.addIcon=function(c,a){if(a>0){c='<i class="icon icon--markets-arrow-up"></i>'+c;}else{if(a<0){c='<i class="icon icon--markets-arrow-down"></i>'+c;}else{c="&ndash;"+c;}}return c;};format_data.prototype.colorParens=function(c,a){if(a>0){c='<span class="posData">('+c+")</span>";}else{if(a<0){c='<span class="negData">('+c+")</span>";}else{c='<span class="unchanged">('+c+")</span>";}}return c;};format_data.prototype.colorRawValue=function(c,a){if(a>0){c='<span class="posData" rawValue="'+a+'">'+c+"</span>";}else{if(a<0){c='<span class="negData" rawValue="'+a+'">'+c+"</span>";}else{c='<span class="unchanged" rawValue="'+a+'">'+c+"</span>";}}return c;};format_data.prototype.showSign=function(c,a){if(a>0.0001){c="+"+c;}return c;};format_data.prototype.removeSign=function(c,a){c=c.replace("+","").replace("-","");return c;};format_data.prototype.spanSign=function(c,a){c=c.replace("+","<span>+</span>").replace("-","<span>-</span>");return c;};format_data.prototype.SigDigits=function(a){a=Math.abs(a);if(a>999){return 0;}else{if(a<0.01&&a>0){return 4;}else{return 2;}}};format_data.prototype.SigDigitsAll=function(d){d=String(d.toFixed(4))+"";x=d.split(".");x1=x[1];var a=Number(x1.length);var c=String(x[1]);if(c.charAt(a-1)=="0"){a--;if(c.charAt(a-1)=="0"){a--;}}if(a>3){return 4;}else{if(a>2){return 3;}else{return 2;}}};format_data.prototype.getMagnitude=function(f,a,d){a=Math.abs(a);var g=0;while(a>=1000&&g<4){a/=1000;g++;}value=a.toFixed(f);return value+this.magnitudes[d][g];};format_data.prototype.comma=function(c){c+="";x=c.split(".");x1=x[0];x2=x.length>1?"."+x[1]:"";var a=/(\d+)(\d{3})/;while(a.test(x1)){x1=x1.replace(a,"$1"+","+"$2");}return x1+x2;};format_data.prototype.MsToJsDate=function(c){var d=(c-25568)*86400000;var a=new Date(d);return a;};format_data.prototype.trim=function(g,f,d){if(d&&d.len){var a=d.len;}else{var a=100;}if(d&&d.tail){var c=d.tail;}else{var c="";}try{if(f.length<1||f==" "||f=="undefined"){f="n.a.";}else{if(f.length>a){if(c){f=f.substr(0,a)+c;}else{if(f.length+3>a){f=f.substr(0,f.length-(f.length-a))+"...";}}}else{if(d.forceTail){f=f+c;}}}}catch(h){f="n.a.";}return f;};var format_data=new format_data();function base64_encode(l){var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var f,d,c,q,p,o,n,s,k=0,t=0,j="",h=[];if(!l){return l;}do{f=l.charCodeAt(k++);d=l.charCodeAt(k++);c=l.charCodeAt(k++);s=f<<16|d<<8|c;q=s>>18&63;p=s>>12&63;o=s>>6&63;n=s&63;h[t++]=g.charAt(q)+g.charAt(p)+g.charAt(o)+g.charAt(n);}while(k<l.length);j=h.join("");var a=l.length%3;return(a?j.slice(0,a-3):j)+"===".slice(a||3);}var CryptoJS=CryptoJS||function(t,s){var w={},z=w.lib={},o=z.Base=function(){function d(){}return{extend:function(f){d.prototype=this;var g=new d;f&&g.mixIn(f);g.$super=this;return g;},create:function(){var f=this.extend();f.init.apply(f,arguments);return f;},init:function(){},mixIn:function(f){for(var g in f){f.hasOwnProperty(g)&&(this[g]=f[g]);}f.hasOwnProperty("toString")&&(this.toString=f.toString);},clone:function(){return this.$super.extend(this);}};}(),q=z.WordArray=o.extend({init:function(d,f){d=this.words=d||[];this.sigBytes=f!=s?f:4*d.length;},toString:function(d){return(d||y).stringify(this);},concat:function(f){var g=this.words,j=f.words,h=this.sigBytes,f=f.sigBytes;this.clamp();if(h%4){for(var d=0;d<f;d++){g[h+d>>>2]|=(j[d>>>2]>>>24-8*(d%4)&255)<<24-8*((h+d)%4);}}else{if(65535<j.length){for(d=0;d<f;d+=4){g[h+d>>>2]=j[d>>>2];}}else{g.push.apply(g,j);}}this.sigBytes+=f;return this;},clamp:function(){var d=this.words,f=this.sigBytes;d[f>>>2]&=4294967295<<32-8*(f%4);d.length=t.ceil(f/4);},clone:function(){var d=o.clone.call(this);d.words=this.words.slice(0);return d;},random:function(d){for(var f=[],g=0;g<d;g+=4){f.push(4294967296*t.random()|0);}return q.create(f,d);}}),c=w.enc={},y=c.Hex={stringify:function(g){for(var h=g.words,g=g.sigBytes,k=[],f=0;f<g;f++){var j=h[f>>>2]>>>24-8*(f%4)&255;k.push((j>>>4).toString(16));k.push((j&15).toString(16));}return k.join("");},parse:function(f){for(var g=f.length,h=[],d=0;d<g;d+=2){h[d>>>3]|=parseInt(f.substr(d,2),16)<<24-4*(d%8);}return q.create(h,g/2);}},u=c.Latin1={stringify:function(g){for(var h=g.words,g=g.sigBytes,f=[],j=0;j<g;j++){f.push(String.fromCharCode(h[j>>>2]>>>24-8*(j%4)&255));}return f.join("");},parse:function(g){for(var f=g.length,j=[],h=0;h<f;h++){j[h>>>2]|=(g.charCodeAt(h)&255)<<24-8*(h%4);}return q.create(j,f);}},r=c.Utf8={stringify:function(f){try{return decodeURIComponent(escape(u.stringify(f)));}catch(d){throw Error("Malformed UTF-8 data");}},parse:function(d){return u.parse(unescape(encodeURIComponent(d)));}},v=z.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=q.create();this._nDataBytes=0;},_append:function(d){"string"==typeof d&&(d=r.parse(d));this._data.concat(d);this._nDataBytes+=d.sigBytes;},_process:function(k){var j=this._data,B=j.words,A=j.sigBytes,p=this.blockSize,n=A/(4*p),n=k?t.ceil(n):t.max((n|0)-this._minBufferSize,0),k=n*p,A=t.min(4*k,A);if(k){for(var l=0;l<k;l+=p){this._doProcessBlock(B,l);}l=B.splice(0,k);j.sigBytes-=A;}return q.create(l,A);},clone:function(){var d=o.clone.call(this);d._data=this._data.clone();return d;},_minBufferSize:0});z.Hasher=v.extend({init:function(){this.reset();},reset:function(){v.reset.call(this);this._doReset();},update:function(d){this._append(d);this._process();return this;},finalize:function(d){d&&this._append(d);this._doFinalize();return this._hash;},clone:function(){var d=v.clone.call(this);d._hash=this._hash.clone();return d;},blockSize:16,_createHelper:function(d){return function(f,g){return d.create(g).finalize(f);};},_createHmacHelper:function(d){return function(f,g){return a.HMAC.create(d,g).finalize(f);};}});var a=w.algo={};return w;}(Math);(function(){var g=CryptoJS,d=g.lib,h=d.WordArray,d=d.Hasher,c=[],a=g.algo.SHA1=d.extend({_doReset:function(){this._hash=h.create([1732584193,4023233417,2562383102,271733878,3285377520]);},_doProcessBlock:function(r,o){for(var t=this._hash.words,p=t[0],l=t[1],q=t[2],n=t[3],v=t[4],s=0;80>s;s++){if(16>s){c[s]=r[o+s]|0;}else{var u=c[s-3]^c[s-8]^c[s-14]^c[s-16];c[s]=u<<1|u>>>31;}u=(p<<5|p>>>27)+v+c[s];u=20>s?u+((l&q|~l&n)+1518500249):40>s?u+((l^q^n)+1859775393):60>s?u+((l&q|l&n|q&n)-1894007588):u+((l^q^n)-899497514);v=n;n=q;q=l<<30|l>>>2;l=p;p=u;}t[0]=t[0]+p|0;t[1]=t[1]+l|0;t[2]=t[2]+q|0;t[3]=t[3]+n|0;t[4]=t[4]+v|0;},_doFinalize:function(){var j=this._data,l=j.words,n=8*this._nDataBytes,k=8*j.sigBytes;l[k>>>5]|=128<<24-k%32;l[(k+64>>>9<<4)+15]=n;j.sigBytes=4*l.length;this._process();}});g.SHA1=d._createHelper(a);g.HmacSHA1=d._createHmacHelper(a);})();(function(){var c=CryptoJS,a=c.enc.Utf8;c.algo.HMAC=c.lib.Base.extend({init:function(t,v){t=this._hasher=t.create();
"string"==typeof v&&(v=a.parse(v));var q=t.blockSize,o=4*q;v.sigBytes>o&&(v=t.finalize(v));for(var j=this._oKey=v.clone(),u=this._iKey=v.clone(),r=j.words,p=u.words,s=0;s<q;s++){r[s]^=1549556828,p[s]^=909522486;}j.sigBytes=u.sigBytes=o;this.reset();},reset:function(){var d=this._hasher;d.reset();d.update(this._iKey);},update:function(d){this._hasher.update(d);return this;},finalize:function(g){var d=this._hasher,g=d.finalize(g);d.reset();return d.finalize(this._oKey.clone().concat(g));}});})();var DataBubbleManager={bubbles:{},duplicates:{},scripts:[],openBubbles:true,templatesLoaded:false,bubbleTypes:{TICKER:1,CALC:2,CONTENT:3},contentTypes:{TICKER:1,IFRAME:2,INLINE_EXT:3,CONTENT:4,VIDEO:5},popupTypes:{CUSTOM:1,HOVER:2,CLICK:3},positionTypes:{ABOVE:1,BELOW:2,FINDBEST:3},padding:{top:-5,right:25,left:367},templates:{DEFAULT:{uri:"/.element/ssi/tools/5.0/bubble.html",loaded:false}},add:function(c,a){this.bubbles[c]=a;eventLogger.incBubbleCount();},create:function(){var f=$("#bubbleGroup");var d=Math.floor(Math.random()*10101010);var c="popbubble_"+d;var a=$("#popbubble").clone();a.attr("id",c);f.append(a);return a;},init:function(){jQuery("body").append('<div id="bubbleGroup" style="z-index: 10000000000000;"></div>');jQuery("body").click(function(d){if(DataBubbleManager.openBubbles==true){if($(d.target).find("div.innershell").length>0){for(var c in DataBubbleManager.bubbles){var a=DataBubbleManager.bubbles[c];if(a.isOpen&&a.type!=DataBubbleManager.bubbleTypes.CALC){a.close(true);}}}}});},destroyBubbles:function(){jQuery("#bubbleGroup").html("");this.bubbles={};this.duplicates={};while(this.scripts.length>0){var a=this.scripts.pop();a.parentNode.removeChild(a);}},getBubble:function(a){return this.bubbles[a];},getDuplicates:function(f,d){var a=[];for(var c in this.bubbles){if(this.bubbles[bubble_id][f]==d){a.push(this.bubbles[c]);}}return a;},getOriginal:function(d,c){for(var a in this.bubbles){if(this.bubbles[a][d]==c){return this.bubbles[a];}}return null;},loadTemplate:function(a){jQuery("#bubbleGroup").load("/.element/ssi/tools/5.0/bubble.html",a);},loadCSS:function(){},mapDuplicate:function(c,a){if(typeof(this.duplicates[c])=="undefined"){this.duplicates[c]=[];}this.duplicates[c].push(a);},updateDuplicates:function(d){if(typeof(this.duplicates[d])!="undefined"){var f=this.getBubble(d);var a=this.duplicates[d];for(var c=0;c<a.length;c++){this.getBubble(a[c]).insert(f.content);}}}};DataBubbleManager.init();var TICKER_HOST="http://markets.money.cnn.com/services/api/quotehover/?callback=tickerCallback";var updatedTickerList={"RIMM":"BBRY"};function addToList(a,c){if(ms_isLoggedIn()===true){if(!jQuery("#WSOD-add-watchlist-iframe").length){jQuery("body").append('<div id="WSOD-add-watchlist" class="overlay_content"><a href="javascript:void(0)" class="close" onclick="cnnHideOverlays();return false;"></a><iframe src="" id="WSOD-add-watchlist-iframe" name="WSOD-add-watchlist-iframe" frameborder="0" border="0"></iframe></div>');}jQuery("#WSOD-add-watchlist-iframe").attr("src",cnnWSODPrefix+"/secure/watchlist/addSymbol.asp?ticker="+c+"&rnd="+Math.floor(Math.random()*101010101)).parent().cnnShowOverlay();}else{CNN_EMAILS_LOADED=false;CNN_PRIMARY_EMAIL_CONFIRMED=false;cnnShowLoginAddWatchList();}}function updateTicker(c){var a=c;if(typeof(updatedTickerList[c])!="undefined"){a=updatedTickerList[c];}return a;}function getTickerHTML(g,l){var p="";var q=(parseFloat(g.duringDay.pctChange,10)<0)?"down":"up";var o="http://money.cnn.com/quote/quote.html?symb="+g.ticker;var d="http://money.cnn.com/quote/etf/etf.html?symb="+g.ticker;var n="http://money.cnn.com/quote/mutualfund/mutualfund.html?symb="+g.ticker;var a="http://markets.money.cnn.com/secure/watchlist/addSymbol.asp?ticker="+g.ticker;var k={"XAX":"/data/markets/amex/","OIX":"/data/markets/cboe_oil/","INDU":"/data/markets/dow/","DJT":"/data/markets/downtrans/","DJU":"/data/markets/dowutil/","BKX":"/data/markets/kbw_bank/","MSTAR":"/data/markets/mstar/","COMP":"/data/markets/nasdaq/","NYA":"/data/markets/nyse/","SOX":"/data/markets/philsemi/","RUT":"/data/markets/russell/","SPX":"/data/markets/sandp/","XAO":"/data/world_markets/asx100/","ATH":"/data/world_markets/athens_composite/","IBOV":"/data/world_markets/bovespa/","CAC40":"/data/world_markets/cac40/","DAX":"/data/world_markets/dax/","N100":"/data/world_markets/euronext/","UKX":"/data/world_markets/ftse100/","HSI":"/data/world_markets/hang_seng/","MXX":"/data/world_markets/ipc/","IPSA":"/data/world_markets/ipsa/","JKSE":"/data/world_markets/jakarta_composite/","KOSPI":"/data/world_markets/kospi/","MERV":"/data/world_markets/merval/","NZ50":"/data/world_markets/newzealand50/","N225":"/data/world_markets/nikkei225/","OMXS":"/data/world_markets/omx30/","SHCOMP":"/data/world_markets/se_composite/","SENSEX":"/data/world_markets/sensex/","SXXP":"/data/world_markets/stoxx600/","SSMI":"/data/world_markets/swiss/","SETIDX":"/data/world_markets/thailand_se/","TS50":"/data/world_markets/tsec50/","OSP60":"/data/world_markets/tsx60/"};var h="";switch(g.dataType){case"ETF":h=d;break;case"Funds":h=n;break;case"Index":if(typeof(k[g.ticker])!="undefined"){h=k[g.ticker];}break;case"Stock":default:h=o;break;}h=updateLink(h,cnnLinkSelectors["story_bubbles"][1]);p+='<div class="popbody-ticker">';p+='  <div class="boxHeading"><a href="'+h+'">'+g.companyName+"</a><span> ("+g.exchange+": "+g.ticker+")</span></div>";switch(g.dataType){case"Funds":p+='      <div class="marketdata">';p+='          <div class="panel day">';p+='              <span class="label">During the Trading Day</span>';p+='              <span class="price">'+g.duringDay.value+"</span>";p+='              <span class="change '+q+'">';if(typeof(g.duringDay.change)!="undefined"){p+='              <a href="'+h+'">'+g.duringDay.change+"</a> / ";}p+='                  <a href="'+h+'">'+g.duringDay.pctChange+"%</a>";p+="              </span>";p+="          </div>";p+='          <div class="panel">';chartURL=g.duringDay.chart;chartURL_temp=chartURL.split("numDays=");chartURL=chartURL_temp[0]+"numDays=90"+chartURL_temp[1].slice(chartURL_temp[1].indexOf("&"));p+='              <img width="160" height="77" border="0" alt="" src="'+chartURL+'">';p+="          </div>";p+="      </div>";break;case"ETF":case"Stock":default:p+='      <div class="marketdata stock_charts">';p+='          <div class="panel day">';p+='              <span class="label">During the Trading Day</span>';p+='              <span class="price">'+g.duringDay.value+"</span>";p+='              <span class="change '+q+'">';if(typeof(g.duringDay.change)!="undefined"){p+='              <a href="'+h+'">'+g.duringDay.change+"</a> / ";}p+='                  <a href="'+h+'">'+g.duringDay.pctChange+"%</a>";p+="              </span>";p+="          </div>";p+='          <div class="panel">';if(typeof(g.extendedHours)!="undefined"){var f=(parseFloat(g.extendedHours.pctChange,10)<0)?"down":"up";p+='          <span class="label">During '+g.extendedHours.label+"</span>";p+='          <span class="price">'+g.extendedHours.value+"</span>";p+='          <span class="change '+f+'"><a href="'+h+'">'+g.extendedHours.change+'</a> / <a href="'+h+'">'+g.extendedHours.pctChange+"%</a></span>";}else{if(g.duringDay.chart!=""){p+='          <img width="160" height="77" border="0" alt="" src="'+g.duringDay.chart+'">';}}p+="          </div>";p+="      </div>";break;}if(typeof(g.stories)!="undefined"&&g.stories.length>0){p+="  <ul>";for(var j=0;j<g.stories.length;j++){var c=cnnLinkSelectors["story_bubbles"][0];if(isUpdatableLink(g.stories[j].url,c)){g.stories[j].url=updateLink(g.stories[j].url,c);}p+="      <li>";p+='          <span class="status"><a href="'+g.stories[j].url+'">'+g.stories[j].text+"</a></span>";p+='          <span class="cnnDateStamp">'+g.stories[j].dateTime+'</span> / <span class="source">'+g.stories[j].source+"</span>";p+="      </li>";}p+="  </ul>";}p+='      <a class="seeMore" href="'+h+'">FULL QUOTE</a> <a class="addwatchlist" href="javascript:addToList(\''+a+"', '"+g.ticker+"')\">ADD TO WATCH LIST</a>";
p+='  <div class="clearfix"></div>';p+="</div>";return p;}function tickerCallback(h){var a=h.Api;if(a.dataType=="Invalid"){for(var g in DataBubbleManager.bubbles){var c=DataBubbleManager.getBubble(g);if(c.ticker==a.ticker){c.removeTrigger();}}return;}else{var c=DataBubbleManager.getOriginal("ticker",a.ticker);var d=c.bubbleId;var f=getTickerHTML(a,d);c.insert(f);DataBubbleManager.updateDuplicates(d);}}function getVideoHTML(a){var c="";c+='<div class="videoBubble" style="height: 100px;">';c+='  <img width="160" height="90" class="" border="0" src="'+a.image+'" style="float: left; padding-right: 4px;"/>';c+='  <h2><a href="#">'+a.headline+"</a></h2><br/>";c+='  <span class="cnnBlurbTxt">'+a.description+"</span>";c+="</div>";return c;}function DataBubble(h){var l=this;var c=null;var d=null;this.bubbleId=h.bubbleId;this.contentType=h.contentType;this.type=h.type;this.positioning=h.positioning||DataBubbleManager.positionTypes.FINDBEST;this.ticker=(typeof(h.ticker)!="undefined")?h.ticker:null;this.uniqueId=h.uniqueId;this.content=(typeof(h.content)!="undefined")?h.content:"";this.contentURI=(typeof(h.contentURI)!="undefined")?h.contentURI:null;this.useAds=h.useAds||false;this.delayLoad=(typeof(h.delayLoad)!="undefined")?h.delayLoad:false;this.useTracking=h.useTracking||false;this.closeInterval=null;this.closeDelay=250;this.isOpen=false;this.hasBeenDisplayed=false;this.initialDataRequested=false;this.opacityInc=0.15;this.openAnimDelay=1;this.$parent=h.parent;this.popupType=h.popupType||DataBubbleManager.popupTypes.CUSTOM;this.useOpenAnimation=false;this.$link=h.link||null;function a(){window.clearInterval(l.closeInterval);l.closeInterval=null;}function k(){c=$("#"+l.bubbleId);d=c.find(".close_btn");if(l.delayLoad==false){l.insert();}if(l.useOpenAnimation==true){c.css("opacity",0);}if(l.useAds==false){c.find("ul.sponsor_ad").remove();}if(this.contentType==DataBubbleManager.contentTypes.TICKER){try{eventLogger.log("quote","quote_bubble");}catch(n){}}if(l.popupType==DataBubbleManager.popupTypes.HOVER){d.addClass("hide");c.mouseenter(function(o){DataBubbleManager.getBubble(l.bubbleId).keepAlive();});c.mouseleave(function(p){var o=$(p.currentTarget);if(o.hasClass("popbub")){DataBubbleManager.getBubble(l.bubbleId).hide();}});l.$parent.mouseover(function(p){var o=DataBubbleManager.getBubble(l.bubbleId);if(o.hasContent){o.show();o.setPosition($(this),p);}});l.$parent.mouseout(function(o){DataBubbleManager.getBubble(l.bubbleId).hide();});}else{if(l.popupType==DataBubbleManager.popupTypes.CLICK){d.click(function(o){l.close(true);return false;});l.$parent.click(function(p){var o=DataBubbleManager.getBubble(l.bubbleId);if(o.isOpen){if($(p.target).is("a")){o.close(true);}}else{if(o.hasContent){o.setPosition($(this),p);o.show();}}return false;});}}}function g(n){l.content=n;c.find("div.popbody").html(n);l.hasContent=(n=="")?false:true;}function f(){if(l.hasBeenDisplayed==true){return;}if(l.useAds&&c.find("ul.sponsor_ad > li").length==0){var o=[(parseInt(Math.random()*1000000))];try{var n="";n+="  <li>";n+='    <div id="ad_mod_'+o[0]+'">';n+="    </div>";n+="  </li>";c.find("ul.sponsor_ad").append(n);AMPTManager.renderSingleSlot("ad_mod_"+o[0],[[300,100]],[["transId",cnnad_transactionID],["kuid",Krux.user],["ksg",Krux.segments],["guid",AMPTManager.readCookie("ug")],["pos",["mod"]],["mod",["hover"]]],[],"8663477/CNNMoney",0);}catch(p){console.log("Error rendering singleton: "+p.message);}}}function j(){if(l.useOpenAnimation==true){c.css("opacity",this.opacityInc);c.show();l.isOpen=true;var n=window.setInterval(function(){var o=parseFloat(c.css("opacity"),10);if(o>=1){o=1;window.clearInterval(n);n=null;}else{o+=l.opacityInc;}c.css("opacity",o);},l.openAnimDelay);}else{c.show();l.isOpen=true;}l.hasBeenDisplayed=true;}this.close=function(n){if(typeof(n)=="undefined"){var n=false;}if(n==false){if(this.closeInterval==null){return;}}a();c.hide();this.isOpen=false;};this.getBubble=function(){return c;};this.hide=function(){if(this.closeInterval!=null){return;}this.closeInterval=window.setInterval("DataBubbleManager.getBubble('"+l.bubbleId+"').close()",l.closeDelay);};this.insert=function(p){if(p){g(p);return;}if(this.initialDataRequested==true){g(this.content);return;}this.initialDataRequested=true;switch(this.contentType){case DataBubbleManager.contentTypes.TICKER:var o=document.createElement("script");o.setAttribute("type","text/javascript");o.src=TICKER_HOST+"&symb="+this.ticker;document.body.appendChild(o);DataBubbleManager.scripts.push(o);break;case DataBubbleManager.contentTypes.VIDEO:$.ajax({url:"/video/data/4.0/"+this.uniqueId+".xml",dataType:"xml",context:document.body,success:function(t,v,s){$root=$(t.documentElement);var r=$(t.documentElement).find("description").text();var q=$(t.documentElement).find("headline").text();var u=$(t.documentElement).find("images > image[width=124]").text();var t=getVideoHTML({description:r,headline:q,image:u});g(t);}});break;case DataBubbleManager.contentTypes.IFRAME:g('<iframe src="'+this.contentURI+'" border="0" frameborder="0" width="376" height="328" scrolling="no"></iframe>');break;case DataBubbleManager.contentTypes.INLINE_EXT:var n=this.bubbleId;$.ajax({url:this.contentURI,dataType:"html",context:document.body,cache:true,success:function(r,s,q){g(r);DataBubbleManager.updateDuplicates(n);}});break;case DataBubbleManager.contentTypes.CONTENT:g(this.content);break;}};this.keepAlive=function(){a();};this.removeTrigger=function(){jQuery("<span>"+this.ticker+"</span>").insertBefore(this.$link);this.$link.remove();};this.setPosition=function(q,n){var o=$(window);var B=o.scrollTop();var A=o.height();var z=q.closest(".column");var t=container_offsety=0;if(z.length>0&&z.css("position")=="relative"){var y=z.offset();t=y.left;container_offsety=y.top;}var r=q[0].offsetTop+container_offsety;var s=q[0].offsetLeft+t;var w=c.width();var p=c.height();var v=s-28;var u=r+q[0].offsetHeight-5;if((s+w)<document.body.offsetWidth){c.find(".pinch").removeClass("right");}else{v=(s-w)+45;c.find(".pinch").addClass("right");}switch(this.positioning){case DataBubbleManager.positionTypes.ABOVE:u=r-p+5;c.addClass("pinchbot");c.removeClass("pinchtop");break;case DataBubbleManager.positionTypes.BELOW:default:u=r+q[0].offsetHeight-5;c.addClass("pinchtop");c.removeClass("pinchbot");break;case DataBubbleManager.positionTypes.FINDBEST:if(((r-B)>=(B+A-r))&&(r>=p)){u=r-p+5;c.addClass("pinchbot");c.removeClass("pinchtop");}else{u=r+q[0].offsetHeight-5;c.addClass("pinchtop");c.removeClass("pinchbot");}break;}c.css({"left":v,"top":u});};this.setPosition2=function(q,n){var o=$(window);var z=o.scrollTop();var y=o.height();var w=$("#storycontent").offset().left;var s=q[0].offsetLeft;var r=q[0].offsetTop;var v=c.width();var p=c.height();var u=s-28;var t=r+5;if((s-w)>=v){u=(q[0].offsetLeft-v)+45;c.find(".pinch").addClass("right");}else{c.find(".pinch").removeClass("right");}switch(this.positioning){case DataBubbleManager.positionTypes.ABOVE:t=t-p;c.addClass("pinchbot");c.removeClass("pinchtop");break;case DataBubbleManager.positionTypes.BELOW:c.addClass("pinchtop");c.removeClass("pinchbot");break;case DataBubbleManager.positionTypes.FINDBEST:if(((r-z)>=(z+y-r))&&(r>=p)){t=t-p;c.addClass("pinchbot");c.removeClass("pinchtop");}else{c.addClass("pinchtop");c.removeClass("pinchbot");}break;}c.css({"left":u,"top":t});};this.show=function(){a();if(this.isOpen){return;}if(this.useTracking==true){try{eventLogger.log("quotehover","quote_bubble");}catch(o){}}if(!this.hasBeenDisplayed){f();}j();if(this.initialDataRequested==false){if(this.contentType==DataBubbleManager.bubbleTypes.TICKER){var n=DataBubbleManager.getOriginal("ticker",this.ticker);if(!n){n=this;}setTimeout(function(){n.insert();},500);}else{this.insert();}}};k();}if(typeof CNNM==="undefined"){var CNNM={};}if(typeof cnnmsocial==="undefined"){var cnnmsocial={};}cnnmsocial.facebook={shareURL:"",btn_class:"js-share-fb",btnlike_class:"js-share-fbrec",$btn_like:null,likereaction:null,verb:"recommend",showcount_like:true,appID:"",killswitch:false,addbutton:function(c,d){c.append(this.getbutton(d));
var a=c.find("."+this.btn_class);this.addshareonlick(a);if(typeof d==="undefined"){this.$btn=a;}},addlikebutton:function(a){if(CNNM.Social.browser.cnnIE6){return;}a.append('<span class="fbrec '+this.btnlike_class+'">'+this.getlikebutton()+"</span>");this.$btn_like=a.parent().find("."+this.btnlike_class);},addshareonlick:function(a){if(jQuery.isFunction(jQuery.fn.on)){a.on("click",function(c){c.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"facebook","height=300,width=665");eventLogger.social_track("fb-share");return false;});}else{a.live("click",function(c){c.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"facebook","height=300,width=665");eventLogger.social_track("fb-share");return false;});}},refresh:function(a){var d;var c;var f=false;if(typeof a==="undefined"||a==null){return;}d=a.find("."+this.btn_class);c=a.find("."+this.btnlike_class);if(d.length){d.replaceWith(this.getbutton());f=true;var d=a.find("."+this.btn_class);this.addshareonlick(d);}if(c.length){c.html(this.getlikebutton());f=true;}if(f){this.loadscript();}},getbutton:function(g){g=g||{};var c="";var a=(typeof g.url!=="undefined")?g.url:this.shareURL;var h=(typeof g.title!=="undefined")?g.title:this.title;var f=encodeURIComponent(a);var d=encodeURIComponent(h);c+='<a class="icon icon--social-facebook '+this.btn_class+'" href="http://www.facebook.com/share.php?'+"u="+f+"&title="+d+'" target="new"></a>';return c;},getlikebutton:function(){var a="";if(CNNM.Social.browser.cnnIE6){return;}a='<div class="fb-like" data-action="'+this.verb+'" '+'data-href="'+this.shareURL+'"';if(this.showcount_like){a+=' data-layout="button_count"';}a+=' data-send="false" data-width="90" data-show-faces="false"></div>';return a;},setoverrides:function(a){if(CNNM.Social.browser.cnnIE6){return;}if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.verb!=="undefined"){this.verb=a.verb;}if(typeof a.showcount_like!=="undefined"){this.showcount_like=a.showcount_like;}if(typeof a.likereaction!=="undefined"){this.likereaction=a.likereaction;}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},customshare:function(a){url=a.url;pic=a.pic;title=a.title;caption=a.caption;desc=a.desc;var c={method:"feed",link:url,picture:pic,name:title,caption:caption,description:desc};function d(f){}FB.ui(c,d);eventLogger.social_track("fb-share",url);},loadscript:function(){if(CNNM.Social.browser.cnnIE6){return;}console.log(jQuery("#fb-root").length);if(!jQuery("#fb-root").length){cnnmsocial.facebook.setAppId(CNNM.Social.source);window.fbAsyncInit=function(){FB.init({appId:cnnmsocial.facebook.appID,xfbml:true,version:"v2.6"});if(cnnmsocial.facebook.likereaction!==null){FB.Event.subscribe("edge.create",function(a){cnnmsocial.facebook.likereaction();});}FB.Event.subscribe("edge.create",function(){eventLogger.social_track("fb-like",CNNM.Social.socialtrack_URL);CNNM.Social.settrackURL();});FB.Event.subscribe("edge.remove",function(){eventLogger.social_track("fb-like",CNNM.Social.socialtrack_URL);CNNM.Social.settrackURL();});FB.XFBML.parse();};jQuery("body").append('<div id="fb-root"></div>');(function(g,a,h){var f,c=g.getElementsByTagName(a)[0];if(g.getElementById(h)){return;}f=g.createElement(a);f.id=h;f.src="//connect.facebook.net/en_US/sdk.js";c.parentNode.insertBefore(f,c);}(document,"script","facebook-jssdk"));}else{FB.XFBML.parse();}},setAppId:function(a){switch(a){case (cnnm_sourcing.sourceTypes.moneymag):cnnmsocial.facebook.appID="459366314150755";break;case (cnnm_sourcing.sourceTypes.fortune):cnnmsocial.facebook.appID="381685278607014";break;default:cnnmsocial.facebook.appID="521848191196480";break;}},init:function(){this.shareURL=CNNM.Social.shareURL;this.title=CNNM.Social.shareTitle;}};cnnmsocial.twitter={shareURL:"",btn_class:"js-share-tw",getCountURL:"",bitlyURL:"",source:"CNNMoney",related:"",description:"",count:"horizontal",eventsbound:false,killswitch:false,via:true,addbutton:function(a,d){a.append(this.getbutton(d));var c=a.find("."+this.btn_class);if(jQuery.isFunction(jQuery.fn.on)){c.on("click",function(g){g.preventDefault();jQuery(".popover").removeClass("active");var f=$(this).attr("data-href");window.open(f,"twitter","height=300,width=665");eventLogger.social_track("twt-tweet");return false;});}else{c.live("click",function(f){f.preventDefault();return false;});}},refresh:function(a){var c;if(typeof a==="undefined"||a==null){return;}c=a.find("."+this.btn_class);if(c.length){c.replaceWith(this.getbutton());this.loadscript();}},getbutton:function(j){j=j||{};var c="";var f=(typeof j.title!=="undefined")?j.title:this.description;var a=(typeof j.url!=="undefined")?j.url:this.shareURL;var h="";var d="";var g="";f=$("<div/>").html(f).text();h=f;if(j.url===undefined){if(this.bitlyURL!=""){a=this.bitlyURL;}g=this.related;}else{g=this.getRelated(null);}d=encodeURIComponent(h);g=encodeURIComponent(this.related);c='<a class="icon icon--social-twitter '+this.btn_class+'"  href="https://twitter.com/intent/tweet?'+"text="+d+"&via="+this.source+"&related="+g+"&url="+a+'">'+"</a>";return c;},setoverrides:function(a){a=a||{};if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.bitlyURL!=="undefined"){this.bitlyURL=a.bitlyURL;}if(typeof a.related!=="undefined"){this.related=a.related;}if(typeof a.source!=="undefined"){this.source=a.source;}if(typeof a.title!=="undefined"){this.description=a.title;}if(typeof a.hashes!=="undefined"){this.description+=" "+a.hashes;}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}if(typeof a.via!=="undefined"){this.via=a.via;}},getRelated:function(c){var a="";switch(c){case"Investing":a="CNNMoneyInvest";break;case"Small Business":a="CNNMoneySmBiz";break;case"Technology":case"Mobile":case"Enterprise":case"Innovation":case"Security":case"Social":a="CNNTech:For news and features on the day's hottest technology stories,CNNTechGadgets:For gadget-related news and reviews from our tech team";break;case"Personal Finance":case"Real Estate":case"Retirement":case"Autos":case"College":case"Insurance":case"Jobs":case"Taxes":a="CNNMoneyPF:For news and features on the most compelling personal finance stories";break;default:a="CNNMoney:Breaking news and in-depth looks at the most important business stories of the day.";break;}return a;},setRelated:function(){this.related=this.getRelated(cnnSection);},bindevents:function(){if(!this.eventsbound){try{twttr.ready(function(c){c.events.bind("click",function(d){eventLogger.social_track("twt-tweet",CNNM.Social.socialtrack_URL);});c.events.bind("tweet",function(d){eventLogger.social_track("twt-tweet",CNNM.Social.socialtrack_URL);});c.events.bind("retweet",function(d){eventLogger.social_track("twt-retweet",CNNM.Social.socialtrack_URL);});c.events.bind("favorite",function(d){eventLogger.social_track("twt-favorite",CNNM.Social.socialtrack_URL);});c.events.bind("follow",function(d){eventLogger.social_track("twt-follow",CNNM.Social.socialtrack_URL);});CNNM.Social.settrackURL();});this.eventsbound=true;}catch(a){}}},loadscript:function(){try{if(typeof twttr!=="undefined"){twttr.widgets.load();}else{window.twttr=(function(k,g,l){var f,j,h=k.getElementsByTagName(g)[0];if(k.getElementById(l)){return;}j=k.createElement(g);j.id=l;j.src="//platform.twitter.com/widgets.js";h.parentNode.insertBefore(j,h);return window.twttr||(f={_e:[],ready:function(n){f._e.push(n);}});}(document,"script","twitter-wjs"));var d=document.querySelectorAll("."+cnnmsocial.twitter.btn_class);for(i=0;i<d.length;i++){var a=document.createElement("span");a.innerHTML=cnnmsocial.twitter.getbutton();a.querySelector("a").href=d[i].href;d[i].parentNode.replaceChild(a.childNodes[0],d[i]);}binder=setTimeout(cnnmsocial.twitter.bindevents,1500);}}catch(c){}},customshare:function(a){url=encodeURIComponent(a.url);desc=encodeURIComponent(a.desc);via="";if(typeof(a.via)!=="undefined"){via="&via="+a.via;}window_href="http://twitter.com/share?count=vertical"+"&original_referer="+url+"&text="+desc+"&url="+url+"&via="+via;
window_name="intent";window_conf="left=685, top=350, width=550px, height=380px, scrollbars=no, status=no";openWindow(window_href,window_name,window_conf);eventLogger.social_track("twt-tweet",url);},init:function(){this.shareURL=CNNM.Social.shareURL;this.description=CNNM.Social.shareTitle;this.setRelated();if(typeof cnntweetDesc!=="undefined"){this.description=cnntweetDesc;}}};cnnmsocial.linkedin={shareURL:"",btn_class:"js-share-linkedin",source:"CNNMoney",description:"",linkedInLoaded:false,killswitch:false,addbutton:function(a,d){a.append(this.getbutton(d));var c=a.find(" ."+this.btn_class);if(typeof d==="undefined"){this.$btn=c;}},refresh:function(a){var c;if(typeof a==="undefined"||a==null){return;}c=a.find("."+this.btn_class);if(c.length){c.replaceWith(this.getbutton());cnnmsocial.linkedin.linkedInLoaded=false;}},getbutton:function(h){h=h||{};var d="";var a=(typeof h.url!=="undefined")?h.url:this.shareURL;var k=(typeof h.title!=="undefined")?h.title:this.description;var g=encodeURIComponent(a+"?source=linkedin");var f=encodeURIComponent(k);var j="scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=600,height=450,left=0,top=0";var c=href="http://www.linkedin.com/shareArticle?mini=true&"+"source="+this.source+"&url="+g+"&title="+f;c=c.replace(/["']/g,"\\$&");d+='<a class="icon icon--social-linkedin '+this.btn_class+'"'+" onclick=\"openWindow('"+c+"','linkedin', '"+j+"');"+' eventLogger.social_track(\'lin-share\'); return false;" target="new" >'+"</a>";return d;},setoverrides:function(a){a=a||{};if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.title!=="undefined"){this.description=a.title;}if(typeof a.source!=="undefined"){this.setSource(a.source);}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},setSource:function(a){switch(a){case (cnnm_sourcing.sourceTypes.moneymag):this.source="Money Magazine";break;case (cnnm_sourcing.sourceTypes.fortune):this.source="Fortune Magazine";break;default:this.source="CNNMoney";break;}},loadscript:function(){if(!jQuery("#linkedin_script").length){jQuery("head").append('<div id="linkedin_script"></div>');}var a=document.createElement("script");a.type="text/javascript";a.src="http://platform.linkedin.com/in.js";document.getElementById("linkedin_script").appendChild(a);},init:function(){this.shareURL=CNNM.Social.shareURL;this.description=CNNM.Social.shareTitle;this.setSource(CNNM.Social.source);}};cnnmsocial.gplus={shareURL:"",btn_class:"js-share-gplus",annotation:"bubble",killswitch:false,addbutton:function(a,d){a.append(this.getbutton(d));var c=a.find("."+this.btn_class);if(jQuery.isFunction(jQuery.fn.on)){c.on("click",function(f){f.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"gplus","height=400,width=665");eventLogger.social_track("goog-plus");return false;});}else{c.live("click",function(f){f.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"gplus","height=500,width=480");eventLogger.social_track("goog-plus");return false;});}if(typeof d==="undefined"){this.$btn=c;}},refresh:function(a){var c;if(typeof a==="undefined"||a==null){return;}c=a.find("."+this.btn_class);if(c.length){c.replaceWith(this.getbutton());}},getbutton:function(d){d=d||{};var a=d.url||this.shareURL;var c=encodeURIComponent(a);return'<a class="icon icon--social-googleplus '+this.btn_class+'" href="https://plus.google.com/share?'+"url="+c+'"'+' class="">'+"<span></span>"+"</a>";},setoverrides:function(a){a=a||{};if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.annotation!=="undefined"){this.annotation=a.annotation;}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},init:function(){this.shareURL=CNNM.Social.shareURL;}};gplus_track=function(a){eventLogger.social_track("goog-plus");};cnnmsocial.pinterest={shareURL:"",btn_class:"js-share-pinterest",imageURL:"",description:"",killswitch:false,addbutton:function(a,d){a.append(this.getbutton(d));var c=a.find(" ."+this.btn_class);if(jQuery.isFunction(jQuery.fn.on)){c.on("click",function(f){f.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"pinterest","height=300,width=665");eventLogger.social_track("pin-share");return false;});}else{c.live("click",function(f){f.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"pinterest","height=300,width=665");eventLogger.social_track("pin-share");return false;});}if(typeof d==="undefined"){this.$btn=c;}},refresh:function(a){var c;if(typeof a==="undefined"||a==null){return;}c=a.find("."+this.btn_class);if(c.length){c.replaceWith(this.getbutton());}},getbutton:function(f){f=f||{};var h;var d=f.url||this.shareURL;var j=f.title||this.description;var a=f.image||this.imageURL;var g=encodeURIComponent(d);var c=encodeURIComponent(a);var l=encodeURIComponent(j);var k="false";if(CNNM.Social.pagetype==CNNM.Social.pagetypes.video){k="true";}h='<a class="icon icon--social-pinterest '+this.btn_class+'" href="http://pinterest.com/pin/create/bookmarklet/?is_video='+k+"&url="+g+"&media="+c+"&description="+l+'"'+' class="">'+"<span></span>"+"</a>";return h;},setoverrides:function(a){a=a||{};if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.image!=="undefined"){this.imageURL=a.image;}if(typeof a.description!=="undefined"){this.description=a.description;}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},loadscript:function(){},init:function(){this.shareURL=CNNM.Social.shareURL;this.imageURL=CNNM.Social.shareImage;this.description=CNNM.Social.shareTitle;}};cnnmsocial.reddit={shareURL:"",btn_class:"js-share-reddit",title:"",killswitch:false,addbutton:function(a,d){a.append(this.getbutton(d));var c=a.find("."+this.btn_class);if(jQuery.isFunction(jQuery.fn.on)){c.on("click",function(f){f.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"reddit","height=600,width=850");eventLogger.social_track("reddit-share");return false;});}else{c.live("click",function(f){f.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"reddit","height=600,width=850");eventLogger.social_track("reddit-share");return false;});}if(typeof d==="undefined"){this.$btn=c;}},refresh:function(a){var c;if(typeof a==="undefined"||a==null){return;}c=a.find("."+this.btn_class);if(c.length){c.replaceWith(this.getbutton());}},getbutton:function(g){g=g||{};var a=g.url||this.shareURL;var h=g.title||this.title;var f=encodeURIComponent(a);var d=encodeURIComponent(h);var c="http://www.reddit.com/submit?"+"url="+f+"&title="+d;return'<a class="icon icon--social-reddit '+this.btn_class+'" href="'+c+'"'+' class=""><span></span>'+"</a>";},setoverrides:function(a){a=a||{};if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.title!=="undefined"){this.title=a.title;}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},init:function(){this.shareURL=CNNM.Social.shareURL;this.title=CNNM.Social.shareTitle;}};cnnmsocial.stumbleupon={shareURL:"",btn_class:"js-share-stumbleupon",title:"",killswitch:false,addbutton:function(a,d){a.append(this.getbutton(d));var c=a.find(" ."+this.btn_class);if(jQuery.isFunction(jQuery.fn.on)){c.on("click",function(f){f.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"stumbleupon","height=600,width=850");eventLogger.social_track("stumbleupon-share");return false;});}else{c.live("click",function(f){f.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"stumbleupon","height=600,width=850");eventLogger.social_track("stumbleupon-share");return false;});}},refresh:function(a){var c;if(typeof a==="undefined"||a==null){return;}c=a.find("."+this.btn_class);if(c.length){c.replaceWith(this.getbutton());}},getbutton:function(g){g=g||{};var a=g.url||this.shareURL;var h=g.title||this.title;var f=encodeURIComponent(a);var d=encodeURIComponent(h);var c="http://www.stumbleupon.com/submit?"+"url="+f+"&title="+d;return'<a class="icon icon--social-stumbleupon '+this.btn_class+'" href="'+c+'">'+"</a>";
},setoverrides:function(a){a=a||{};if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.title!=="undefined"){this.title=a.title;}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},init:function(){this.shareURL=CNNM.Social.shareURL;this.title=CNNM.Social.shareTitle;}};cnnmsocial.email={shareURL:"",btn_class:"js-share-mail",shareTitle:"",shareText:"",buttontag_contents:"",killswitch:false,addbutton:function(a,d){a.append(this.getbutton(d));var c=a.find("."+this.btn_class);if(jQuery.isFunction(jQuery.fn.on)){c.on("mousedown",function(f){f.preventDefault();jQuery(".popover").removeClass("active");eventLogger.social_track("email");return false;});}else{c.live("mousedown",function(f){f.preventDefault();jQuery(".popover").removeClass("active");eventLogger.social_track("email");return false;});}if(typeof d==="undefined"){this.$btn=c;}},refresh:function(a){var c;if(typeof a==="undefined"||a==null){return;}c=a.find("."+this.btn_class);if(c.length){c.replaceWith(this.getbutton());this.loadscript();}},getbutton:function(c){c=c||{};var a=c.url||this.shareURL;var d=c.title||this.shareTitle;d=encodeURIComponent(d);this.shareText="Check out this story on CNNMoney: "+a;this.shareText=encodeURIComponent(this.shareText);return'<a href="javascript:void(0)" class="st_email_custom icon icon--social-mail '+this.btn_class+'" st_url="'+a+'" st_title="'+d+'" st_summary="'+this.shareText+'"></a>';},setoverrides:function(a){a=a||{};if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.title!=="undefined"){this.shareTitle=a.title;}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},loadscript:function(){try{if(jQuery(".st_email_custom").length){stLight.options({publisher:"b8241a5c-6fa7-404a-9989-13f94cdfff16",url:this.shareURL,title:this.shareTitle,text:this.shareText,onhover:false});stButtons.locateElements();}}catch(a){}},init:function(){this.shareURL=CNNM.Social.shareURL;this.shareTitle=CNNM.Social.shareTitle;}};cnnmsocial.print={btn_class:"js-share-print",buttontag_contents:"",killswitch:false,addbutton:function(a,d){a.append('<li class="print">'+this.getbutton()+"</li>");var c="."+this.btn_class;if(jQuery.isFunction(jQuery.fn.on)){c.on("click",function(f){f.preventDefault();jQuery(".popover").removeClass("active");cnnmsocial.print.print();eventLogger.social_track("print");return false;});}else{c.live("click",function(f){f.preventDefault();jQuery(".popover").removeClass("active");cnnmsocial.print.print();eventLogger.social_track("print");return false;});}if(typeof d==="undefined"){this.$btn=c;}},refresh:function(a){var c;if(typeof a==="undefined"||a==null){return;}c=a.find("."+this.btn_class);if(c.length){c.replaceWith(this.getbutton());}},getbutton:function(a){a=a||{};return'<a class="icon icon--social-print '+this.btn_class+'" href="javascript:void(0)" class=""></a>';},setoverrides:function(a){a=a||{};if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},print:function(){window.print();return false;},init:function(){this.shareURL=CNNM.Social.shareURL;}};cnnmsocial.embed={shareURL:"",btn_class:"js-share-embed",shareTitle:"",buttontag_contents:"",embedscript:"",killswitch:false,addbutton:function(a,d){this.setbutton();a.append(this.buttontag_contents);var c=a.find("."+this.btn_class+"");c.on("click",function(f){var g=jQuery(this);f.preventDefault();jQuery(".popover, .popup-menu").each(function(){if(!jQuery(this).is(g.children()[0])){jQuery(this).removeClass("active");}});jQuery(this).find(".popover").toggleClass("active");eventLogger.social_track("embed");jQuery("#embedCode").val(cnnmsocial.embed.embedscript).focus(function(){$(this).select();}).mouseup(function(h){h.preventDefault();}).trigger("focus");return false;});jQuery("html").on("click",function(f){if(jQuery(f.target).closest(".popover").get(0)==null){jQuery(".popover").removeClass("active");}});if(typeof d==="undefined"){this.$btn=c;}},refresh:function(a){var c;if(typeof a==="undefined"||a==null){return;}c=a.find("."+this.btn_class);if(c.length){this.setembedscript();jQuery("#embedCode").val(cnnmsocial.embed.embedscript);}},setbutton:function(){this.buttontag_contents='<a class="embed_custom icon icon--social-embed '+this.btn_class+'">'+'<div class="popover">'+'<div class="popoverHed">Embed</div>'+'<input id="embedCode" type="text" value="" />'+"</div></a>";this.setembedscript();},setoverrides:function(a){a=a||{};if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},setembedscript:function(){var c=this.shareURL;var d=location.host;var a="i.cdn.turner.com/money";c=c.replace("http://money.cnn.com/","");indexLoc=c.indexOf("index.htm");c=(indexLoc!=-1)?c.substring(0,indexLoc):c;c=(c.charAt(c.length-1)=="/")?c.substring(0,c.length-1):c;if((d.indexOf("preview2.ref")>-1)||(d.indexOf("dev.money.cnn.com")>-1)||(d.indexOf("ref2.money.cnn.com")>-1)||(d.indexOf("train.money")>-1)){a=d;}this.embedscript="<script src='http://"+a+"/.element/script/7.0/players/embed.js?videoid="+c+"'><\/script>";},init:function(){this.shareURL=CNNM.Social.shareURL;}};cnnmsocial.link={shareURL:"",btn_class:"js-share-link",buttontag_contents:"",killswitch:false,addbutton:function(a,d){this.setbutton();a.append(this.buttontag_contents);var c=a.find("."+this.btn_class);c.on("click",function(f){var g=jQuery(this);f.preventDefault();jQuery(".popover, .popup-menu").each(function(){if(!jQuery(this).is(g.children()[0])){jQuery(this).removeClass("active");}});jQuery(this).find(".popover").toggleClass("active");eventLogger.social_track("link");jQuery("#linkValue").val(cnnmsocial.link.shareURL).focus(function(){$(this).select();}).mouseup(function(h){h.preventDefault();}).trigger("focus");return false;});jQuery("html").on("click",function(f){if(jQuery(f.target).closest(".popover").get(0)==null){jQuery(".popover").removeClass("active");}});if(typeof d==="undefined"){this.$btn=c;}},refresh:function(a){var c;if(typeof a==="undefined"||a==null){return;}c=a.find("."+this.btn_class);if(c.length){c.replaceWith(this.buttontag_contents);}},setbutton:function(){this.buttontag_contents='<a class="icon icon--social-link '+this.btn_class+'">'+'<div class="popover">'+'<div class="popoverHed">Link</div>'+'<input id="linkValue" type="text" value="" />'+"</div></a>";},setoverrides:function(a){a=a||{};if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}if(typeof a.url!=="undefined"){this.shareURL=a.url;}},init:function(){this.shareURL=CNNM.Social.shareURL;}};cnnmsocial.bitly={getbitlyURL:function(){bitlyGrab=$("link[rel=shortlink]").eq(0).attr("href");bitlyurl=(typeof bitlyGrab!=="undefined")?bitlyGrab:"";if(bitlyurl!=""){CNNM.Social.bitlyupdate(bitlyurl);}}};cnnmsocial.morebutton={shareURL:"",btn_class:"js-share-more",popupclass:"js-share-more-popup",sharelist:[],$popupmenu:null,killswitch:false,addbutton:function(a,d){if(this.sharelist.length==0){return;}a.append(this.getbutton(d));var c=a.find("."+this.btn_class);if(jQuery.isFunction(jQuery.fn.on)){c.on("click",function(f){var g=jQuery(this);f.preventDefault();jQuery(".popover, .popup-menu").each(function(){if(!jQuery(this).is(g.children()[0])){jQuery(this).removeClass("active");}});jQuery(this).find("."+cnnmsocial.morebutton.popupclass).toggleClass("active");return false;});jQuery("html").on("click",function(f){if(jQuery(f.target).closest("."+cnnmsocial.morebutton.popupclass).get(0)==null){jQuery("."+cnnmsocial.morebutton.popupclass).removeClass("active");}});}else{c.live("click",function(f){var g=jQuery(this);f.stopPropagation();f.preventDefault();jQuery(".popover, .popup-menu").each(function(){if(!jQuery(this).is(g.children()[0])){jQuery(this).removeClass("active");}});jQuery(this).find("."+cnnmsocial.morebutton.popupclass).toggleClass("active");return false;});jQuery("html").live("click",function(f){if(jQuery(f.target).closest("."+cnnmsocial.morebutton.popupclass).get(0)==null){jQuery("."+cnnmsocial.morebutton.popupclass).removeClass("active");}});}if(typeof d==="undefined"){this.$btn=c;
}this.addpopupmenu(a.find("."+this.popupclass),d);},addpopupmenu:function(a,d){d=d||{};var c=this.sharelist;if(typeof d!=="undefined"){c=(d.morelist)||c;}for(i=0;i<c.length;i++){c[i].addbutton(a);}},getbutton:function(a){a=a||{};return'<a class="icon icon--social-more '+this.btn_class+'"><div class="popup-menu '+this.popupclass+'"></div></a>';},setsharelist:function(a){this.sharelist=a;},setoverrides:function(a){a=a||{};if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},refresh:function(a,d){var c;if(typeof a==="undefined"||a==null){return;}$popupmenu=a.find("."+this.popupclass);$popupmenu.empty();this.addpopupmenu($popupmenu,d);},init:function(){}};CNNM.Social={sharebars:{$main:null,$main_btnsbins:null,$float:null,$float_btnsbins:null},buttonset_main:[],buttonset_more:[],enableRefresh:false,positions:{float_start_selector:".js-social-anchor-start, .cnnCol_main",float_end_selector:".js-social-anchor-end, footer.footer, #cnnFooter",float_start:0,float_end:9999,is_floating:false,float_hidden:true,scroll_last_position:0},pagetypes:{story:1,video:2,gallery:3,quiz:4,poll:5,listspecial:6,calc:7,interactive:8,landing:9},pagetype:0,shareURL:"http://"+location.host+location.pathname,sharePath:location.pathname,bitlyURL:"",shareTitle:document.title,shareImage:"",source:"",showcount:true,socialtrack_URL:null,browser:{win:(navigator.platform.toLowerCase().indexOf("win32")==-1)?"":" win",mac:(navigator.platform.toLowerCase().indexOf("mac")==-1)?false:true,cnnIE:(navigator.userAgent.toLowerCase().indexOf("msie")==-1)?false:true,cnnIE6:(navigator.userAgent.toLowerCase().indexOf("msie 6")==-1)?false:true,cnnIE7:(navigator.userAgent.toLowerCase().indexOf("msie 7")==-1)?false:true,cnnIE8:(navigator.userAgent.toLowerCase().indexOf("msie 8")==-1)?false:true,cnnFF:(navigator.userAgent.toLowerCase().indexOf("firefox")==-1)?false:true,cnnChrome:(navigator.userAgent.toLowerCase().indexOf("chrome")==-1)?false:true},setpagetype:function(){if(this.shareURL.match("/video/")){this.pagetype=this.pagetypes.video;}else{if(this.shareURL.match("/galleries/")||this.shareURL.match("/gallery/")){this.pagetype=this.pagetypes.gallery;}else{if(this.shareURL.match("/quizzes/")){this.pagetype=this.pagetypes.quiz;}else{if(this.shareURL.match("/poll/")){this.pagetype=this.pagetypes.poll;}else{if(this.shareURL.match("/tools/")||this.shareURL.match("/calculator/")){this.pagetype=this.pagetypes.calc;}else{if(this.shareURL.match(/(money.cnn.com\/[\d]{4}\/[\d]{2}\/[\d]{2}\/)\w+\//g)){this.pagetype=this.pagetypes.story;}else{if(this.shareURL.match("/infographic/")||this.shareURL.match("/interactive/")){this.pagetype=this.pagetypes.interactive;}else{this.pagetype=this.pagetypes.landing;}}}}}}}if((typeof cnnmsoc_overrides!=="undefined")&&(typeof cnnmsoc_overrides.global!=="undefined")&&(typeof cnnmsoc_overrides.global.pagetype!=="undefined")){switch(cnnmsoc_overrides.global.pagetype){case ("story"):case ("video"):case ("gallery"):case ("quiz"):case ("poll"):case ("listspecial"):case ("calculator"):case ("landing"):this.pagetype=this.pagetypes[cnnmsoc_overrides.global.pagetype];break;case ("infographic"):case ("interactive"):this.pagetype=this.pagetypes["interactive"];break;default:break;}}},setbuttonsets:function(){switch(this.pagetype){case (this.pagetypes.video):if(!cnnmsocial.link.killswitch){this.buttonset_main.push(cnnmsocial.link);}if(!cnnmsocial.embed.killswitch){this.buttonset_main.push(cnnmsocial.embed);}default:if(!cnnmsocial.linkedin.killswitch){this.buttonset_main.unshift(cnnmsocial.linkedin);}if(!cnnmsocial.twitter.killswitch){this.buttonset_main.unshift(cnnmsocial.twitter);}if(!cnnmsocial.facebook.killswitch){this.buttonset_main.unshift(cnnmsocial.facebook);}if(!cnnmsocial.email.killswitch){this.buttonset_main.unshift(cnnmsocial.email);}break;}if(!cnnmsocial.morebutton.killswitch){this.buttonset_main.push(cnnmsocial.morebutton);if(!cnnmsocial.pinterest.killswitch){this.buttonset_more.push(cnnmsocial.pinterest);}if(!cnnmsocial.stumbleupon.killswitch){this.buttonset_more.push(cnnmsocial.stumbleupon);}if(!cnnmsocial.gplus.killswitch){this.buttonset_more.push(cnnmsocial.gplus);}if(!cnnmsocial.reddit.killswitch){this.buttonset_more.push(cnnmsocial.reddit);}cnnmsocial.morebutton.setsharelist(this.buttonset_more);}},setsharedata:function(){this.source=cnnm_sourcing.getURLSource(this.shareURL);var c=jQuery('link[rel="canonical"]').attr("href");var d=jQuery('meta[property="og:url"]').attr("content");var j=jQuery('meta[name="title"]').attr("content");var a=jQuery('meta[property="og:title"]').attr("content");var g=jQuery('meta[property="og:image"]').attr("content");if(typeof d!=="undefined"&&d!=""){this.shareURL=d;}else{if(typeof c!=="undefined"&&c!=""){this.shareURL=c;}}this.shareURL=this.shareURL.replace("moneypreview.turner.com:86","money.cnn.com");this.shareURL=this.shareURL.replace("jcmsprod.cnn.com:86","money.cnn.com");this.shareURL=this.shareURL.replace("money.qai.cnn.com","money.cnn.com");this.shareURL=this.shareURL.replace("localhost.cnn.com/money","money.cnn.com");this.sharePath=this.sharePath.replace("//","/");split=this.sharePath.split(".com/");if(split.length>1){this.sharePath="/"+split[1];}if(typeof g!=="undefined"&&g!=""){this.shareImage=g;}this.setpagetype();if(typeof a!=="undefined"&&a!=""){this.shareTitle=a;}else{if(typeof j!=="undefined"&&j!=""){this.shareTitle=j;}}var f=document.getElementsByTagName("h1");if(this.pagetype==this.pagetypes.listspecial){this.shareTitle=document.title;}else{if(f.length==1){this.shareTitle=jQuery.trim(f[0].innerHTML);}}this.shareTitle=this.shareTitle.replace(/<(?:.|\s)*?>/g,"");switch(this.pagetype){case (this.pagetypes.quiz):multipageURL="";if(this.shareURL.indexOf("index.html")!=-1){var h=this.shareURL.lastIndexOf("index.html");multipageURL=this.shareURL.substring(0,h);}else{if(this.shareURL.indexOf(".html")!=-1){var h=this.shareURL.lastIndexOf("/");multipageURL=this.shareURL.substring(0,h)+"/";}else{if(this.shareURL.charAt(this.shareURL.length-1)=="/"){multipageURL=this.shareURL;}else{multipageURL=this.shareURL+"/";this.sharePath=this.sharePath+"/";}}}this.shareURL=multipageURL;break;default:break;}cnnmsocial.facebook.init();cnnmsocial.twitter.init();cnnmsocial.linkedin.init();cnnmsocial.gplus.init();cnnmsocial.pinterest.init();cnnmsocial.reddit.init();cnnmsocial.stumbleupon.init();cnnmsocial.email.init();cnnmsocial.print.init();cnnmsocial.embed.init();cnnmsocial.link.init();},setoverrides:function(a){if(typeof a!=="undefined"){cnnmsoc_overrides=a;}if(typeof cnnmsoc_overrides==="undefined"){return;}if(typeof cnnmsoc_overrides.global!=="undefined"){if(typeof cnnmsoc_overrides.global.floatstartselector!=="undefined"){this.positions.float_start_selector=cnnmsoc_overrides.global.floatstartselector;}if(typeof cnnmsoc_overrides.global.floatendselector!=="undefined"){this.positions.float_end_selector=cnnmsoc_overrides.global.floatendselector;}if(typeof cnnmsoc_overrides.global.url!=="undefined"){this.shareURL=cnnmsoc_overrides.global.url;cnnmsocial.facebook.setoverrides({url:this.shareURL});cnnmsocial.twitter.setoverrides({url:this.shareURL});cnnmsocial.linkedin.setoverrides({url:this.shareURL});cnnmsocial.gplus.setoverrides({url:this.shareURL});cnnmsocial.pinterest.setoverrides({url:this.shareURL});cnnmsocial.reddit.setoverrides({url:this.shareURL});cnnmsocial.stumbleupon.setoverrides({url:this.shareURL});cnnmsocial.email.setoverrides({url:this.shareURL});cnnmsocial.link.setoverrides({url:this.shareURL});cnnmsocial.embed.setoverrides({url:this.shareURL});}if(typeof cnnmsoc_overrides.global.bitlyurl!=="undefined"){this.bitlyURL=cnnmsoc_overrides.global.bitlyurl;cnnmsocial.twitter.setoverrides({bitlyURL:this.bitlyURL});}if(typeof cnnmsoc_overrides.global.title!=="undefined"){this.shareTitle=cnnmsoc_overrides.global.title;cnnmsocial.twitter.setoverrides({title:this.shareTitle});cnnmsocial.linkedin.setoverrides({title:this.shareTitle});cnnmsocial.pinterest.setoverrides({description:this.shareTitle});cnnmsocial.reddit.setoverrides({title:this.shareTitle});
cnnmsocial.stumbleupon.setoverrides({title:this.shareTitle});cnnmsocial.email.setoverrides({title:this.shareTitle});}if(typeof cnnmsoc_overrides.global.image!=="undefined"){this.shareImage=cnnmsoc_overrides.global.image;cnnmsocial.pinterest.setoverrides({image:this.shareImage});}if(typeof cnnmsoc_overrides.global.source!=="undefined"){this.source=cnnmsoc_overrides.global.source;cnnmsocial.twitter.setoverrides({source:this.source});cnnmsocial.linkedin.setoverrides({source:this.source});}if(typeof cnnmsoc_overrides.global.showcount!=="undefined"){this.showcount=cnnmsoc_overrides.global.showcount;if(this.showcount){cnnmsocial.facebook.setoverrides({showcount_like:true});cnnmsocial.twitter.setoverrides({count:"vertical"});cnnmsocial.gplus.setoverrides({annotation:"bubble"});}else{cnnmsocial.facebook.setoverrides({showcount_like:false});cnnmsocial.twitter.setoverrides({count:"none"});cnnmsocial.gplus.setoverrides({annotation:"none"});}}}if(typeof cnnmsoc_overrides.facebook!=="undefined"){cnnmsocial.facebook.setoverrides(cnnmsoc_overrides.facebook);}if(typeof cnnmsoc_overrides.twitter!=="undefined"){cnnmsocial.twitter.setoverrides(cnnmsoc_overrides.twitter);}if(typeof cnnmsoc_overrides.linkedin!=="undefined"){cnnmsocial.linkedin.setoverrides(cnnmsoc_overrides.linkedin);}if(typeof cnnmsoc_overrides.gplus!=="undefined"){cnnmsocial.gplus.setoverrides(cnnmsoc_overrides.gplus);}if(typeof cnnmsoc_overrides.pinterest!=="undefined"){cnnmsocial.pinterest.setoverrides(cnnmsoc_overrides.pinterest);}if(typeof cnnmsoc_overrides.reddit!=="undefined"){cnnmsocial.reddit.setoverrides(cnnmsoc_overrides.reddit);}if(typeof cnnmsoc_overrides.stumbleupon!=="undefined"){cnnmsocial.stumbleupon.setoverrides(cnnmsoc_overrides.stumbleupon);}if(typeof cnnmsoc_overrides.email!=="undefined"){cnnmsocial.email.setoverrides(cnnmsoc_overrides.email);}if(typeof cnnmsoc_overrides.print!=="undefined"){cnnmsocial.print.setoverrides(cnnmsoc_overrides.print);}if(typeof cnnmsoc_overrides.link!=="undefined"){cnnmsocial.link.setoverrides(cnnmsoc_overrides.link);}if(typeof cnnmsoc_overrides.embed!=="undefined"){cnnmsocial.embed.setoverrides(cnnmsoc_overrides.embed);}},addsharebar_main:function(){var a='<div id="js-sharebar-main-bin"><div>';$existingAnchor=jQuery("#js-sharebar-main");if($existingAnchor.length){$existingAnchor.html(a);}this.sharebars.$main=$existingAnchor;this.sharebars.$main_btnsbins=this.sharebars.$main.find("#js-sharebar-main-bin");},addsharebar_float:function(){var d='<div id="js-sharebar-floater-bin"><div>';var c=jQuery("#js-sharebar-floater");if(c.length){c.html(d);}else{return;}this.sharebars.$float=jQuery("#js-sharebar-floater");this.sharebars.$float_btnsbins=this.sharebars.$float.find("#js-sharebar-floater-bin");function g(l){var n=$(window);var j={top:n.scrollTop(),left:n.scrollLeft()};j.right=j.left+n.width();j.bottom=j.top+n.height();var k=l.offset();k.right=k.left+l.outerWidth();k.bottom=k.top+l.outerHeight();return(!(j.right<k.left||j.left>k.right||j.bottom<(k.top+96)||j.top>k.bottom));}function f(l){var n=$(window);var j={top:n.scrollTop()};j.bottom=j.top+n.height();var k=l.offset();k.bottom=k.top+l.outerHeight();return(j.top>k.bottom);}var h=false;if(CNNM.Social.sharebars.$main.length){h=g(CNNM.Social.sharebars.$main);}if(!h){CNNM.Social.sharebars.$float.fadeIn("fast");}console.log("main is on:"+h);jQuery(window).scroll(function(){var n=jQuery(document).scrollTop();var k=(CNNM.Social.positions.scroll_last_position>n)?true:false;CNNM.Social.positions.scroll_last_position=n;var l=false;if(CNNM.Social.sharebars.$main.length){l=f(CNNM.Social.sharebars.$main);}var j=false;if(jQuery(CNNM.Social.positions.float_end_selector).length){j=g(jQuery(CNNM.Social.positions.float_end_selector));CNNM.Social.positions.float_end=jQuery(CNNM.Social.positions.float_end_selector).offset().top;}if(jQuery(CNNM.Social.positions.float_start_selector).length){CNNM.Social.positions.float_start=jQuery(CNNM.Social.positions.float_start_selector).offset().top;}if(CNNM.Social.positions.is_floating&&!k&&j){CNNM.Social.positions.is_floating=false;CNNM.Social.sharebars.$float.css("top",(n-jQuery(CNNM.Social.positions.float_start_selector).offset().top)+"px");CNNM.Social.sharebars.$float.css("position","absolute");return;}if(!CNNM.Social.positions.is_floating&&CNNM.Social.positions.float_start<n&&!j){CNNM.Social.positions.is_floating=true;CNNM.Social.sharebars.$float.css("top","70px");CNNM.Social.sharebars.$float.css("position","fixed");return;}if(CNNM.Social.positions.is_floating&&CNNM.Social.positions.float_start>n){CNNM.Social.positions.is_floating=false;CNNM.Social.sharebars.$float.css("top",0);CNNM.Social.sharebars.$float.css("position","absolute");return;}if(!CNNM.Social.positions.float_hidden&&!l&&h){CNNM.Social.positions.float_hidden=true;CNNM.Social.sharebars.$float.fadeOut("fast");return;}if(CNNM.Social.positions.float_hidden&&l&&h){CNNM.Social.positions.float_hidden=false;CNNM.Social.sharebars.$float.fadeIn("fast");return;}});function a(){return window.innerWidth!=null?window.innerWidth:document.body!=null?document.body.clientWidth:null;}jQuery(window).resize(function(){if(a()>=1270){CNNM.Social.sharebars.$float.css("visibility","visible");}else{CNNM.Social.sharebars.$float.css("visibility","hidden");}});if(CNNM.Social.browser.msie){jQuery(document).ready(function(){jQuery(window).trigger("resize");jQuery(window).trigger("scroll");});}else{jQuery(window).load(function(){jQuery(window).trigger("resize");jQuery(window).trigger("scroll");});}},addsocialbuttons:function(){if(this.sharebars.$main_btnsbins.length){this.sharebars.$main_btnsbins.html("");switch(this.pagetype){case (this.pagetypes.gallery):case (this.pagetypes.story):case (this.pagetypes.video):if(!cnnmsocial.facebook.killswitch){cnnmsocial.facebook.addlikebutton(this.sharebars.$main_btnsbins);}for(var a=0;a<this.buttonset_main.length;a++){this.buttonset_main[a].addbutton(this.sharebars.$main_btnsbins);}break;case (this.pagetypes.interactive):case (this.pagetypes.landing):case (this.pagetypes.quiz):case (this.pagetypes.poll):case (this.pagetypes.calc):case (this.pagetypes.listspecial):for(var a=0;a<this.buttonset_main.length;a++){this.buttonset_main[a].addbutton(this.sharebars.$main_btnsbins);}if(!cnnmsocial.facebook.killswitch){cnnmsocial.facebook.addlikebutton(this.sharebars.$main_btnsbins);}break;default:break;}}if(this.sharebars.$float_btnsbins!==null){this.sharebars.$float_btnsbins.html("");for(var c=0;c<this.buttonset_main.length;c++){this.buttonset_main[c].addbutton(this.sharebars.$float_btnsbins);}}},addtoutshares:function(){var a=jQuery(".js-sharebar-tout");a.each(function(o,g){var r={};var d="";var l="";var j=[];var q=[];var h=[];var c=jQuery(g);r={url:c.attr("data-url"),title:c.attr("data-title")};d=c.attr("data-mainset")||d;l=c.attr("data-moreset")||l;j=d.replace(/, /g,",").split(",");q=l.replace(/, /g,",").split(",");if(c.attr("data-image")!==undefined){r.image=c.attr("data-image");}c.html("");for(var k=0;k<q.length;k++){try{switch(q[k]){case ("fb"):h.unshift(cnnmsocial.facebook);break;case ("email"):h.unshift(cnnmsocial.email.addbutton);break;case ("tw"):h.unshift(cnnmsocial.twitter.addbutton);break;case ("linkedin"):h.unshift(cnnmsocial.linkedin.addbutton);break;case ("pinterest"):h.unshift(cnnmsocial.pinterest.addbutton);break;case ("gplus"):h.unshift(cnnmsocial.gplus.addbutton);break;case ("reddit"):h.unshift(cnnmsocial.reddit.addbutton);break;case ("stumbleupon"):h.unshift(cnnmsocial.stumbleupon.addbutton);break;default:break;}}catch(p){console.log("share [addtoutshares]: "+p.message);}}r.morelist=h;for(var f=0;f<j.length;f++){try{switch(j[f]){case ("fb"):cnnmsocial.facebook.addbutton(c,r);break;case ("email"):cnnmsocial.email.addbutton(c,r);break;case ("tw"):cnnmsocial.twitter.addbutton(c,r);break;case ("linkedin"):cnnmsocial.linkedin.addbutton(c,r);break;case ("pinterest"):cnnmsocial.pinterest.addbutton(c,r);break;case ("gplus"):cnnmsocial.gplus.addbutton(c,r);break;case ("reddit"):cnnmsocial.reddit.addbutton(c,r);
break;case ("stumbleupon"):cnnmsocial.stumbleupon.addbutton(c,r);break;case ("more"):cnnmsocial.morebutton.addbutton(c,r);break;default:break;}}catch(p){console.log("share [addtoutshares]: "+p.message);}}});},loadscripts:function(){if(!cnnmsocial.facebook.killswitch){cnnmsocial.facebook.loadscript();}if(!cnnmsocial.twitter.killswitch){cnnmsocial.twitter.loadscript();}if(!cnnmsocial.linkedin.killswitch){console.log("loading");cnnmsocial.linkedin.loadscript();}if(!cnnmsocial.email.killswitch){cnnmsocial.email.loadscript();}},refresh:function(a){if(typeof a==="undefined"){a="";}switch(a){case ("facebook"):cnnmsocial.facebook.refresh(this.sharebars.$main);cnnmsocial.facebook.refresh(this.sharebars.$float);break;case ("twitter"):cnnmsocial.twitter.refresh(this.sharebars.$main);cnnmsocial.twitter.refresh(this.sharebars.$float);break;case ("linkedin"):cnnmsocial.linkedin.refresh(this.sharebars.$main);cnnmsocial.linkedin.refresh(this.sharebars.$float);break;case ("gplus"):cnnmsocial.gplus.refresh(this.sharebars.$main);cnnmsocial.gplus.refresh(this.sharebars.$float);break;case ("pinterest"):cnnmsocial.pinterest.refresh(this.sharebars.$main);cnnmsocial.pinterest.refresh(this.sharebars.$float);break;case ("reddit"):cnnmsocial.reddit.refresh(this.sharebars.$main);cnnmsocial.reddit.refresh(this.sharebars.$float);break;case ("stumbleupon"):cnnmsocial.stumbleupon.refresh(this.sharebars.$main);cnnmsocial.stumbleupon.refresh(this.sharebars.$float);break;case ("email"):cnnmsocial.email.refresh(this.sharebars.$main);cnnmsocial.email.refresh(this.sharebars.$float);break;case ("print"):cnnmsocial.print.refresh(this.sharebars.$main);cnnmsocial.print.refresh(this.sharebars.$float);break;case ("embed"):cnnmsocial.embed.refresh(this.sharebars.$main);cnnmsocial.embed.refresh(this.sharebars.$float);break;default:cnnmsocial.facebook.refresh(this.sharebars.$main);cnnmsocial.facebook.refresh(this.sharebars.$float);cnnmsocial.twitter.refresh(this.sharebars.$main);cnnmsocial.twitter.refresh(this.sharebars.$float);cnnmsocial.linkedin.refresh(this.sharebars.$main);cnnmsocial.linkedin.refresh(this.sharebars.$float);cnnmsocial.stumbleupon.refresh(this.sharebars.$main);cnnmsocial.stumbleupon.refresh(this.sharebars.$float);cnnmsocial.email.refresh(this.sharebars.$main);cnnmsocial.email.refresh(this.sharebars.$float);cnnmsocial.gplus.refresh(this.sharebars.$main);cnnmsocial.gplus.refresh(this.sharebars.$float);cnnmsocial.pinterest.refresh(this.sharebars.$main);cnnmsocial.pinterest.refresh(this.sharebars.$float);cnnmsocial.reddit.refresh(this.sharebars.$main);cnnmsocial.reddit.refresh(this.sharebars.$float);cnnmsocial.print.refresh(this.sharebars.$main);cnnmsocial.print.refresh(this.sharebars.$float);cnnmsocial.embed.refresh(this.sharebars.$main);cnnmsocial.embed.refresh(this.sharebars.$float);cnnmsocial.morebutton.refresh(this.sharebars.$main);cnnmsocial.morebutton.refresh(this.sharebars.$float);break;}},bitlyupdate:function(a){cnnmsocial.twitter.bitlyURL=a;this.refresh("twitter");},settrackURL:function(a){if(typeof(a)!=="undefined"){this.socialtrack_URL=a;}else{this.socialtrack_URL=null;}},debugit:function(a){display="";if(typeof a!=="undefined"){display="<h3>"+a+"</h3><br />";}display+="<b>shareURL : </b>"+this.shareURL+"<br />";display+="<b>sharePath : </b>"+this.sharePath+"<br />";display+="<b>shareTitle : </b>"+this.shareTitle+"<br />";display="<li>"+display+"</li>";display+="<b>FB-url: </b>"+cnnmsocial.facebook.shareURL+"<br />";display+="<b>FB-showct: </b>"+cnnmsocial.facebook.showcount+"<br />";display+="<b>Twt-url: </b>"+cnnmsocial.twitter.shareURL+"<br />";display+="<b>Twt-bitly: </b>"+cnnmsocial.twitter.bitlyURL+"<br />";display+="<b>Twt-desc: </b>"+cnnmsocial.twitter.description+"<br />";display+="<b>Twt-source: </b>"+cnnmsocial.twitter.source+"<br />";display+="<b>Twt-related: </b>"+cnnmsocial.twitter.related+"<br />";display+="<b>Twt-count: </b>"+cnnmsocial.twitter.count+"<br />";display+="<b>LI-url: </b>"+cnnmsocial.linkedin.shareURL+"<br />";display+="<b>LI-desc: </b>"+cnnmsocial.linkedin.description+"<br />";display+="<b>LI-source: </b>"+cnnmsocial.linkedin.source+"<br />";display+="<b>LI-showct: </b>"+cnnmsocial.linkedin.showcount+"<br />";display+="<b>G+-url: </b>"+cnnmsocial.gplus.shareURL+"<br />";display+="<b>G+-annot: </b>"+cnnmsocial.gplus.annotation+"<br />";$testbox=jQuery("#cnnmsocialLog");if($testbox.length>0){$testbox.html(display);}else{display='<ul id="cnnmsocialLog" style="background: #333; border: 1px solid #000; color: #999; bottom: 0; right; 0; padding: 10px; z-index:9999999999; text-align: left;">'+display+"</ul>";jQuery("body").append(display);}},init:function(){this.setsharedata();this.setbuttonsets();this.setoverrides();this.addsharebar_main();this.addsharebar_float();if(location.hostname.indexOf("moneypreview")==-1){cnnmsocial.bitly.getbitlyURL();}this.addsocialbuttons();this.addtoutshares();this.loadscripts();}};function jumpToComments(a){try{if(jQuery(".js-livefyre-comments").length){window.scrollTo(jQuery(".js-livefyre-comments:first").offset().left,jQuery(".js-livefyre-comments:first").offset().top);}else{jQuery(a).parent().hide();}}catch(c){}return false;}function cnnUpdateShareWidget(f){var h=f.video_id;var c="http://money.cnn.com/"+h+"/index.html";var g=(f.title===null)?document.title:f.title;var d=(f.image===null)?document.image:f.image;var a={global:{url:c,title:g,image:d}};CNNM.Social.setoverrides(a);if(CNNM.Social.enableRefresh){CNNM.Social.refresh();}CNNM.Social.enableRefresh=true;}(function(a){a.fn.extend({imageChanger:function(d){var c=this;this.settings=a.extend({},a.fn.imageChanger.defaults,d);this.settings.navigationHtml=['<div class="imageChanger-navigation">','<span class="imageChanger-navPrev"><img width="',c.settings.previousButton.width,'" height="',c.settings.previousButton.height,'" border="0" title="Click to view previous image" alt="Previous image" src="',c.settings.previousButton.disabled,'"></span>','<span class="imageChanger-navText"></span>','<span class="imageChanger-navNext"><img width="',c.settings.nextButton.width,'" height="',c.settings.nextButton.height,'" border="0" title="Click to view next image" alt="Next image" src="',c.settings.nextButton.disabled,'"></span>',"</div>"].join("");this.changeImage=function(o,n){var k=o.find(".imageChanger-content .imageChanger-item");var h=k.filter(".selected");var g=k.index(h[0])+1;var f=k.size();switch(n){case"-1":case"prev":if(g>1){h.fadeOut("fast",function(){a(this).removeClass("selected");a(this).prev().fadeIn("fast").addClass("selected");});g--;}break;case"1":case"next":if(g<f){h.fadeOut("fast",function(){a(this).removeClass("selected");a(this).next().fadeIn("fast").addClass("selected");});g++;}break;}if(g){o.find(".imageChanger-navigation .imageChanger-navText").text(g+"/"+f);var l=o.find(".imageChanger-navigation .imageChanger-navPrev");l.unbind();if(g==1){l.addClass("disabled").find("img").attr("src",c.settings.previousButton.disabled);}else{l.removeClass("disabled").find("img").attr("src",c.settings.previousButton.enabled).end().hover(function(){a(this).find("img").attr("src",c.settings.previousButton.hover);},function(){a(this).find("img").attr("src",c.settings.previousButton.enabled);}).click(function(){c.changeImage(o,"prev");return false;});}var j=o.find(".imageChanger-navigation .imageChanger-navNext");j.unbind();if(g==f){j.addClass("disabled").find("img").attr("src",c.settings.nextButton.disabled);}else{j.removeClass("disabled").find("img").attr("src",c.settings.nextButton.enabled).end().hover(function(){a(this).find("img").attr("src",c.settings.nextButton.hover);},function(){a(this).find("img").attr("src",c.settings.nextButton.enabled);}).click(function(){c.changeImage(o,"next");return false;});}}};return this.each(function(){var f=a(this).find(".imageChanger-content .imageChanger-item");if(f.length){a(this).show();f.eq(0).show().addClass("selected");if(f.length>1){a(this).append(c.settings.navigationHtml);a(this).find(".imageChanger-navigation").show();c.changeImage(a(this));
}}});}});a.fn.imageChanger.defaults={previousButton:{width:"27",height:"19",enabled:"http://i.l.cnn.net/money/.element/img/2.0/fortune/buttons/image_prev.gif",hover:"http://i.l.cnn.net/money/.element/img/2.0/fortune/buttons/image_prev_over.gif",disabled:"http://i.l.cnn.net/money/.element/img/2.0/fortune/buttons/image_prev_off.gif"},nextButton:{width:"27",height:"19",enabled:"http://i.l.cnn.net/money/.element/img/2.0/fortune/buttons/image_next.gif",hover:"http://i.l.cnn.net/money/.element/img/2.0/fortune/buttons/image_next_over.gif",disabled:"http://i.l.cnn.net/money/.element/img/2.0/fortune/buttons/image_next_off.gif"}};})(jQuery);(function(a){a.isDebugOn=function(){return typeof(Debug)!="undefined"&&Debug.debugWindow?true:false;};a.log=function(){if(typeof(console)!="undefined"&&!a.browser.msie){console.log.apply(console,arguments);}};a.logInfo=function(){if(typeof(console)!="undefined"&&!a.browser.msie){console.info.apply(console,arguments);}};a.logError=function(){if(typeof(console)!="undefined"&&!a.browser.msie){console.error.apply(console,arguments);}};a.logWarning=function(){if(typeof(console)!="undefined"&&!a.browser.msie){console.warn.apply(console,arguments);}};a.msToJsDate=function(d){var c=new Date(((d-25569)*86400000));return new Date(((d-25569+(c.getTimezoneOffset()/1440))*86400000));};a.jsToMsDate=function(d){var c=d.getTimezoneOffset()/1440;return(d.getTime()/86400000)+(25569-c);};a.create=function(){var l,f,k,g;if(arguments.length==1&&a.isArray(arguments[0])){var n=arguments[0];if(a.isArray(n)){l=arguments[0][0];f=arguments[0][1];k=arguments[0][2];g=arguments[0][3];}else{if(n instanceof $){return n;}else{if("dom"==a.type(n)){return n;}}}}else{l=arguments[0];f=arguments[1];k=arguments[2];g=arguments[3];}var t=a("<"+l+"/>");if(f){var q={};for(var r in f){var d=r.toLowerCase();var p=d.indexOf("$on");var j=d.substring(3);if(0==p&&t[j]){t[j]=f[r];}else{q[r]=f[r];}}t.attr(q);}if(null!=k){if(a.isArray(k)){var o=k.length;for(var s=0;s<o;s++){var h=k[s];if(h instanceof Array){t.append(a.create(h));}else{if(h instanceof $||"dom"==type){t.append(h);}else{t.append(document.createTextNode(String(h)));}}}}else{t.html(k);}}if(g){a(g).append(t);}return t;};a.support.maxHeight=document.createElement("div").style.maxHeight!=undefined;a.fn.bgIframe=a.fn.bgiframe=function(d){if(a.browser.msie&&(/6.0/).test(navigator.userAgent)){d=a.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},d||{});var f=function(g){return g&&g.constructor==Number?g+"px":g;},c='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+d.src+'"'+'style="display:block;position:absolute;z-index:-1;'+(d.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(d.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":f(d.top))+";"+"left:"+(d.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":f(d.left))+";"+"width:"+(d.width=="auto"?"expression((this.parentNode.scrollWidth + (parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*2)+'px')":f(d.width))+";"+"height:"+(d.height=="auto"?"expression((this.parentNode.scrollHeight + (parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*2)+ 'px')":f(d.height))+";"+'"/>';return this.each(function(){if(a("> iframe.bgiframe",this).length==0){this.insertBefore(document.createElement(c),this.firstChild);}});}return this;};})(jQuery);(function(f){f.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(h,g){f.fx.step[g]=function(j){if(j.state==0){j.start=d(j.elem,g);j.end=c(j.end);}j.elem.style[g]="rgb("+[Math.max(Math.min(parseInt((j.pos*(j.end[0]-j.start[0]))+j.start[0]),255),0),Math.max(Math.min(parseInt((j.pos*(j.end[1]-j.start[1]))+j.start[1]),255),0),Math.max(Math.min(parseInt((j.pos*(j.end[2]-j.start[2]))+j.start[2]),255),0)].join(",")+")";};});function c(h){var g;if(h&&h.constructor==Array&&h.length==3){return h;}if(g=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(h)){return[parseInt(g[1]),parseInt(g[2]),parseInt(g[3])];}if(g=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(h)){return[parseFloat(g[1])*2.55,parseFloat(g[2])*2.55,parseFloat(g[3])*2.55];}if(g=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(h)){return[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16)];}if(g=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(h)){return[parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16),parseInt(g[3]+g[3],16)];}return a[f.trim(h).toLowerCase()];}function d(j,g){var h;do{h=f.curCSS(j,g);if(h!=""&&h!="transparent"||f.nodeName(j,"body")){break;}g="backgroundColor";}while(j=j.parentNode);return c(h);}var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]};})(jQuery);(function(d){d.xLazyLoader=function(g,f){if(typeof g=="object"){f=g;g="init";}new c()[g](f);};d.xLazyLoader.defaults={js:[],css:[],img:[],name:null,timeout:20000,success:function(){},error:function(){},complete:function(){},each:function(){}};var a=document.getElementsByTagName("head")[0];function c(){var q=this,t,l=[],o=[],n,f,h,g=[];this.init=function(s){if(!s){return;}t=d.extend({},d.xLazyLoader.defaults,s);h={js:t.js,css:t.css,img:t.img};d.each(h,function(u,v){if(typeof v=="string"){v=v.split(",");}g=g.concat(v);});if(!g.length){k("error");return;}if(t.timeout){n=setTimeout(function(){var u=l.concat(o);d.each(g,function(w,v){d.inArray(v,u)==-1&&o.push(v);});k("error");},t.timeout);}d.each(h,function(u,v){if(d.isArray(v)){d.each(v,function(y,w){p(u,w);});}else{if(typeof v=="string"){p(u,v);}}});};this.js=function(z,A,v){var y=d('script[src*="'+z+'"]');if(y.length){y.attr("pending")?y.bind("scriptload",A):A();return;}var w=document.createElement("script");w.setAttribute("type","text/javascript");w.setAttribute("src",z);w.setAttribute("id",v);w.setAttribute("pending",1);w.onerror=r;d(w).bind("scriptload",function(){d(this).removeAttr("pending");A();setTimeout(function(){d(w).unbind("scriptload");},10);});var u=false;w.onload=w.onreadystatechange=function(){if(!u&&(!this.readyState||/loaded|complete/.test(this.readyState))){u=true;w.onload=w.onreadystatechange=null;d(w).trigger("scriptload");}};a.appendChild(w);};this.css=function(u,z,v){if(d('link[href*="'+u+'"]').length){z();return;}var w=d('<link rel="stylesheet" type="text/css" media="all" href="'+u+'" id="'+v+'"></link>')[0];if(d.browser.msie){w.onreadystatechange=function(){/loaded|complete/.test(w.readyState)&&z();};}else{if(d.browser.opera){w.onload=z;}else{var s=location.hostname.replace("www.",""),y=/http:/.test(u)?/^(\w+:)?\/\/([^\/?#]+)/.exec(u)[2]:s;s!=y&&d.browser.mozilla?z():(function(){try{w.sheet.cssRules;}catch(A){f=setTimeout(arguments.callee,20);return;}z();})();}}a.appendChild(w);};this.img=function(u,v){var s=new Image();s.onload=v;s.onerror=r;s.src=u;};this.disable=function(s){d("#lazy-loaded-"+s,a).attr("disabled","disabled");};this.enable=function(s){d("#lazy-loaded-"+s,a).removeAttr("disabled");};this.destroy=function(s){d("#lazy-loaded-"+s,a).remove();};function p(u,s){q[u](s,function(v){v=="error"?o.push(s):l.push(s)&&t.each(s);
j();},"lazy-loaded-"+(t.name?t.name:new Date().getTime()));}function k(s){t.complete(s,l,o);t[s](s=="error"?o:l);clearTimeout(n);clearTimeout(f);}function j(){if(l.length==g.length){k("success");}else{if(l.length+o.length==g.length){k("error");}}}function r(){o.push(this.src);j();}}})(jQuery);jQuery.fn.search=function(){return this.focus(function(){if(this.value==this.defaultValue){this.value="";}}).blur(function(){if(!this.value.length){this.value=this.defaultValue;var a=jQuery(this).data("closestButton")||[];if(a.length){a.data("results",-1);}}});};jQuery.belowthefold=function(c,d){if(d.container===undefined||d.container===window){var a=jQuery(window).height()+jQuery(window).scrollTop();}else{var a=jQuery(d.container).offset().top+jQuery(d.container).height();}return a<=jQuery(c).offset().top-d.threshold;};jQuery.rightoffold=function(c,d){if(d.container===undefined||d.container===window){var a=jQuery(window).width()+jQuery(window).scrollLeft();}else{var a=jQuery(d.container).offset().left+jQuery(d.container).width();}return a<=jQuery(c).offset().left-d.threshold;};jQuery.extend(jQuery.expr[":"],{"below-the-fold":"jQuery.belowthefold(a, {threshold : 0, container: window})","above-the-fold":"!jQuery.belowthefold(a, {threshold : 0, container: window})","right-of-fold":"jQuery.rightoffold(a, {threshold : 0, container: window})","left-of-fold":"!jQuery.rightoffold(a, {threshold : 0, container: window})"});jQuery.cookie=function(c,l,p){if(typeof l!="undefined"){p=p||{};if(l===null){l="";p=jQuery.extend({},p);p.expires=-1;}var g="";if(p.expires&&(typeof p.expires=="number"||p.expires.toUTCString)){var h;if(typeof p.expires=="number"){h=new Date();h.setTime(h.getTime()+(p.expires*24*60*60*1000));}else{h=p.expires;}g="; expires="+h.toUTCString();}var o=p.path?"; path="+(p.path):"";var j=p.domain?"; domain="+(p.domain):"";var a=p.secure?"; secure":"";document.cookie=[c,"=",encodeURIComponent(l),g,o,j,a].join("");}else{var f=null;if(document.cookie&&document.cookie!=""){var n=document.cookie.split(";");for(var k=0;k<n.length;k++){var d=jQuery.trim(n[k]);if(d.substring(0,c.length+1)==(c+"=")){f=decodeURIComponent(d.substring(c.length+1));break;}}}return f;}};(function(h){var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var k=["January","February","March","April","May","June","July","August","September","October","November","December"];h.PHPDate=function(l,o){var q="";var t="";l=l.replace(/r/g,"D, j M Y H;i:s O");for(var s=0;s<l.length;s++){q=l.charAt(s);switch(q){case"x":q="ET";break;case"a":q=j(o.getHours());break;case"c":q=(o.getFullYear()+"-"+c(o.getMonth())+"-"+c(o.getDate())+"T"+c(o.getHours())+":"+c(o.getMinutes())+":"+c(o.getSeconds()));var p=o.toString().split(" ")[5];if(p.indexOf("-")>-1){q+=p.substr(p.indexOf("-"));}else{if(p.indexOf("+")>-1){q+=p.substr(p.indexOf("+"));}else{q+="+0000";}}break;case"d":q=c(o.getDate());break;case"g":q=a(o.getHours());break;case"h":q=c(a(o.getHours()));break;case"i":q=c(o.getMinutes());break;case"j":q=o.getDate();break;case"l":q=d[o.getDay()];break;case"m":q=c(o.getMonth()+1);break;case"n":q=o.getMonth()+1;break;case"o":(new Date(f(o.getFullYear()))>o)?q=(o.getFullYear()-1):q=o.getFullYear();break;case"s":q=c(o.getSeconds());break;case"t":var y=new Date(o.valueOf());y.setMonth(y.getMonth()+1);y.setDate(0);q=y.getDate();break;case"u":q=o.getMilliseconds();break;case"w":q=o.getDay();break;case"y":q=o.getFullYear().toString().substr(2,2);break;case"z":var z=new Date(o.getFullYear(),0,1,0,0,0,0);var v=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0,0);q=Math.round((v.valueOf()-z.valueOf())/1000/60/60/24);break;case"A":q=j(o.getHours()).toUpperCase();break;case"B":q=Math.floor(((o.getHours()*60*60*1000)+(o.getMinutes()*60*1000)+(o.getSeconds()*1000)+(o.getMilliseconds()))/86400);break;case"D":q=d[o.getDay()].substr(0,3);break;case"F":q=k[o.getMonth()];break;case"G":q=o.getHours();break;case"H":q=c(o.getHours());break;case"I":var r=new Date(o.getFullYear(),0,1);var w=new Date(o.getFullYear(),o.getMonth(),o.getDate());var n=(w.valueOf()-r.valueOf())/1000/60/60/24;(n==Math.round(n))?q=0:q=1;break;case"L":((new Date(o.getFullYear(),2,0)).getDate()==29)?q=1:q=0;break;case"M":q=k[o.getMonth()].substr(0,3);break;case"N":(o.getDay()==0)?q=7:q=o.getDay();break;case"O":var p=o.toString().split(" ")[5];if(p.indexOf("-")>-1){q=p.substr(p.indexOf("-"));}else{if(p.indexOf("+")>-1){q=p.substr(p.indexOf("+"));}else{q="+0000";}}break;case"P":var p=o.toString().split(" ")[5];if(p.indexOf("-")>-1){var u=p.substr(p.indexOf("-")+1).split("");q=("-"+u[0]+u[1]+":"+u[2]+u[3]);}else{if(p.indexOf("+")>-1){var u=p.substr(p.indexOf("+")+1).split("");q=("+"+u[0]+u[1]+":"+u[2]+u[3]);}else{q="+00:00";}}break;case"S":q=g(o.getDate());break;case"T":q=o.toString().split(" ")[5];if(q.indexOf("+")>-1){q=q.substr(0,q.indexOf("+"));}else{if(q.indexOf("-")>-1){q=q.substr(0,q.indexOf("-"));}}break;case"U":q=Math.floor(o.getTime()/1000);break;case"W":var r=new Date(f(o.getFullYear()));var w=new Date(o.getFullYear(),o.getMonth(),o.getDate());q=Math.ceil(Math.round((w.valueOf()-r.valueOf())/1000/60/60/24)/7);break;case"Y":q=o.getFullYear();break;case"Z":(o.getTimezoneOffset()<0)?q=Math.abs(o.getTimezoneOffset()*60):q=(0-(o.getTimezoneOffset()*60));break;}t+=q.toString();}return t;};function c(l){if(l<10){l=("0"+l);}return l;}function j(l){if(l>11){return"pm";}else{return"am";}}function g(n){var l="th";switch(parseInt(n)){case 1:case 21:case 31:l="st";break;case 2:case 22:l="nd";break;case 3:case 23:l="rd";}return l;}function f(n){var l=new Date(n,0,1);while(l.getDay()!=1){l.setDate(l.getDate()+1);}return l.valueOf();}function a(l){if(l==0){l=24;}else{if(l>12){l-=12;}}return l;}})(jQuery);jQuery.ui||(function(q){var j=q.fn.remove,p=q.browser.mozilla&&(parseFloat(q.browser.version)<1.9);q.ui={version:"1.7.2",plugin:{add:function(d,c,g){var a=q.ui[d].prototype;for(var f in g){a.plugins[f]=a.plugins[f]||[];a.plugins[f].push([c,g[f]]);}},call:function(f,c,d){var g=f.plugins[c];if(!g||!f.element[0].parentNode){return;}for(var a=0;a<g.length;a++){if(f.options[g[a][0]]){g[a][1].apply(f.element,d);}}}},contains:function(a,c){return document.compareDocumentPosition?a.compareDocumentPosition(c)&16:a!==c&&a.contains(c);},hasScroll:function(a,d){if(q(a).css("overflow")=="hidden"){return false;}var f=(d&&d=="left")?"scrollLeft":"scrollTop",c=false;if(a[f]>0){return true;}a[f]=1;c=(a[f]>0);a[f]=0;return c;},isOverAxis:function(c,d,a){return(c>d)&&(c<(d+a));},isOver:function(g,d,h,a,f,c){return q.ui.isOverAxis(g,h,f)&&q.ui.isOverAxis(d,a,c);},keyCode:{BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};if(p){var n=q.attr,o=q.fn.removeAttr,k="http://www.w3.org/2005/07/aaa",s=/^aria-/,r=/^wairole:/;q.attr=function(d,f,c){var a=c!==undefined;return(f=="role"?(a?n.call(this,d,f,"wairole:"+c):(n.apply(this,arguments)||"").replace(r,"")):(s.test(f)?(a?d.setAttributeNS(k,f.replace(s,"aaa:"),c):n.call(this,d,f.replace(s,"aaa:"))):n.apply(this,arguments)));};q.fn.removeAttr=function(a){return(s.test(a)?this.each(function(){this.removeAttributeNS(k,a.replace(s,""));}):o.call(this,a));};}q.fn.extend({remove:function(){q("*",this).add(this).each(function(){q(this).triggerHandler("remove");});return j.apply(this,arguments);},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui");},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false;});},scrollParent:function(){var a;if((q.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){a=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(q.curCSS(this,"position",1))&&(/(auto|scroll)/).test(q.curCSS(this,"overflow",1)+q.curCSS(this,"overflow-y",1)+q.curCSS(this,"overflow-x",1));
}).eq(0);}else{a=this.parents().filter(function(){return(/(auto|scroll)/).test(q.curCSS(this,"overflow",1)+q.curCSS(this,"overflow-y",1)+q.curCSS(this,"overflow-x",1));}).eq(0);}return(/fixed/).test(this.css("position"))||!a.length?q(document):a;}});q.extend(q.expr[":"],{data:function(a,c,d){return !!q.data(a,d[3]);},focusable:function(c){var a=c.nodeName.toLowerCase(),d=q.attr(c,"tabindex");return(/input|select|textarea|button|object/.test(a)?!c.disabled:"a"==a||"area"==a?c.href||!isNaN(d):!isNaN(d))&&!q(c)["area"==a?"parents":"closest"](":hidden").length;},tabbable:function(a){var c=q.attr(a,"tabindex");return(isNaN(c)||c>=0)&&q(a).is(":focusable");}});function l(a,h,g,c){function d(t){var u=q[a][h][t]||[];return(typeof u=="string"?u.split(/,?\s+/):u);}var f=d("getter");if(c.length==1&&typeof c[0]=="string"){f=f.concat(d("getterSetter"));}return(q.inArray(g,f)!=-1);}q.widget=function(c,d){var a=c.split(".")[0];c=c.split(".")[1];q.fn[c]=function(g){var t=(typeof g=="string"),h=Array.prototype.slice.call(arguments,1);if(t&&g.substring(0,1)=="_"){return this;}if(t&&l(a,c,g,h)){var f=q.data(this[0],c);return(f?f[g].apply(f,h):undefined);}return this.each(function(){var u=q.data(this,c);(!u&&!t&&q.data(this,c,new q[a][c](this,g))._init());(u&&t&&q.isFunction(u[g])&&u[g].apply(u,h));});};q[a]=q[a]||{};q[a][c]=function(g,h){var f=this;this.namespace=a;this.widgetName=c;this.widgetEventPrefix=q[a][c].eventPrefix||c;this.widgetBaseClass=a+"-"+c;this.options=q.extend({},q.widget.defaults,q[a][c].defaults,q.metadata&&q.metadata.get(g)[c],h);this.element=q(g).bind("setData."+c,function(u,v,t){if(u.target==g){return f._setData(v,t);}}).bind("getData."+c,function(t,u){if(t.target==g){return f._getData(u);}}).bind("remove",function(){return f.destroy();});};q[a][c].prototype=q.extend({},q.widget.prototype,d);q[a][c].getterSetter="option";};q.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled");},option:function(c,a){var d=c,f=this;if(typeof c=="string"){if(a===undefined){return this._getData(c);}d={};d[c]=a;}q.each(d,function(h,g){f._setData(h,g);});},_getData:function(a){return this.options[a];},_setData:function(c,a){this.options[c]=a;if(c=="disabled"){this.element[a?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",a);}},enable:function(){this._setData("disabled",false);},disable:function(){this._setData("disabled",true);},_trigger:function(c,a,t){var g=this.options[c],f=(c==this.widgetEventPrefix?c:this.widgetEventPrefix+c);a=q.Event(a);a.type=f;if(a.originalEvent){for(var d=q.event.props.length,h;d;){h=q.event.props[--d];a[h]=a.originalEvent[h];}}this.element.trigger(a,t);return !(q.isFunction(g)&&g.call(this.element[0],a,t)===false||a.isDefaultPrevented());}};q.widget.defaults={disabled:false};q.ui.mouse={_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(c){return a._mouseDown(c);}).bind("click."+this.widgetName,function(c){if(a._preventClickEvent){a._preventClickEvent=false;c.stopImmediatePropagation();return false;}});if(q.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable","on");}this.started=false;},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);(q.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable));},_mouseDown:function(c){c.originalEvent=c.originalEvent||{};if(c.originalEvent.mouseHandled){return;}(this._mouseStarted&&this._mouseUp(c));this._mouseDownEvent=c;var d=this,a=(c.which==1),f=(typeof this.options.cancel=="string"?q(c.target).parents().add(c.target).filter(this.options.cancel).length:false);if(!a||f||!this._mouseCapture(c)){return true;}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=true;},this.options.delay);}if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)){this._mouseStarted=(this._mouseStart(c)!==false);if(!this._mouseStarted){c.preventDefault();return true;}}this._mouseMoveDelegate=function(g){return d._mouseMove(g);};this._mouseUpDelegate=function(g){return d._mouseUp(g);};q(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);(q.browser.safari||c.preventDefault());c.originalEvent.mouseHandled=true;return true;},_mouseMove:function(a){if(q.browser.msie&&!a.button){return this._mouseUp(a);}if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault();}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,a)!==false);(this._mouseStarted?this._mouseDrag(a):this._mouseUp(a));}return !this._mouseStarted;},_mouseUp:function(a){q(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=(a.target==this._mouseDownEvent.target);this._mouseStop(a);}return false;},_mouseDistanceMet:function(a){return(Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance);},_mouseDelayMet:function(a){return this.mouseDelayMet;},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return true;}};q.ui.mouse.defaults={cancel:null,distance:1,delay:0};})(jQuery);(function(c){c.widget("ui.draggable",c.extend({},c.ui.mouse,{_init:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative";}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit();},destroy:function(){if(!this.element.data("draggable")){return;}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();},_mouseCapture:function(a){var d=this.options;if(this.helper||d.disabled||c(a.target).is(".ui-resizable-handle")){return false;}this.handle=this._getHandle(a);if(!this.handle){return false;}return true;},_mouseStart:function(a){var d=this.options;this.helper=this._createHelper(a);this._cacheHelperProportions();if(c.ui.ddmanager){c.ui.ddmanager.current=this;}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};c.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;if(d.cursorAt){this._adjustOffsetFromHelper(d.cursorAt);}if(d.containment){this._setContainment();}this._trigger("start",a);this._cacheHelperProportions();if(c.ui.ddmanager&&!d.dropBehaviour){c.ui.ddmanager.prepareOffsets(this,a);}this.helper.addClass("ui-draggable-dragging");this._mouseDrag(a,true);return true;},_mouseDrag:function(a,f){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!f){var g=this._uiHash();this._trigger("drag",a,g);this.position=g.position;}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px";}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px";}if(c.ui.ddmanager){c.ui.ddmanager.drag(this,a);}return false;},_mouseStop:function(g){var f=false;if(c.ui.ddmanager&&!this.options.dropBehaviour){f=c.ui.ddmanager.drop(this,g);}if(this.dropped){f=this.dropped;this.dropped=false;}if((this.options.revert=="invalid"&&!f)||(this.options.revert=="valid"&&f)||this.options.revert===true||(c.isFunction(this.options.revert)&&this.options.revert.call(this.element,f))){var a=this;
c(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){a._trigger("stop",g);a._clear();});}else{this._trigger("stop",g);this._clear();}return false;},_getHandle:function(a){var d=!this.options.handle||!c(this.options.handle,this.element).length?true:false;c(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==a.target){d=true;}});return d;},_createHelper:function(g){var f=this.options;var a=c.isFunction(f.helper)?c(f.helper.apply(this.element[0],[g])):(f.helper=="clone"?this.element.clone():this.element);if(!a.parents("body").length){a.appendTo((f.appendTo=="parent"?this.element[0].parentNode:f.appendTo));}if(a[0]!=this.element[0]&&!(/(fixed|absolute)/).test(a.css("position"))){a.css("position","absolute");}return a;},_adjustOffsetFromHelper:function(a){if(a.left!=undefined){this.offset.click.left=a.left+this.margins.left;}if(a.right!=undefined){this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;}if(a.top!=undefined){this.offset.click.top=a.top+this.margins.top;}if(a.bottom!=undefined){this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop();}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&c.browser.msie)){a={top:0,left:0};}return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var f=this.options;if(f.containment=="parent"){f.containment=this.helper[0].parentNode;}if(f.containment=="document"||f.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,c(f.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(c(f.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}if(!(/^(document|window|parent)$/).test(f.containment)&&f.containment.constructor!=Array){var h=c(f.containment)[0];if(!h){return;}var g=c(f.containment).offset();var a=(c(h).css("overflow")!="hidden");this.containment=[g.left+(parseInt(c(h).css("borderLeftWidth"),10)||0)+(parseInt(c(h).css("paddingLeft"),10)||0)-this.margins.left,g.top+(parseInt(c(h).css("borderTopWidth"),10)||0)+(parseInt(c(h).css("paddingTop"),10)||0)-this.margins.top,g.left+(a?Math.max(h.scrollWidth,h.offsetWidth):h.offsetWidth)-(parseInt(c(h).css("borderLeftWidth"),10)||0)-(parseInt(c(h).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,g.top+(a?Math.max(h.scrollHeight,h.offsetHeight):h.offsetHeight)-(parseInt(c(h).css("borderTopWidth"),10)||0)-(parseInt(c(h).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top];}else{if(f.containment.constructor==Array){this.containment=f.containment;}}},_convertPositionTo:function(k,d){if(!d){d=this.position;}var n=k=="absolute"?1:-1;var l=this.options,a=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(a[0].tagName);return{top:(d.top+this.offset.relative.top*n+this.offset.parent.top*n-(c.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:a.scrollTop()))*n)),left:(d.left+this.offset.relative.left*n+this.offset.parent.left*n-(c.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:a.scrollLeft())*n))};},_generatePosition:function(o){var k=this.options,a=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(a[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset();}var p=o.pageX;var q=o.pageY;if(this.originalPosition){if(this.containment){if(o.pageX-this.offset.click.left<this.containment[0]){p=this.containment[0]+this.offset.click.left;}if(o.pageY-this.offset.click.top<this.containment[1]){q=this.containment[1]+this.offset.click.top;}if(o.pageX-this.offset.click.left>this.containment[2]){p=this.containment[2]+this.offset.click.left;}if(o.pageY-this.offset.click.top>this.containment[3]){q=this.containment[3]+this.offset.click.top;}}if(k.grid){var l=this.originalPageY+Math.round((q-this.originalPageY)/k.grid[1])*k.grid[1];q=this.containment?(!(l-this.offset.click.top<this.containment[1]||l-this.offset.click.top>this.containment[3])?l:(!(l-this.offset.click.top<this.containment[1])?l-k.grid[1]:l+k.grid[1])):l;var n=this.originalPageX+Math.round((p-this.originalPageX)/k.grid[0])*k.grid[0];p=this.containment?(!(n-this.offset.click.left<this.containment[0]||n-this.offset.click.left>this.containment[2])?n:(!(n-this.offset.click.left<this.containment[0])?n-k.grid[0]:n+k.grid[0])):n;}}return{top:(q-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(c.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:a.scrollTop())))),left:(p-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(c.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:a.scrollLeft())))};},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove();}this.helper=null;this.cancelHelperRemoval=false;},_trigger:function(a,g,f){f=f||this._uiHash();c.ui.plugin.call(this,a,[g,f]);if(a=="drag"){this.positionAbs=this._convertPositionTo("absolute");}return c.widget.prototype._trigger.call(this,a,g,f);},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,absolutePosition:this.positionAbs,offset:this.positionAbs};}}));c.extend(c.ui.draggable,{version:"1.7.2",eventPrefix:"drag",defaults:{addClasses:true,appendTo:"parent",axis:false,cancel:":input,option",connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,delay:0,distance:1,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false}});c.ui.plugin.add("draggable","connectToSortable",{start:function(k,h){var j=c(this).data("draggable"),g=j.options,a=c.extend({},h,{item:j.element});j.sortables=[];c(g.connectToSortable).each(function(){var d=c.data(this,"sortable");if(d&&!d.options.disabled){j.sortables.push({instance:d,shouldRevert:d.options.revert});d._refreshItems();d._trigger("activate",k,a);}});},stop:function(h,f){var g=c(this).data("draggable"),a=c.extend({},f,{item:g.element});c.each(g.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;g.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;
if(this.shouldRevert){this.instance.options.revert=true;}this.instance._mouseStop(h);this.instance.options.helper=this.instance.options._helper;if(g.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"});}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",h,a);}});},drag:function(k,g){var h=c(this).data("draggable"),a=this;var j=function(t){var f=this.offset.click.top,o=this.offset.click.left;var v=this.positionAbs.top,r=this.positionAbs.left;var s=t.height,q=t.width;var d=t.top,u=t.left;return c.ui.isOver(v+f,r+o,d,u,s,q);};c.each(h.sortables,function(d){this.instance.positionAbs=h.positionAbs;this.instance.helperProportions=h.helperProportions;this.instance.offset.click=h.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=c(a).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return g.helper[0];};k.target=this.instance.currentItem[0];this.instance._mouseCapture(k,true);this.instance._mouseStart(k,true,true);this.instance.offset.click.top=h.offset.click.top;this.instance.offset.click.left=h.offset.click.left;this.instance.offset.parent.left-=h.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=h.offset.parent.top-this.instance.offset.parent.top;h._trigger("toSortable",k);h.dropped=this.instance.element;h.currentItem=h.element;this.instance.fromOutside=h;}if(this.instance.currentItem){this.instance._mouseDrag(k);}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",k,this.instance._uiHash(this.instance));this.instance._mouseStop(k,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove();}h._trigger("fromSortable",k);h.dropped=false;}}});}});c.ui.plugin.add("draggable","cursor",{start:function(h,g){var a=c("body"),f=c(this).data("draggable").options;if(a.css("cursor")){f._cursor=a.css("cursor");}a.css("cursor",f.cursor);},stop:function(a,g){var f=c(this).data("draggable").options;if(f._cursor){c("body").css("cursor",f._cursor);}}});c.ui.plugin.add("draggable","iframeFix",{start:function(a,g){var f=c(this).data("draggable").options;c(f.iframeFix===true?"iframe":f.iframeFix).each(function(){c('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(c(this).offset()).appendTo("body");});},stop:function(a,d){c("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this);});}});c.ui.plugin.add("draggable","opacity",{start:function(h,g){var a=c(g.helper),f=c(this).data("draggable").options;if(a.css("opacity")){f._opacity=a.css("opacity");}a.css("opacity",f.opacity);},stop:function(a,g){var f=c(this).data("draggable").options;if(f._opacity){c(g.helper).css("opacity",f._opacity);}}});c.ui.plugin.add("draggable","scroll",{start:function(g,f){var a=c(this).data("draggable");if(a.scrollParent[0]!=document&&a.scrollParent[0].tagName!="HTML"){a.overflowOffset=a.scrollParent.offset();}},drag:function(j,h){var k=c(this).data("draggable"),g=k.options,a=false;if(k.scrollParent[0]!=document&&k.scrollParent[0].tagName!="HTML"){if(!g.axis||g.axis!="x"){if((k.overflowOffset.top+k.scrollParent[0].offsetHeight)-j.pageY<g.scrollSensitivity){k.scrollParent[0].scrollTop=a=k.scrollParent[0].scrollTop+g.scrollSpeed;}else{if(j.pageY-k.overflowOffset.top<g.scrollSensitivity){k.scrollParent[0].scrollTop=a=k.scrollParent[0].scrollTop-g.scrollSpeed;}}}if(!g.axis||g.axis!="y"){if((k.overflowOffset.left+k.scrollParent[0].offsetWidth)-j.pageX<g.scrollSensitivity){k.scrollParent[0].scrollLeft=a=k.scrollParent[0].scrollLeft+g.scrollSpeed;}else{if(j.pageX-k.overflowOffset.left<g.scrollSensitivity){k.scrollParent[0].scrollLeft=a=k.scrollParent[0].scrollLeft-g.scrollSpeed;}}}}else{if(!g.axis||g.axis!="x"){if(j.pageY-c(document).scrollTop()<g.scrollSensitivity){a=c(document).scrollTop(c(document).scrollTop()-g.scrollSpeed);}else{if(c(window).height()-(j.pageY-c(document).scrollTop())<g.scrollSensitivity){a=c(document).scrollTop(c(document).scrollTop()+g.scrollSpeed);}}}if(!g.axis||g.axis!="y"){if(j.pageX-c(document).scrollLeft()<g.scrollSensitivity){a=c(document).scrollLeft(c(document).scrollLeft()-g.scrollSpeed);}else{if(c(window).width()-(j.pageX-c(document).scrollLeft())<g.scrollSensitivity){a=c(document).scrollLeft(c(document).scrollLeft()+g.scrollSpeed);}}}}if(a!==false&&c.ui.ddmanager&&!g.dropBehaviour){c.ui.ddmanager.prepareOffsets(k,j);}}});c.ui.plugin.add("draggable","snap",{start:function(h,g){var a=c(this).data("draggable"),f=a.options;a.snapElements=[];c(f.snap.constructor!=String?(f.snap.items||":data(draggable)"):f.snap).each(function(){var d=c(this);var j=d.offset();if(this!=a.element[0]){a.snapElements.push({item:this,width:d.outerWidth(),height:d.outerHeight(),top:j.top,left:j.left});}});},drag:function(t,E){var K=c(this).data("draggable"),C=K.options;var d=C.snapTolerance;var l=E.offset.left,o=l+K.helperProportions.width,L=E.offset.top,M=L+K.helperProportions.height;for(var r=K.snapElements.length-1;r>=0;r--){var B=K.snapElements[r].left,F=B+K.snapElements[r].width,G=K.snapElements[r].top,D=G+K.snapElements[r].height;if(!((B-d<l&&l<F+d&&G-d<L&&L<D+d)||(B-d<l&&l<F+d&&G-d<M&&M<D+d)||(B-d<o&&o<F+d&&G-d<L&&L<D+d)||(B-d<o&&o<F+d&&G-d<M&&M<D+d))){if(K.snapElements[r].snapping){(K.options.snap.release&&K.options.snap.release.call(K.element,t,c.extend(K._uiHash(),{snapItem:K.snapElements[r].item})));}K.snapElements[r].snapping=false;continue;}if(C.snapMode!="inner"){var N=Math.abs(G-M)<=d;var a=Math.abs(D-L)<=d;var I=Math.abs(B-o)<=d;var H=Math.abs(F-l)<=d;if(N){E.position.top=K._convertPositionTo("relative",{top:G-K.helperProportions.height,left:0}).top-K.margins.top;}if(a){E.position.top=K._convertPositionTo("relative",{top:D,left:0}).top-K.margins.top;}if(I){E.position.left=K._convertPositionTo("relative",{top:0,left:B-K.helperProportions.width}).left-K.margins.left;}if(H){E.position.left=K._convertPositionTo("relative",{top:0,left:F}).left-K.margins.left;}}var J=(N||a||I||H);if(C.snapMode!="outer"){var N=Math.abs(G-L)<=d;var a=Math.abs(D-M)<=d;var I=Math.abs(B-l)<=d;var H=Math.abs(F-o)<=d;if(N){E.position.top=K._convertPositionTo("relative",{top:G,left:0}).top-K.margins.top;}if(a){E.position.top=K._convertPositionTo("relative",{top:D-K.helperProportions.height,left:0}).top-K.margins.top;}if(I){E.position.left=K._convertPositionTo("relative",{top:0,left:B}).left-K.margins.left;}if(H){E.position.left=K._convertPositionTo("relative",{top:0,left:F-K.helperProportions.width}).left-K.margins.left;}}if(!K.snapElements[r].snapping&&(N||a||I||H||J)){(K.options.snap.snap&&K.options.snap.snap.call(K.element,t,c.extend(K._uiHash(),{snapItem:K.snapElements[r].item})));}K.snapElements[r].snapping=(N||a||I||H||J);}}});c.ui.plugin.add("draggable","stack",{start:function(a,h){var f=c(this).data("draggable").options;var g=c.makeArray(c(f.stack.group)).sort(function(d,j){return(parseInt(c(d).css("zIndex"),10)||f.stack.min)-(parseInt(c(j).css("zIndex"),10)||f.stack.min);});c(g).each(function(d){this.style.zIndex=f.stack.min+d;});this[0].style.zIndex=f.stack.min+g.length;}});c.ui.plugin.add("draggable","zIndex",{start:function(h,g){var a=c(g.helper),f=c(this).data("draggable").options;if(a.css("zIndex")){f._zIndex=a.css("zIndex");}a.css("zIndex",f.zIndex);},stop:function(a,g){var f=c(this).data("draggable").options;if(f._zIndex){c(g.helper).css("zIndex",f._zIndex);}}});})(jQuery);(function(c){c.widget("ui.droppable",{_init:function(){var d=this.options,a=d.accept;this.isover=0;this.isout=1;this.options.accept=this.options.accept&&c.isFunction(this.options.accept)?this.options.accept:function(f){return f.is(a);
};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};c.ui.ddmanager.droppables[this.options.scope]=c.ui.ddmanager.droppables[this.options.scope]||[];c.ui.ddmanager.droppables[this.options.scope].push(this);(this.options.addClasses&&this.element.addClass("ui-droppable"));},destroy:function(){var a=c.ui.ddmanager.droppables[this.options.scope];for(var d=0;d<a.length;d++){if(a[d]==this){a.splice(d,1);}}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");},_setData:function(a,d){if(a=="accept"){this.options.accept=d&&c.isFunction(d)?d:function(f){return f.is(d);};}else{c.widget.prototype._setData.apply(this,arguments);}},_activate:function(d){var a=c.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass);}(a&&this._trigger("activate",d,this.ui(a)));},_deactivate:function(d){var a=c.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}(a&&this._trigger("deactivate",d,this.ui(a)));},_over:function(d){var a=c.ui.ddmanager.current;if(!a||(a.currentItem||a.element)[0]==this.element[0]){return;}if(this.options.accept.call(this.element[0],(a.currentItem||a.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass);}this._trigger("over",d,this.ui(a));}},_out:function(d){var a=c.ui.ddmanager.current;if(!a||(a.currentItem||a.element)[0]==this.element[0]){return;}if(this.options.accept.call(this.element[0],(a.currentItem||a.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}this._trigger("out",d,this.ui(a));}},_drop:function(h,g){var a=g||c.ui.ddmanager.current;if(!a||(a.currentItem||a.element)[0]==this.element[0]){return false;}var f=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var d=c.data(this,"droppable");if(d.options.greedy&&c.ui.intersect(a,c.extend(d,{offset:d.element.offset()}),d.options.tolerance)){f=true;return false;}});if(f){return false;}if(this.options.accept.call(this.element[0],(a.currentItem||a.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}this._trigger("drop",h,this.ui(a));return this.element;}return false;},ui:function(a){return{draggable:(a.currentItem||a.element),helper:a.helper,position:a.position,absolutePosition:a.positionAbs,offset:a.positionAbs};}});c.extend(c.ui.droppable,{version:"1.7.2",eventPrefix:"drop",defaults:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"}});c.ui.intersect=function(a,v,r){if(!v.offset){return false;}var B=(a.positionAbs||a.position.absolute).left,C=B+a.helperProportions.width,s=(a.positionAbs||a.position.absolute).top,t=s+a.helperProportions.height;var z=v.offset.left,D=z+v.proportions.width,l=v.offset.top,u=l+v.proportions.height;switch(r){case"fit":return(z<B&&C<D&&l<s&&t<u);break;case"intersect":return(z<B+(a.helperProportions.width/2)&&C-(a.helperProportions.width/2)<D&&l<s+(a.helperProportions.height/2)&&t-(a.helperProportions.height/2)<u);break;case"pointer":var y=((a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left),w=((a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top),A=c.ui.isOver(w,y,l,z,v.proportions.height,v.proportions.width);return A;break;case"touch":return((s>=l&&s<=u)||(t>=l&&t<=u)||(s<l&&t>u))&&((B>=z&&B<=D)||(C>=z&&C<=D)||(B<z&&C>D));break;default:return false;break;}};c.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(n,k){var a=c.ui.ddmanager.droppables[n.options.scope];var l=k?k.type:null;var j=(n.currentItem||n.element).find(":data(droppable)").andSelf();droppablesLoop:for(var o=0;o<a.length;o++){if(a[o].options.disabled||(n&&!a[o].options.accept.call(a[o].element[0],(n.currentItem||n.element)))){continue;}for(var p=0;p<j.length;p++){if(j[p]==a[o].element[0]){a[o].proportions.height=0;continue droppablesLoop;}}a[o].visible=a[o].element.css("display")!="none";if(!a[o].visible){continue;}a[o].offset=a[o].element.offset();a[o].proportions={width:a[o].element[0].offsetWidth,height:a[o].element[0].offsetHeight};if(l=="mousedown"){a[o]._activate.call(a[o],k);}}},drop:function(a,g){var f=false;c.each(c.ui.ddmanager.droppables[a.options.scope],function(){if(!this.options){return;}if(!this.options.disabled&&this.visible&&c.ui.intersect(a,this,this.options.tolerance)){f=this._drop.call(this,g);}if(!this.options.disabled&&this.visible&&this.options.accept.call(this.element[0],(a.currentItem||a.element))){this.isout=1;this.isover=0;this._deactivate.call(this,g);}});return f;},drag:function(a,d){if(a.options.refreshPositions){c.ui.ddmanager.prepareOffsets(a,d);}c.each(c.ui.ddmanager.droppables[a.options.scope],function(){if(this.options.disabled||this.greedyChild||!this.visible){return;}var k=c.ui.intersect(a,this,this.options.tolerance);var h=!k&&this.isover==1?"isout":(k&&this.isover==0?"isover":null);if(!h){return;}var j;if(this.options.greedy){var l=this.element.parents(":data(droppable):eq(0)");if(l.length){j=c.data(l[0],"droppable");j.greedyChild=(h=="isover"?1:0);}}if(j&&h=="isover"){j.isover=0;j.isout=1;j._out.call(j,d);}this[h]=1;this[h=="isout"?"isover":"isout"]=0;this[h=="isover"?"_over":"_out"].call(this,d);if(j&&h=="isout"){j.isout=0;j.isover=1;j._over.call(j,d);}});}};})(jQuery);(function(c){c.widget("ui.sortable",c.extend({},c.ui.mouse,{_init:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?(/left|right/).test(this.items[0].item.css("float")):false;this.offset=this.element.offset();this._mouseInit();},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--){this.items[a].item.removeData("sortable-item");}},_mouseCapture:function(k,j){if(this.reverting){return false;}if(this.options.disabled||this.options.type=="static"){return false;}this._refreshItems(k);var l=null,n=this,a=c(k.target).parents().each(function(){if(c.data(this,"sortable-item")==n){l=c(this);return false;}});if(c.data(k.target,"sortable-item")==n){l=c(k.target);}if(!l){return false;}if(this.options.handle&&!j){var h=false;c(this.options.handle,l).find("*").andSelf().each(function(){if(this==k.target){h=true;}});if(!h){return false;}}this.currentItem=l;this._removeCurrentsFromItems();return true;},_mouseStart:function(k,j,a){var h=this.options,n=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(k);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");c.extend(this.offset,{click:{left:k.pageX-this.offset.left,top:k.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(k);this.originalPageX=k.pageX;this.originalPageY=k.pageY;if(h.cursorAt){this._adjustOffsetFromHelper(h.cursorAt);}this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!=this.currentItem[0]){this.currentItem.hide();}this._createPlaceholder();if(h.containment){this._setContainment();}if(h.cursor){if(c("body").css("cursor")){this._storedCursor=c("body").css("cursor");}c("body").css("cursor",h.cursor);}if(h.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity");}this.helper.css("opacity",h.opacity);}if(h.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex");}this.helper.css("zIndex",h.zIndex);}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset();
}this._trigger("start",k,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions();}if(!a){for(var l=this.containers.length-1;l>=0;l--){this.containers[l]._trigger("activate",k,n._uiHash(this));}}if(c.ui.ddmanager){c.ui.ddmanager.current=this;}if(c.ui.ddmanager&&!h.dropBehaviour){c.ui.ddmanager.prepareOffsets(this,k);}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(k);return true;},_mouseDrag:function(l){this.position=this._generatePosition(l);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs;}if(this.options.scroll){var k=this.options,a=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-l.pageY<k.scrollSensitivity){this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+k.scrollSpeed;}else{if(l.pageY-this.overflowOffset.top<k.scrollSensitivity){this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-k.scrollSpeed;}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-l.pageX<k.scrollSensitivity){this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+k.scrollSpeed;}else{if(l.pageX-this.overflowOffset.left<k.scrollSensitivity){this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-k.scrollSpeed;}}}else{if(l.pageY-c(document).scrollTop()<k.scrollSensitivity){a=c(document).scrollTop(c(document).scrollTop()-k.scrollSpeed);}else{if(c(window).height()-(l.pageY-c(document).scrollTop())<k.scrollSensitivity){a=c(document).scrollTop(c(document).scrollTop()+k.scrollSpeed);}}if(l.pageX-c(document).scrollLeft()<k.scrollSensitivity){a=c(document).scrollLeft(c(document).scrollLeft()-k.scrollSpeed);}else{if(c(window).width()-(l.pageX-c(document).scrollLeft())<k.scrollSensitivity){a=c(document).scrollLeft(c(document).scrollLeft()+k.scrollSpeed);}}}if(a!==false&&c.ui.ddmanager&&!k.dropBehaviour){c.ui.ddmanager.prepareOffsets(this,l);}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px";}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px";}for(var o=this.items.length-1;o>=0;o--){var n=this.items[o],p=n.item[0],j=this._intersectsWithPointer(n);if(!j){continue;}if(p!=this.currentItem[0]&&this.placeholder[j==1?"next":"prev"]()[0]!=p&&!c.ui.contains(this.placeholder[0],p)&&(this.options.type=="semi-dynamic"?!c.ui.contains(this.element[0],p):true)){this.direction=j==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(n)){this._rearrange(l,n);}else{break;}this._trigger("change",l,this._uiHash());break;}}this._contactContainers(l);if(c.ui.ddmanager){c.ui.ddmanager.drag(this,l);}this._trigger("sort",l,this._uiHash());this.lastPositionAbs=this.positionAbs;return false;},_mouseStop:function(h,g){if(!h){return;}if(c.ui.ddmanager&&!this.options.dropBehaviour){c.ui.ddmanager.drop(this,h);}if(this.options.revert){var a=this;var f=a.placeholder.offset();a.reverting=true;c(this.helper).animate({left:f.left-this.offset.parent.left-a.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:f.top-this.offset.parent.top-a.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){a._clear(h);});}else{this._clear(h,g);}return false;},cancel:function(){var a=this;if(this.dragging){this._mouseUp();if(this.options.helper=="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}for(var d=this.containers.length-1;d>=0;d--){this.containers[d]._trigger("deactivate",null,a._uiHash(this));if(this.containers[d].containerCache.over){this.containers[d]._trigger("out",null,a._uiHash(this));this.containers[d].containerCache.over=0;}}}if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0]);}if(this.options.helper!="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove();}c.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){c(this.domPosition.prev).after(this.currentItem);}else{c(this.domPosition.parent).prepend(this.currentItem);}return true;},serialize:function(f){var a=this._getItemsAsjQuery(f&&f.connected);var g=[];f=f||{};c(a).each(function(){var d=(c(f.item||this).attr(f.attribute||"id")||"").match(f.expression||(/(.+)[-=_](.+)/));if(d){g.push((f.key||d[1]+"[]")+"="+(f.key&&f.expression?d[1]:d[2]));}});return g.join("&");},toArray:function(f){var a=this._getItemsAsjQuery(f&&f.connected);var g=[];f=f||{};a.each(function(){g.push(c(f.item||this).attr(f.attribute||"id")||"");});return g;},_intersectsWith:function(p){var w=this.positionAbs.left,y=w+this.helperProportions.width,q=this.positionAbs.top,r=q+this.helperProportions.height;var v=p.left,z=v+p.width,l=p.top,s=l+p.height;var a=this.offset.click.top,t=this.offset.click.left;var u=(q+a)>l&&(q+a)<s&&(w+t)>v&&(w+t)<z;if(this.options.tolerance=="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>p[this.floating?"width":"height"])){return u;}else{return(v<w+(this.helperProportions.width/2)&&y-(this.helperProportions.width/2)<z&&l<q+(this.helperProportions.height/2)&&r-(this.helperProportions.height/2)<s);}},_intersectsWithPointer:function(l){var k=c.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,l.top,l.height),n=c.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,l.left,l.width),h=k&&n,a=this._getDragVerticalDirection(),j=this._getDragHorizontalDirection();if(!h){return false;}return this.floating?(((j&&j=="right")||a=="down")?2:1):(a&&(a=="down"?2:1));},_intersectsWithSides:function(h){var k=c.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,h.top+(h.height/2),h.height),j=c.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,h.left+(h.width/2),h.width),a=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();if(this.floating&&g){return((g=="right"&&j)||(g=="left"&&!j));}else{return a&&((a=="down"&&k)||(a=="up"&&!k));}},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up");},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left");},refresh:function(a){this._refreshItems(a);this.refreshPositions();},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith;},_getItemsAsjQuery:function(t){var a=this;var o=[];var q=[];var n=this._connectWith();if(n&&t){for(var r=n.length-1;r>=0;r--){var j=c(n[r]);for(var s=j.length-1;s>=0;s--){var p=c.data(j[s],"sortable");if(p&&p!=this&&!p.options.disabled){q.push([c.isFunction(p.options.items)?p.options.items.call(p.element):c(p.options.items,p.element).not(".ui-sortable-helper"),p]);}}}}q.push([c.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):c(this.options.items,this.element).not(".ui-sortable-helper"),this]);for(var r=q.length-1;r>=0;r--){q[r][0].each(function(){o.push(this);});}return c(o);},_removeCurrentsFromItems:function(){var f=this.currentItem.find(":data(sortable-item)");for(var g=0;g<this.items.length;g++){for(var a=0;a<f.length;a++){if(f[a]==this.items[g].item[0]){this.items.splice(g,1);}}}},_refreshItems:function(B){this.items=[];this.containers=[this];var u=this.items;var a=this;var w=[[c.isFunction(this.options.items)?this.options.items.call(this.element[0],B,{item:this.currentItem}):c(this.options.items,this.element),this]];var s=this._connectWith();if(s){for(var y=s.length-1;y>=0;y--){var r=c(s[y]);for(var z=r.length-1;z>=0;z--){var v=c.data(r[z],"sortable");if(v&&v!=this&&!v.options.disabled){w.push([c.isFunction(v.options.items)?v.options.items.call(v.element[0],B,{item:this.currentItem}):c(v.options.items,v.element),v]);
this.containers.push(v);}}}}for(var y=w.length-1;y>=0;y--){var t=w[y][1];var A=w[y][0];for(var z=0,q=A.length;z<q;z++){var j=c(A[z]);j.data("sortable-item",t);u.push({item:j,instance:t,width:0,height:0,left:0,top:0});}}},refreshPositions:function(a){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset();}for(var j=this.items.length-1;j>=0;j--){var h=this.items[j];if(h.instance!=this.currentContainer&&this.currentContainer&&h.item[0]!=this.currentItem[0]){continue;}var k=this.options.toleranceElement?c(this.options.toleranceElement,h.item):h.item;if(!a){h.width=k.outerWidth();h.height=k.outerHeight();}var g=k.offset();h.left=g.left;h.top=g.top;}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this);}else{for(var j=this.containers.length-1;j>=0;j--){var g=this.containers[j].element.offset();this.containers[j].containerCache.left=g.left;this.containers[j].containerCache.top=g.top;this.containers[j].containerCache.width=this.containers[j].element.outerWidth();this.containers[j].containerCache.height=this.containers[j].element.outerHeight();}}},_createPlaceholder:function(g){var a=g||this,f=a.options;if(!f.placeholder||f.placeholder.constructor==String){var h=f.placeholder;f.placeholder={element:function(){var d=c(document.createElement(a.currentItem[0].nodeName)).addClass(h||a.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!h){d.style.visibility="hidden";}return d;},update:function(j,d){if(h&&!f.forcePlaceholderSize){return;}if(!d.height()){d.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10));}if(!d.width()){d.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10));}}};}a.placeholder=c(f.placeholder.element.call(a.element,a.currentItem));a.currentItem.after(a.placeholder);f.placeholder.update(a,a.placeholder);},_contactContainers:function(o){for(var p=this.containers.length-1;p>=0;p--){if(this._intersectsWith(this.containers[p].containerCache)){if(!this.containers[p].containerCache.over){if(this.currentContainer!=this.containers[p]){var j=10000;var k=null;var n=this.positionAbs[this.containers[p].floating?"left":"top"];for(var a=this.items.length-1;a>=0;a--){if(!c.ui.contains(this.containers[p].element[0],this.items[a].item[0])){continue;}var l=this.items[a][this.containers[p].floating?"left":"top"];if(Math.abs(l-n)<j){j=Math.abs(l-n);k=this.items[a];}}if(!k&&!this.options.dropOnEmpty){continue;}this.currentContainer=this.containers[p];k?this._rearrange(o,k,null,true):this._rearrange(o,null,this.containers[p].element,true);this._trigger("change",o,this._uiHash());this.containers[p]._trigger("change",o,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);}this.containers[p]._trigger("over",o,this._uiHash(this));this.containers[p].containerCache.over=1;}}else{if(this.containers[p].containerCache.over){this.containers[p]._trigger("out",o,this._uiHash(this));this.containers[p].containerCache.over=0;}}}},_createHelper:function(g){var f=this.options;var a=c.isFunction(f.helper)?c(f.helper.apply(this.element[0],[g,this.currentItem])):(f.helper=="clone"?this.currentItem.clone():this.currentItem);if(!a.parents("body").length){c(f.appendTo!="parent"?f.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]);}if(a[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};}if(a[0].style.width==""||f.forceHelperSize){a.width(this.currentItem.width());}if(a[0].style.height==""||f.forceHelperSize){a.height(this.currentItem.height());}return a;},_adjustOffsetFromHelper:function(a){if(a.left!=undefined){this.offset.click.left=a.left+this.margins.left;}if(a.right!=undefined){this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;}if(a.top!=undefined){this.offset.click.top=a.top+this.margins.top;}if(a.bottom!=undefined){this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop();}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&c.browser.msie)){a={top:0,left:0};}return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var f=this.options;if(f.containment=="parent"){f.containment=this.helper[0].parentNode;}if(f.containment=="document"||f.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,c(f.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(c(f.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}if(!(/^(document|window|parent)$/).test(f.containment)){var h=c(f.containment)[0];var g=c(f.containment).offset();var a=(c(h).css("overflow")!="hidden");this.containment=[g.left+(parseInt(c(h).css("borderLeftWidth"),10)||0)+(parseInt(c(h).css("paddingLeft"),10)||0)-this.margins.left,g.top+(parseInt(c(h).css("borderTopWidth"),10)||0)+(parseInt(c(h).css("paddingTop"),10)||0)-this.margins.top,g.left+(a?Math.max(h.scrollWidth,h.offsetWidth):h.offsetWidth)-(parseInt(c(h).css("borderLeftWidth"),10)||0)-(parseInt(c(h).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,g.top+(a?Math.max(h.scrollHeight,h.offsetHeight):h.offsetHeight)-(parseInt(c(h).css("borderTopWidth"),10)||0)-(parseInt(c(h).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top];}},_convertPositionTo:function(k,d){if(!d){d=this.position;}var n=k=="absolute"?1:-1;var l=this.options,a=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(a[0].tagName);return{top:(d.top+this.offset.relative.top*n+this.offset.parent.top*n-(c.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:a.scrollTop()))*n)),left:(d.left+this.offset.relative.left*n+this.offset.parent.left*n-(c.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:a.scrollLeft())*n))};},_generatePosition:function(o){var k=this.options,a=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(a[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset();}var p=o.pageX;var q=o.pageY;if(this.originalPosition){if(this.containment){if(o.pageX-this.offset.click.left<this.containment[0]){p=this.containment[0]+this.offset.click.left;
}if(o.pageY-this.offset.click.top<this.containment[1]){q=this.containment[1]+this.offset.click.top;}if(o.pageX-this.offset.click.left>this.containment[2]){p=this.containment[2]+this.offset.click.left;}if(o.pageY-this.offset.click.top>this.containment[3]){q=this.containment[3]+this.offset.click.top;}}if(k.grid){var l=this.originalPageY+Math.round((q-this.originalPageY)/k.grid[1])*k.grid[1];q=this.containment?(!(l-this.offset.click.top<this.containment[1]||l-this.offset.click.top>this.containment[3])?l:(!(l-this.offset.click.top<this.containment[1])?l-k.grid[1]:l+k.grid[1])):l;var n=this.originalPageX+Math.round((p-this.originalPageX)/k.grid[0])*k.grid[0];p=this.containment?(!(n-this.offset.click.left<this.containment[0]||n-this.offset.click.left>this.containment[2])?n:(!(n-this.offset.click.left<this.containment[0])?n-k.grid[0]:n+k.grid[0])):n;}}return{top:(q-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(c.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:a.scrollTop())))),left:(p-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(c.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:a.scrollLeft())))};},_rearrange:function(h,j,n,k){n?n[0].appendChild(this.placeholder[0]):j.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction=="down"?j.item[0]:j.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var l=this,a=this.counter;window.setTimeout(function(){if(a==l.counter){l.refreshPositions(!k);}},0);},_clear:function(j,h){this.reverting=false;var g=[],a=this;if(!this._noFinalSort&&this.currentItem[0].parentNode){this.placeholder.before(this.currentItem);}this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var k in this._storedCSS){if(this._storedCSS[k]=="auto"||this._storedCSS[k]=="static"){this._storedCSS[k]="";}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}if(this.fromOutside&&!h){g.push(function(d){this._trigger("receive",d,this._uiHash(this.fromOutside));});}if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!h){g.push(function(d){this._trigger("update",d,this._uiHash());});}if(!c.ui.contains(this.element[0],this.currentItem[0])){if(!h){g.push(function(d){this._trigger("remove",d,this._uiHash());});}for(var k=this.containers.length-1;k>=0;k--){if(c.ui.contains(this.containers[k].element[0],this.currentItem[0])&&!h){g.push((function(d){return function(f){d._trigger("receive",f,this._uiHash(this));};}).call(this,this.containers[k]));g.push((function(d){return function(f){d._trigger("update",f,this._uiHash(this));};}).call(this,this.containers[k]));}}}for(var k=this.containers.length-1;k>=0;k--){if(!h){g.push((function(d){return function(f){d._trigger("deactivate",f,this._uiHash(this));};}).call(this,this.containers[k]));}if(this.containers[k].containerCache.over){g.push((function(d){return function(f){d._trigger("out",f,this._uiHash(this));};}).call(this,this.containers[k]));this.containers[k].containerCache.over=0;}}if(this._storedCursor){c("body").css("cursor",this._storedCursor);}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity);}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);}this.dragging=false;if(this.cancelHelperRemoval){if(!h){this._trigger("beforeStop",j,this._uiHash());for(var k=0;k<g.length;k++){g[k].call(this,j);}this._trigger("stop",j,this._uiHash());}return false;}if(!h){this._trigger("beforeStop",j,this._uiHash());}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!=this.currentItem[0]){this.helper.remove();}this.helper=null;if(!h){for(var k=0;k<g.length;k++){g[k].call(this,j);}this._trigger("stop",j,this._uiHash());}this.fromOutside=false;return true;},_trigger:function(){if(c.widget.prototype._trigger.apply(this,arguments)===false){this.cancel();}},_uiHash:function(d){var a=d||this;return{helper:a.helper,placeholder:a.placeholder||c([]),position:a.position,absolutePosition:a.positionAbs,offset:a.positionAbs,item:a.currentItem,sender:d?d.element:null};}}));c.extend(c.ui.sortable,{getter:"serialize toArray",version:"1.7.2",eventPrefix:"sort",defaults:{appendTo:"parent",axis:false,cancel:":input,option",connectWith:false,containment:false,cursor:"auto",cursorAt:false,delay:0,distance:1,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000}});})(jQuery);jQuery.effects||(function(j){j.effects={version:"1.7.2",save:function(c,a){for(var d=0;d<a.length;d++){if(a[d]!==null){c.data("ec.storage."+a[d],c[0].style[a[d]]);}}},restore:function(c,a){for(var d=0;d<a.length;d++){if(a[d]!==null){c.css(a[d],c.data("ec.storage."+a[d]));}}},setMode:function(c,a){if(a=="toggle"){a=c.is(":hidden")?"show":"hide";}return a;},getBaseline:function(d,c){var a,l;switch(d[0]){case"top":a=0;break;case"middle":a=0.5;break;case"bottom":a=1;break;default:a=d[0]/c.height;}switch(d[1]){case"left":l=0;break;case"center":l=0.5;break;case"right":l=1;break;default:l=d[1]/c.width;}return{x:l,y:a};},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper")){return n.parent();}var l={width:n.outerWidth(true),height:n.outerHeight(true),"float":n.css("float")};n.wrap('<div class="ui-effects-wrapper" style="font-size:100%;background:transparent;border:none;margin:0;padding:0"></div>');var a=n.parent();if(n.css("position")=="static"){a.css({position:"relative"});n.css({position:"relative"});}else{var c=n.css("top");if(isNaN(parseInt(c,10))){c="auto";}var d=n.css("left");if(isNaN(parseInt(d,10))){d="auto";}a.css({position:n.css("position"),top:c,left:d,zIndex:n.css("z-index")}).show();n.css({position:"relative",top:0,left:0});}a.css(l);return a;},removeWrapper:function(a){if(a.parent().is(".ui-effects-wrapper")){return a.parent().replaceWith(a);}return a;},setTransition:function(d,a,l,c){c=c||{};j.each(a,function(n,o){unit=d.cssUnit(o);if(unit[0]>0){c[o]=unit[0]*l+unit[1];}});return c;},animateClass:function(l,d,a,c){var o=(typeof a=="function"?a:(c?c:null));var n=(typeof a=="string"?a:null);return this.each(function(){var v={};var y=j(this);var w=y.attr("style")||"";if(typeof w=="object"){w=w.cssText;}if(l.toggle){y.hasClass(l.toggle)?l.remove=l.toggle:l.add=l.toggle;}var t=j.extend({},(document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle));if(l.add){y.addClass(l.add);}if(l.remove){y.removeClass(l.remove);}var s=j.extend({},(document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle));if(l.add){y.removeClass(l.add);}if(l.remove){y.addClass(l.remove);}for(var u in s){if(typeof s[u]!="function"&&s[u]&&u.indexOf("Moz")==-1&&u.indexOf("length")==-1&&s[u]!=t[u]&&(u.match(/color/i)||(!u.match(/color/i)&&!isNaN(parseInt(s[u],10))))&&(t.position!="static"||(t.position=="static"&&!u.match(/left|top|bottom|right/)))){v[u]=s[u];}}y.animate(v,d,n,function(){if(typeof j(this).attr("style")=="object"){j(this).attr("style")["cssText"]="";j(this).attr("style")["cssText"]=w;}else{j(this).attr("style",w);}if(l.add){j(this).addClass(l.add);}if(l.remove){j(this).removeClass(l.remove);}if(o){o.apply(this,arguments);}});});}};function k(l,n){var c=l[1]&&l[1].constructor==Object?l[1]:{};if(n){c.mode=n;}var d=l[1]&&l[1].constructor!=Object?l[1]:(c.duration?c.duration:l[2]);d=j.fx.off?0:typeof d==="number"?d:j.fx.speeds[d]||j.fx.speeds._default;var a=c.callback||(j.isFunction(l[1])&&l[1])||(j.isFunction(l[2])&&l[2])||(j.isFunction(l[3])&&l[3]);return[l[0],c,d,a];}j.fn.extend({_show:j.fn.show,_hide:j.fn.hide,__toggle:j.fn.toggle,_addClass:j.fn.addClass,_removeClass:j.fn.removeClass,_toggleClass:j.fn.toggleClass,effect:function(d,l,c,a){return j.effects[d]?j.effects[d].call(this,{method:d,options:l||{},duration:c,callback:a}):null;
},show:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))){return this._show.apply(this,arguments);}else{return this.effect.apply(this,k(arguments,"show"));}},hide:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))){return this._hide.apply(this,arguments);}else{return this.effect.apply(this,k(arguments,"hide"));}},toggle:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))||(j.isFunction(arguments[0])||typeof arguments[0]=="boolean")){return this.__toggle.apply(this,arguments);}else{return this.effect.apply(this,k(arguments,"toggle"));}},addClass:function(d,l,a,c){return l?j.effects.animateClass.apply(this,[{add:d},l,a,c]):this._addClass(d);},removeClass:function(d,l,a,c){return l?j.effects.animateClass.apply(this,[{remove:d},l,a,c]):this._removeClass(d);},toggleClass:function(d,l,a,c){return((typeof l!=="boolean")&&l)?j.effects.animateClass.apply(this,[{toggle:d},l,a,c]):this._toggleClass(d,l);},morph:function(n,d,l,a,c){return j.effects.animateClass.apply(this,[{add:d,remove:n},l,a,c]);},switchClass:function(){return this.morph.apply(this,arguments);},cssUnit:function(d){var c=this.css(d),a=[];j.each(["em","px","%","pt"],function(n,l){if(c.indexOf(l)>0){a=[parseFloat(c),l];}});return a;}});j.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(a,c){j.fx.step[c]=function(d){if(d.state==0){d.start=h(d.elem,c);d.end=f(d.end);}d.elem.style[c]="rgb("+[Math.max(Math.min(parseInt((d.pos*(d.end[0]-d.start[0]))+d.start[0],10),255),0),Math.max(Math.min(parseInt((d.pos*(d.end[1]-d.start[1]))+d.start[1],10),255),0),Math.max(Math.min(parseInt((d.pos*(d.end[2]-d.start[2]))+d.start[2],10),255),0)].join(",")+")";};});function f(a){var c;if(a&&a.constructor==Array&&a.length==3){return a;}if(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a)){return[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)];}if(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a)){return[parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55];}if(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a)){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)];}if(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a)){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)];}if(c=/rgba\(0, 0, 0, 0\)/.exec(a)){return g.transparent;}return g[j.trim(a).toLowerCase()];}function h(a,d){var c;do{c=j.curCSS(a,d);if(c!=""&&c!="transparent"||j.nodeName(a,"body")){break;}d="backgroundColor";}while(a=a.parentNode);return f(c);}var g={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};j.easing.jswing=j.easing.swing;j.extend(j.easing,{def:"easeOutQuad",swing:function(l,d,n,a,c){return j.easing[j.easing.def](l,d,n,a,c);},easeInQuad:function(l,d,n,a,c){return a*(d/=c)*d+n;},easeOutQuad:function(l,d,n,a,c){return -a*(d/=c)*(d-2)+n;},easeInOutQuad:function(l,d,n,a,c){if((d/=c/2)<1){return a/2*d*d+n;}return -a/2*((--d)*(d-2)-1)+n;},easeInCubic:function(l,d,n,a,c){return a*(d/=c)*d*d+n;},easeOutCubic:function(l,d,n,a,c){return a*((d=d/c-1)*d*d+1)+n;},easeInOutCubic:function(l,d,n,a,c){if((d/=c/2)<1){return a/2*d*d*d+n;}return a/2*((d-=2)*d*d+2)+n;},easeInQuart:function(l,d,n,a,c){return a*(d/=c)*d*d*d+n;},easeOutQuart:function(l,d,n,a,c){return -a*((d=d/c-1)*d*d*d-1)+n;},easeInOutQuart:function(l,d,n,a,c){if((d/=c/2)<1){return a/2*d*d*d*d+n;}return -a/2*((d-=2)*d*d*d-2)+n;},easeInQuint:function(l,d,n,a,c){return a*(d/=c)*d*d*d*d+n;},easeOutQuint:function(l,d,n,a,c){return a*((d=d/c-1)*d*d*d*d+1)+n;},easeInOutQuint:function(l,d,n,a,c){if((d/=c/2)<1){return a/2*d*d*d*d*d+n;}return a/2*((d-=2)*d*d*d*d+2)+n;},easeInSine:function(l,d,n,a,c){return -a*Math.cos(d/c*(Math.PI/2))+a+n;},easeOutSine:function(l,d,n,a,c){return a*Math.sin(d/c*(Math.PI/2))+n;},easeInOutSine:function(l,d,n,a,c){return -a/2*(Math.cos(Math.PI*d/c)-1)+n;},easeInExpo:function(l,d,n,a,c){return(d==0)?n:a*Math.pow(2,10*(d/c-1))+n;},easeOutExpo:function(l,d,n,a,c){return(d==c)?n+a:a*(-Math.pow(2,-10*d/c)+1)+n;},easeInOutExpo:function(l,d,n,a,c){if(d==0){return n;}if(d==c){return n+a;}if((d/=c/2)<1){return a/2*Math.pow(2,10*(d-1))+n;}return a/2*(-Math.pow(2,-10*--d)+2)+n;},easeInCirc:function(l,d,n,a,c){return -a*(Math.sqrt(1-(d/=c)*d)-1)+n;},easeOutCirc:function(l,d,n,a,c){return a*Math.sqrt(1-(d=d/c-1)*d)+n;},easeInOutCirc:function(l,d,n,a,c){if((d/=c/2)<1){return -a/2*(Math.sqrt(1-d*d)-1)+n;}return a/2*(Math.sqrt(1-(d-=2)*d)+1)+n;},easeInElastic:function(q,o,r,a,c){var n=1.70158;var d=0;var p=a;if(o==0){return r;}if((o/=c)==1){return r+a;}if(!d){d=c*0.3;}if(p<Math.abs(a)){p=a;var n=d/4;}else{var n=d/(2*Math.PI)*Math.asin(a/p);}return -(p*Math.pow(2,10*(o-=1))*Math.sin((o*c-n)*(2*Math.PI)/d))+r;},easeOutElastic:function(q,o,r,a,c){var n=1.70158;var d=0;var p=a;if(o==0){return r;}if((o/=c)==1){return r+a;}if(!d){d=c*0.3;}if(p<Math.abs(a)){p=a;var n=d/4;}else{var n=d/(2*Math.PI)*Math.asin(a/p);}return p*Math.pow(2,-10*o)*Math.sin((o*c-n)*(2*Math.PI)/d)+a+r;},easeInOutElastic:function(q,o,r,a,c){var n=1.70158;var d=0;var p=a;if(o==0){return r;}if((o/=c/2)==2){return r+a;}if(!d){d=c*(0.3*1.5);}if(p<Math.abs(a)){p=a;var n=d/4;}else{var n=d/(2*Math.PI)*Math.asin(a/p);}if(o<1){return -0.5*(p*Math.pow(2,10*(o-=1))*Math.sin((o*c-n)*(2*Math.PI)/d))+r;}return p*Math.pow(2,-10*(o-=1))*Math.sin((o*c-n)*(2*Math.PI)/d)*0.5+a+r;},easeInBack:function(n,l,o,a,c,d){if(d==undefined){d=1.70158;}return a*(l/=c)*l*((d+1)*l-d)+o;},easeOutBack:function(n,l,o,a,c,d){if(d==undefined){d=1.70158;}return a*((l=l/c-1)*l*((d+1)*l+d)+1)+o;},easeInOutBack:function(n,l,o,a,c,d){if(d==undefined){d=1.70158;}if((l/=c/2)<1){return a/2*(l*l*(((d*=(1.525))+1)*l-d))+o;}return a/2*((l-=2)*l*(((d*=(1.525))+1)*l+d)+2)+o;},easeInBounce:function(l,d,n,a,c){return a-j.easing.easeOutBounce(l,c-d,0,a,c)+n;},easeOutBounce:function(l,d,n,a,c){if((d/=c)<(1/2.75)){return a*(7.5625*d*d)+n;}else{if(d<(2/2.75)){return a*(7.5625*(d-=(1.5/2.75))*d+0.75)+n;}else{if(d<(2.5/2.75)){return a*(7.5625*(d-=(2.25/2.75))*d+0.9375)+n;}else{return a*(7.5625*(d-=(2.625/2.75))*d+0.984375)+n;}}}},easeInOutBounce:function(l,d,n,a,c){if(d<c/2){return j.easing.easeInBounce(l,d*2,0,a,c)*0.5+n;}return j.easing.easeOutBounce(l,d*2-c,0,a,c)*0.5+a*0.5+n;}});})(jQuery);(function(c){c.effects.highlight=function(a){return this.queue(function(){var n=c(this),o=["backgroundImage","backgroundColor","opacity"];var j=c.effects.setMode(n,a.options.mode||"show");var p=a.options.color||"#ffff99";var k=n.css("backgroundColor");c.effects.save(n,o);n.show();n.css({backgroundImage:"none",backgroundColor:p});var l={backgroundColor:k};if(j=="hide"){l.opacity=0;}n.animate(l,{queue:false,duration:a.duration,easing:a.options.easing,complete:function(){if(j=="hide"){n.hide();}c.effects.restore(n,o);if(j=="show"&&c.browser.msie){this.style.removeAttribute("filter");}if(a.callback){a.callback.apply(this,arguments);}n.dequeue();}});});};})(jQuery);function submitCalculatorStarter(c){var d={"millionaire":{"fields":["principal","deposit"],"uri":"/tools/millionaire/millionaire.html?"},"saveyoung":{"fields":["age","salaryEntry","savingsEntry"],"uri":"/tools/saveyoung/index.html?"},"assetalloc":{"fields":["timeHorizon","riskTolerance"],"uri":""},"costofliving":{"fields":["salary"],"uri":""},"retireyoung":{"fields":["myAge","myIncome"],"uri":""},"savings":{"fields":["principal","deposit"],"uri":""}};
function f(g){var k="";for(var j=0;j<g.length;j++){var h=document.getElementById(g[j]);if(h==null){continue;}k+=h.id+"="+h.value+"&";}return k;}var a=d[c];top.location.href=a.uri+f(a.fields);}var calc_collegecoststarter={searchterm_id:null,searchstate_id:null,init:function(a){this.searchterm_id=a.searchterm_id;this.searchstate_id=a.searchstate_id;jQuery(a.searchstate_dropdown+" li a").click(function(){jQuery(a.searchterm_id).val("");});jQuery(a.searchterm_id).click(function(){jQuery("#collegecalc_states ul .selected").removeClass("selected");jQuery("#collegecalc_states .selected li a").html("All states");});},collegestarterSend:function(){var d=jQuery(this.searchstate_id).attr("key");var a=jQuery(this.searchterm_id).val();var a=a.replace(" ","+");var c="/tools/collegecost/collegecost.html"+"?state="+d+"&query="+a;document.location.href=c;location=c;}};Serializer=function(){this._nameExclusions={};this._typeExclusions={};this._encode=true;this._strictJson=true;this._safeDeserialize=false;this._sBase64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";};Serializer.prototype.serialize=function(a){this._data=[];this._serializeNode([a],a,0);this._data=this._data.join("");this._data=this._data.replace(/,}/g,"}");this._data=this._data.replace(/,]/g,"]");this._data=this._data.substr(0,this._data.length-1);if(this.allowEncoding()){this._data=this.base64encode(this._data);}return this._data;};Serializer.prototype.addNameExclusion=function(){var a=arguments.length;for(var c=0;c<a;c++){this._nameExclusions[arguments[c]]=true;}};Serializer.prototype.removeNameExclusion=function(){var a=arguments.length;for(var c=0;c<a;c++){this._nameExclusions[arguments[c]]=false;}};Serializer.prototype.addTypeExclusion=function(){var a=arguments.length;for(var c=0;c<a;c++){this._typeExclusions[arguments[c].toLowerCase()]=true;}};Serializer.prototype.removeTypeExclusion=function(){var a=arguments.length;for(var c=0;c<a;c++){this._typeExclusions[arguments[c].toLowerCase()]=false;}};Serializer.prototype.requireStrictJson=function(a){if(typeof(a)!="undefined"){this._strictJson=a;}return this._strictJson;};Serializer.prototype.requireSafeDeserialize=function(a){if(typeof(a)!="undefined"){this._safeDeserialize=a;}return this._safeDeserialize;};Serializer.prototype.allowEncoding=function(a){if(typeof(a)!="undefined"){this._encode=a;}return this._encode;};Serializer.prototype._unicodeEscape=function(f){var g=f.charCodeAt(0);var d="\\u";var c=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];var a;a=4096;d+=c[Math.floor(g/a)];g=g%a;a=256;d+=c[Math.floor(g/a)];g=g%a;a=16;d+=c[Math.floor(g/a)];g=g%a;a=1;d+=c[Math.floor(g/a)];g=g%a;return d;};Serializer.prototype._serializeNode=function(d,h,k,p){var q,l,c,a;for(var j in d){if(d[j]===null){q="null";}else{q=typeof(d[j]);}l=q=="object"?true:false;q=q=="object"&&typeof(d[j].length)!="undefined"&&d[j].constructor==Array?"array":q;if(!this._typeExclusions[q]&&!this._nameExclusions[j]&&!(this._strictJson&&q=="function")){switch(q){case"string":c='"';a='"';break;case"object":c="{";a="}";break;case"array":c="[";a="]";break;default:c="";a="";break;}if(isFinite(j)&&!(p&&p=="object")){this._data.push(c);}else{var g=typeof(j)=="string"?'"'+j+'"':j;this._data.push(g+":"+c);}if(l){if(k==0||d[j]!==h){this._serializeNode(d[j],null,null,q);}}else{if(q=="string"){this._data.push(d[j].replace(/[^ -~]|[\"\\]/g,this._unicodeEscape));}else{if(q=="undefined"||q=="null"){this._data.push(this._strictJson?"null":q);}else{this._data.push(d[j]);}}}this._data.push(a+",");}}};Serializer.prototype.deserialize=function(d){try{if(this.hasEncodingLeader(d)){d=this.base64decode(d);}if(this._safeDeserialize){return this.safeDeserialize(d);}else{return this.unsafeDeserialize(d);}}catch(c){if(typeof(dbg)=="function"){dbg("Serializer.deserialize() error","","red");dbgObject(c);dbg("Serializer Source",d);}var a="";}return a;};Serializer.prototype.safeDeserialize=function(o){try{var p=new jsonParser();p.parse(o);eval("var x = "+o);}catch(e){var x=null;}return x;};Serializer.prototype.unsafeDeserialize=function(o){try{eval("var x = "+o);}catch(e){var x=null;}return x;};Serializer.prototype.hasEncodingLeader=function(a){return a.indexOf("B64ENC")==0?true:false;};Serializer.prototype.stripLeader=function(a){return a.substr(6,a.length);};Serializer.prototype.prependLeader=function(a){return"B64ENC"+a;};Serializer.prototype.base64decode=function(c){var a;var f;var d=[];if(this.hasEncodingLeader(c)){c=this.stripLeader(c);}else{return c;}c=c.replace(/=/g,"");for(a=0;a<c.length;a+=4){f=(this._sBase64.indexOf(c.charAt(a))<<18)|(this._sBase64.indexOf(c.charAt(a+1))<<12)|((this._sBase64.indexOf(c.charAt(a+2))&255)<<6)|(this._sBase64.indexOf(c.charAt(a+3))&255);d.push(String.fromCharCode(f>>16&255));d.push((a>c.length-3)?"":String.fromCharCode(f>>8&255));d.push((a>c.length-4)?"":String.fromCharCode(f&255));}return d.join("");};Serializer.prototype.base64encode=function(c){var a;var f;var d=[];for(a=0;a<c.length;a+=3){f=(c.charCodeAt(a)<<16)+((c.charCodeAt(a+1)&255)<<8)+(c.charCodeAt(a+2)&255);d.push(this._sBase64.charAt(f>>18&63));d.push(this._sBase64.charAt(f>>12&63));d.push((a>c.length-2)?"=":this._sBase64.charAt(f>>6&63));d.push((a>c.length-3)?"=":this._sBase64.charAt(f&63));}d=this.prependLeader(d.join(""));return d;};function jsonParser(){this.lexer=null;this.tokens=[];}jsonParser.prototype.parse=function(a){this.lexer=new jsonLexer(a);return this._json();};jsonParser.prototype.lookAhead=function(a){while(this.tokens.length<=a){this.tokens.push(this.lexer.nextToken());}return this.tokens[a].type;};jsonParser.prototype.consume=function(a){if(this.tokens.length==0){this.tokens.push(this.lexer.nextToken());}if(this.tokens[0].type==a){this.tokens.shift();}else{throw {message:"JSON: invalid token encountered validating string; Expected "+a+", got "+this.tokens[0].type};}};jsonParser.prototype._json=function(){this._value();this.consume("_EOF");};jsonParser.prototype._value=function(){switch(this.lookAhead(0)){case"_OBJ_OPEN":this._object();break;case"_ARR_OPEN":this._array();break;case"_DIGITS":case"_NEG":this._number();break;case"_STRING":this.consume("_STRING");break;case"_TRUE":this.consume("_TRUE");break;case"_FALSE":this.consume("_FALSE");break;case"_NULL":this.consume("_NULL");break;}};jsonParser.prototype._object=function(){this.consume("_OBJ_OPEN");if(this.lookAhead(0)!="_OBJ_CLOSE"){this._member();}while(this.lookAhead(0)!="_OBJ_CLOSE"){this.consume("_SEP");this._member();}this.consume("_OBJ_CLOSE");};jsonParser.prototype._member=function(){this.consume("_STRING");this.consume("_ASSIGN");this._value();};jsonParser.prototype._array=function(){this.consume("_ARR_OPEN");if(this.lookAhead(0)!="_ARR_CLOSE"){this._value();}while(this.lookAhead(0)!="_ARR_CLOSE"){this.consume("_SEP");this._value();}this.consume("_ARR_CLOSE");};jsonParser.prototype._number=function(){if(this.lookAhead(0)=="_NEG"){this.consume("_NEG");}this.consume("_DIGITS");if(this.lookAhead(0)=="_DOT"){this.consume("_DOT");this.consume("_DIGITS");}if(this.lookAhead(0)=="_EXP"){this.consume("_EXP");if(this.lookAhead(0)=="_POS"){this.consume("_POS");}else{if(this.lookAhead(0)=="_NEG"){this.consume("_NEG");}}this.consume("_DIGITS");}};function jsonLexer(a){a=a.replace(/"([^"\\]|\\"|\\)*"/g,"S");a=a.replace(/[0-9]+/g,"0");this.input=a;}jsonLexer.prototype.charTokens={"{":"_OBJ_OPEN","}":"_OBJ_CLOSE","[":"_ARR_OPEN","]":"_ARR_CLOSE",":":"_ASSIGN",",":"_SEP",".":"_DOT","-":"_NEG","+":"_POS","e":"_EXP","E":"_EXP","S":"_STRING","0":"_DIGITS"};jsonLexer.prototype.nextToken=function(){if(this.input.length==0){return new jsonToken("_EOF",null);}var a=this.input.substr(0,1);if(this.charTokens[a]){this.input=this.input.substr(1);return new jsonToken(this.charTokens[a],a);}switch(a){case"t":case"T":if(this.input.substr(0,4).toLowerCase()=="true"){this.input=this.input.substr(4);return new jsonToken("_TRUE",true);}break;case"f":case"F":if(this.input.substr(0,5).toLowerCase()=="false"){this.input=this.input.substr(5);
return new jsonToken("_FALSE",true);}break;case"n":if(this.input.substr(0,4)=="null"){this.input=this.input.substr(4);return new jsonToken("_NULL",true);}break;}throw {message:"JSON: Unexpected character ("+a+") encountered validating string"};};function jsonToken(a,c){this.type=a;this.value=c;}var common=new (function(){var a=this;this.serializer=new Serializer();this.isIE6=(jQuery.browser.msie&&jQuery.browser.version==6)?1:0;this.quirksMode=(jQuery.browser.msie&&!jQuery.support.boxModel)?true:false;this.commonGen=jQuery("#commonGen");this.urlPrefix=(typeof(urlPre)!="undefined")?urlPre:"";this.urlPre=this.urlPrefix;this._getEnv=function(){if(location.href.indexOf("dev2")>-1){return"DEV";}else{if(location.href.indexOf("money.qai")>-1){return"QAI";}else{return"PROD";}}};this.cnnGetDomain=function(){if("QAI"==this._getEnv()){return"http://money.qai.cnn.com/";}else{return"http://money.cnn.com/";}};this.wsodGetDomain=function(){if("DEV"==this._getEnv()){return"http://dev2.wallst.com/";}else{if("QAI"==this._getEnv()){return"http://markets.money.qai.cnn.com/";}else{return"http://markets.money.cnn.com/";}}};this.initStorageManager=function(){};this.saveToStorageManager=function(c){};this.isRunningAtCNN=function(){try{if(location.href.indexOf("cnn.com")>-1){return true;}else{return false;}}catch(c){return true;}};this.showLoading=function(f){if(jQuery("#loading_"+f).length>0){this.hideLoading(f);}var c=jQuery("#"+f).height();var j=jQuery("#"+f).width();var g=jQuery("#"+f).offset();var k=(parseInt(c/2-16));var h=(parseInt(j/2-16));var d=jQuery("<div />").attr({id:"loading_"+f,"className":"wsod_loadingIndicator"}).css({top:g.top+"px",left:g.left+"px",height:c+"px",width:j+"px"}).appendTo("body");jQuery('<img src="'+this.urlPre+'images/loading.gif" />').attr({id:"loadingIcon"}).css({position:"absolute",top:k+"px",left:h+"px"}).appendTo(d);};this.hideLoading=function(c){jQuery("#loading_"+c).remove();};this.initSymbolSearch=function(c,d){if(!c){c="symb";}wsod_js.search.init(c,d);};this.swapPipeNavCSS=function(d,c){if(!c){c="active";}d.parent().siblings().children("a").removeClass(c);d.addClass(c);};this.loadAssets=function(c){jQuery.xLazyLoader(jQuery.extend(c,{success:c.success,error:c.error}));};this.initCurrencyConverter=function(){var g=jQuery("#wsod_ccAmountValue");var f=jQuery("#wsod_ccBaseCurrency select");var c=jQuery("#wsod_ccQuoteCurrency select");jQuery("#wsod_ccAmountValue, #wsod_ccBaseCurrency select, #wsod_ccQuoteCurrency select").bind("change",function(){var h=a.toNumber(g.val());g.val(h);d({amount:h,base:f.val(),quote:c.val()});});g.keypress(function(){window.clearTimeout(a.currencyTimer);a.currencyTimer=window.setTimeout(function(){var h=a.toNumber(g.val());g.val(h);a.ccAmountValue=h;d({amount:h,base:f.val(),quote:c.val()});},300);});function d(j){var h="wsod_ccResult";if(this.request){this.request.abort();this.request=null;}this.request=jQuery.ajax({dataType:"html",type:"POST",url:a.urlPrefix+"common/modules/iframe/currencyConverter.asp",data:{convert:1,amount:j.amount,base:j.base,quote:j.quote},success:function(k){jQuery("#wsod_ccResult").fadeOut(150).html(k).fadeIn(150);},error:function(){}});}};this.toNumber=function(d){var c=(String(d).replace(/\s/g,"")=="")?0:parseFloat(String(d).replace(/[^0-9.]/g,""));return c;};this.showHelp=function(d,k){if(jQuery("#wsod_helpBubble").length){common.hideHelp();}var p='<div><a href="javascript:void(0);" onclick="common.hideHelp();" class="wsod_helpBubbleClose"><img src="http://i.cdn.turner.com/money/.element/img/3.0/data/icon_removeX.png" alt="close" /></a></div>';var g=jQuery("<div />").attr("id","wsod_helpBubble");var j=jQuery("<div />").addClass("wsod_helpBubbleArrow").html("&nbsp;");var c=jQuery("<div />").addClass("wsod_helpBubbleBody");var f=jQuery("<div />").addClass("wsod_helpBubbleTitle").html(unescape(k.title)+p);var n=jQuery("<div />").html(unescape(k.body));g.append(j);c.append(f).append(n).appendTo(g);g.appendTo("body");var o=parseInt(jQuery(d).offset().top+30);var h=parseInt(jQuery(d).offset().left-10);if(jQuery(d).children("img").length){o+=5;}g.css({top:o,left:h});};this.hideHelp=function(c){jQuery("#wsod_helpBubble").remove();};this.initButtonHover=function(){if(this.quirksMode){jQuery(".wsod_button").hover(function(){jQuery(this).addClass("hovered");},function(){jQuery(this).removeClass("hovered");});}};this.updateQueryString=function(j,k){var g=location.search;if(location.search){if(g.indexOf(j)!=-1){g=g.replace("?","");var d=g.split("&");var f=["?"];for(var h=0,c=d.length;h<c;h++){if(d[h].indexOf(j)==-1){f.push(d[h],"&");}}location.search=[f.join(""),j,"=",k].join("");}else{location.search+=["&",j,"=",k].join("");}}else{location.href+=["?",j,"=",k].join("");}};this.yieldSwapper=function(d){var c=d.innerHTML;jQuery("div.wsod_yieldCurveEg").removeClass("wsod_active");jQuery(d).addClass("wsod_active");jQuery("div#wsod_yieldText div").hide();jQuery("div#"+c).show();};this.createDropShadow=function(c,p,o,n,g){var f=jQuery("#"+c);var q=f.height();var d=f.outerWidth();var l=(n)?" "+n:"";f.after('<div class="WSODHoverShadowContainer'+l+'"></div>');var k=f.next();var h=4;for(var j=0;j<h;j++){var r=jQuery('<div class="WSODHoverShadowLayer"></div>');r.css({opacity:0.055*j,top:(h-j)+"px",left:(h-j)+"px"});k.append(r);}if(g){o-=h;}k.children("div").width(d+2).height(q+4).end().css({top:p,left:o}).show();};this.selectSymbolResult=function(s,g,t){var r=jQuery(g);if(jQuery("#wsod_symbolSearchErrorMsg").length>0){jQuery("#wsod_symbolSearchErrorMsg").remove();}if(t.length<1){}var n=r.data("results");var c=["Symbol","Add Ticker","Add another company"];var h;if(n===-1||!n||(n&&n.length<1)){var j=t.val();if(j==""||jQuery.inArray(j,c)){h="ENTER A TICKER AND TRY AGAIN.";}else{h="THAT TICKER IS NOT VALID. PLEASE TRY AGAIN.";}var p=jQuery("<div>").attr("id","wsod_symbolSearchErrorMsg").addClass("wsod_symbolSearch").appendTo("body");var l=jQuery("<tbody>");var d=jQuery("<table>").append(l);var o=jQuery("<tr>").addClass("resultType last").appendTo(l);jQuery("<td colspan='3'>"+h+"</td>").appendTo(o);p.append(d);var k=t.offset(),q=k.top+t.outerHeight(),f=t.outerWidth();p.css({top:parseFloat(q),minWidth:parseFloat(f-2)});p.css("left",k.left);}else{if(n&&n.length>0){if(n[0]&&n[0][0]){wsod_js.search.goToResult(s,t,n[0][0]);}}}};this.symbolSearchButtonListener=function(c){var f=this;var h=jQuery("form.wsod_symbLookupForm").find("div.wsod_buttonSymbolSearchForm").find("a");if(h.length<1){h=jQuery("form").find("div.wsod_buttonSymbolSearchForm").find("a");}if(h.length>0){var d=h.parents("form.wsod_symbLookupForm");if(d.length<1){d=h.parents("form");}var g=d.find("input.wsod_symSearchBox");g.data("closestButton",h);h.bind("click",function(j){f.selectSymbolResult(j,this,g);});}};this.customizeMarketTracker=function(c){var d=jQuery(c).parents("#marketTracker");cnnMarketTracker.customize(c,d);};})();jQuery(document).ready(function(){common.cnnDomain=common.cnnGetDomain();common.runatCNN=common.isRunningAtCNN();common.initSymbolSearch();common.initButtonHover();jQuery(document.body).click(function(a){var c=jQuery(a.target);if(c.is("div.wsod_buttonSymbolSearchForm > a")||c.is("div.eventIcon")||c.is("a.wsod_bubbleIcon")||c.parents().is("a.wsod_bubbleIcon")||c.parents().is("div.wsod_helpBubbleBody")){}else{if(jQuery("#wsod_helpBubble").length>0){common.hideHelp();}if(jQuery("#wsod_symbolSearchErrorMsg").length>0){jQuery("#wsod_symbolSearchErrorMsg").remove();}}});common.symbolSearchButtonListener();});var xss_class=function(){};xss_class.prototype.filter=function(a){a=a.replace(/<\/?script>/gi,"");a=a.replace(/"/g,"&quot");a=a.replace(/'/g,"&#39;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");return a;};var xss=new xss_class();if(!wsod_js){var wsod_js={};}(function(){var c=function(){};if(!window["console"]){window.console={};}var d={log:c,warn:c,error:c,info:c};for(var a in d){if(!window.console[a]){window.console[a]=d[a];}}})();wsod_js.search={init:function(c,a){var l=this;if(!c){console.warn("wsod_js.search: No input ID provided.");
return false;}this.searchInputId=c;var j=jQuery("#"+c);if(!j||j.length<1){console.warn("wsod_js.search: No input#"+c+" found on the DOM.");return false;}j.search();j.attr("autocomplete","off");var f=document.forms["quoteForm"]["symbols"];var n=j.val().replace(/ /g,"").length;if(n==0){document.getElementById("search_button").disabled=true;}this.searchURLPrefix="http://markets.money.cnn.com/";this.urlPrefix=(urlPre)?urlPre:"";this.cnnUrlMap=[];this.cnnUrlMap["INDU"]="data/markets/dow/";this.cnnUrlMap["COMP"]="data/markets/nasdaq/";this.cnnUrlMap["SPX"]="data/markets/sandp/";this.cnnUrlMap["INX"]="data/markets/sandp/";this.cnnUrlMap["XAX"]="data/markets/amex/";this.cnnUrlMap["OIX"]="data/markets/cboe_oil/";this.cnnUrlMap["DJT"]="data/markets/dowtrans/";this.cnnUrlMap["DJU"]="data/markets/dowutil/";this.cnnUrlMap["BKX"]="data/markets/kbw_bank/";this.cnnUrlMap["NYA"]="data/markets/nyse/";this.cnnUrlMap["SOX"]="data/markets/philsemi/";this.cnnUrlMap["RUT"]="data/markets/russell/";this.cnnUrlMap["XAO"]="data/world_markets/asx100/";this.cnnUrlMap["ATH"]="data/world_markets/athens_composite/";this.cnnUrlMap["IBOV"]="data/world_markets/bovespa/";this.cnnUrlMap["CAC40"]="data/world_markets/cac40/";this.cnnUrlMap["DAX"]="data/world_markets/dax/";this.cnnUrlMap["N100"]="data/world_markets/euronext/";this.cnnUrlMap["UKX"]="data/world_markets/ftse100/";this.cnnUrlMap["HSI"]="data/world_markets/hang_seng/";this.cnnUrlMap["MXX"]="data/world_markets/ipc/";this.cnnUrlMap["IPSA"]="data/world_markets/ipsa/";this.cnnUrlMap["JKSE"]="data/world_markets/jakarta_composite/";this.cnnUrlMap["KOPSI"]="data/world_markets/kopsi/";this.cnnUrlMap["MERV"]="data/world_markets/merval/";this.cnnUrlMap["NZ50"]="data/world_markets/newzealand50/";this.cnnUrlMap["N225"]="data/world_markets/nikkei225/";this.cnnUrlMap["OMXS"]="data/world_markets/omx30/";this.cnnUrlMap["SHCOMP"]="data/world_markets/se_composite/";this.cnnUrlMap["SENSEX"]="data/world_markets/sensex/";this.cnnUrlMap["SXXP"]="data/world_markets/stoxx600/";this.cnnUrlMap["SSMI"]="data/world_markets/swiss/";this.cnnUrlMap["SETIDX"]="data/world_markets/thailand_se/";this.cnnUrlMap["TS50"]="data/world_markets/tsec50/";this.cnnUrlMap["OSP60"]="data/world_markets/tsx60/";if(common&&common.isRunningAtCNN()){this.urlPrefix="http://money.cnn.com/";if(common._getEnv()=="QAI"){this.urlPrefix="http://money.qai.cnn.com/";}var k="quote/quote.html?symb=";var h="quote/mutualfund/mutualfund.html?symb=";var g="quote/etf/etf.html?symb=";}else{var k=h=g="research/quote/snapshot.asp?symb=";}var d={linkTo:this.urlPrefix+k,linkToMF:this.urlPrefix+h,linkToETF:this.urlPrefix+g,symReference:"displaySymbol",symToUpperCase:true,autoSelectFirstResult:false,resultAction:"returnSymbol",target:"",hideResultsOnSubmit:false,multiquoteAllowed:true};if(!this.config){this.config={};}this.config[c]=jQuery.extend(d,a);this.attach(j,{cache:{},onClose:function(o,p){},onOpen:function(o,p){},onSelect:function(p,q,o){l.goToResult(p,q,o);},onGo:function(p,q,o){l.goToResult(p,q,o);},align:l.config[c].align||"left"});},goToResult:function(f,h,c){var d=h.get(0).id;this.removeButtonData(h);var k=("WSODIssue"==this.config[d].symReference&&c.w)?c.w:((c&&c.s)?c.s:c);if("returnResult"==this.config[d].resultAction){dataBack=c;}else{dataBack=k;}if(c&&dataBack){if(this.config[d].symToUpperCase&&"returnResult"!=this.config[d].resultAction){dataBack=dataBack.toUpperCase();}if(!c.it){c.it="";}var g;var j=false;switch(c.it){case"MF":case"MMF":g=this.config[d].linkToMF;break;case"ETF":case"ETN":case"LETF":g=this.config[d].linkToETF;break;case"IN":j=true;if(this.cnnUrlMap[dataBack]){g=this.urlPrefix+this.cnnUrlMap[dataBack];}else{g=this.config[d].linkTo+dataBack;}break;default:g=this.config[d].linkTo;break;}var a=(j)?"":dataBack;if("function"==typeof(this.config[d].linkTo)){this.config[d].linkTo(dataBack);}else{if(this.config[d].target=="parentWindow"){parent.location.href=g+a;}else{location.href=g+a;}}this._close(f,h,c);}},attach:function(k,h){var d=this;var a=k.attr("id");var g=jQuery("body");h.cache=h.cache||{};var c={"click":function(l){d.onClick(l,jQuery(this),h);}};var j={"blur":function(l){for(var n in c){g.unbind(n,c[n]);}d.onBlur(l,jQuery(this),h);},"focus":function(l){for(var n in c){g.bind(n,c[n]);}d.onFocus(l,jQuery(this),h);},"keyup":function(l){d.onKeyUp(l,jQuery(this),h);},"keydown":function(l){d.onKeyDown(l,jQuery(this),h);}};for(var f in j){k.bind(f,j[f]);}},quickSearch:function(h,f,g){var c=this;var a=h.get(0).id;var d={q:f,render:"JSON"};if(c.config[a]&&c.config[a].searchIssueType){d.issueType=c.config[a].searchIssueType;}h.addClass("loading");return jQuery.ajax({url:c.searchURLPrefix+"common/symbolLookup/getSymbols.asp",dataType:"jsonp",jsonp:"jsoncallback",data:d,success:function(j){g(j);c.removeLoadingIcon(h);},error:function(){c.removeLoadingIcon(h);}});},removeLoadingIcon:function(a){a.removeClass("loading");},removeButtonData:function(c){var a=c.data("closestButton")||[];if(a.length){a.data("results",-1);}},_closeOptions:function(a,d,c){if(c._div){c._div.remove();c._div=null;}},_drawOptions:function(d,H,t,z,F){var s=this;if(jQuery("#wsod_symbolSearchErrorMsg").length>0){jQuery("#wsod_symbolSearchErrorMsg").remove();}if(!H._div){var u=d.attr("id")+"Results";var E=H._div=jQuery("<div>").attr("id",u).addClass("wsod_symbolSearch");E.appendTo("body");}else{H._div.empty();E=H._div;}z=z.data||[];var A=d.data("closestButton")||[];if(A.length){if(z.length<1){A.data("results",-1);}else{A.data("results",z);}}this.removeLoadingIcon(d);var n=["SYMBOL MATCHES","COMPANY MATCHES","SYMBOL STARTS WITH"];var v=jQuery("<tbody>");var a="/search/index.html?sortBy=date&primaryType=mixed&search=Search&query=";var h=jQuery("<tr>").addClass("result").appendTo(v);var k=jQuery("<td colspan='3'>Search News</td>").appendTo(h);h.bind("mouseenter",function(){jQuery(this).siblings("tr").removeClass("hover");jQuery(this).addClass("hover");}).bind("mouseleave",function(){jQuery(this).removeClass("hover");}).bind("mousedown",function(c){location.href=a+d.val();});for(var C=0,p;C<z.length;C++){p=z[C];if(p.length){for(var B=0,D;B<p.length;B++){D=p[B];if(D.n.indexOf("<b>")>-1){}else{D=this._highlightText(t,D);}if(B==0){var G=jQuery("<tr>").addClass("resultType").appendTo(v);var o=jQuery("<img>").attr("src","http://i.cdn.turner.com/money/.element/img/3.0/data/iconDownArrow.png").attr("width",12).attr("height",4);if(D.lt=="Symbol.5.0"){jQuery("<td colspan='3'>"+n[0]+"</td>").append(o).appendTo(G);}else{if(D.lt=="SymbolStart.5.0"){jQuery("<td colspan='3'>"+n[2]+"</td>").append(o).appendTo(G);}else{if(D.lt=="IssueNameFast.5.0"){jQuery("<td colspan='3'>"+n[1]+"</td>").append(o).appendTo(G);}}}}var I=jQuery("<tr>").addClass("result").appendTo(v);var y=jQuery("<td>"+D.n+"</td>");var f=jQuery("<td>"+D.d+"</td>").addClass("wsod_sym");I.append(y).append(f);I.data("result",D).bind("mouseenter",function(){jQuery(this).siblings("tr").removeClass("hover");jQuery(this).addClass("hover");}).bind("mouseleave",function(){jQuery(this).removeClass("hover");}).bind("mousedown",function(c){s._select(c,d,H,jQuery(this).data("result"));});}}}var l=jQuery("<table>").append(v);l.find("tr.resultType:eq(1)").addClass("nameMatches");l.find("tr:last").addClass("last");E.append(l);var g=d.offset(),r=g.top+d.outerHeight(),w=d.outerWidth();E.css({top:parseFloat(r),minWidth:parseFloat(w-2)});E.css("left",(H.align==="right"?g.left-(E.outerWidth()-w):g.left)+"px");},_close:function(a,d,c){this._closeOptions(a,d,c);if(c.onClose){c.onClose(a,d);}},_go:function(a,f,d,c){if(d.onGo){d.onGo(a,f,c,d);}this._close(a,f,d);},_open:function(a,h,g,f,d,c){this._drawOptions(h,g,f,d,c);if(g.onOpen){g.onOpen(a,h,f,d);}},_search:function(c,j,h,g){var d=this;var a=j.attr("id");if(h._timer){window.clearTimeout(h._timer);}this.removeButtonData(j);if(this.config[a].hideResultsOnSubmit){var f=j.parent();if(f.get(0).tagName=="FORM"){f.submit(function(){d._close(c,j,h);});}}g=xss.filter(g);if(this.config[a].multiquoteAllowed!==false&&(g.indexOf(",")>-1||g.indexOf(" ")>-1)){this.removeButtonData(j);
this._close(c,j,h);return;}if(h.cache[g]){d._open(c,j,h,g,h.cache[g],true);}else{h._timer=window.setTimeout(function(){h._active=d.quickSearch(j,g,function(k){h.cache[g]=k;d._open(c,j,h,g,k,false);});},250);}},_select:function(a,f,d,c){if(d.onSelect){d.onSelect(a,f,c,d);}},onBlur:function(a,c,d){this._close(a,c,d);if(!c.val()){c.val(c.attr("alt"));this.removeButtonData(c);}},onClick:function(a,c,d){},onFocus:function(a,c,d){if(c.val()==c.attr("alt")){c.val("");this.removeButtonData(c);}else{if(c.val()){this._search(a,c,d,c.val());}}},onKeyDown:function(d,g,h){this.g=g.val().replace(/ /g,"").length;if(this.g==0&&d.keyCode==13){d.preventDefault();}if(!h._div){return;}var c=g.attr("id");this.removeLoadingIcon(g);var f=h._div.find("tr.hover:first");switch(d.keyCode){case 13:if(!f.length){if(this.config[c].autoSelectFirstResult===true){f=h._div.find("tr.result:first");if(f.length){this._go(d,g,h,f.data("result"));}else{return false;}}else{return true;}}else{this._select(d,g,h,f.data("result"));}d.preventDefault();break;case 27:this._close(d,g,h);break;case 40:var a=f.nextAll("tr:not('.resultType'):first");if(!a.length){a=h._div.find("tr:not('.resultType'):first");}f.removeClass("hover");a.addClass("hover");d.preventDefault();break;case 38:var a=f.prevAll("tr:not('.resultType'):first");if(!a.length){a=h._div.find("tr:last");}f.removeClass("hover");a.addClass("hover");d.preventDefault();break;}},onKeyUp:function(a,f,j){var d=this;var c=f.val();var h=f.val().replace(/ /g,"").length;if(c!=j._lastValue){j._lastValue=c;if(!c){this._close(a,f,j);}else{this._search(a,f,j,c);}}if(h==0){document.getElementById("search_button").disabled=true;}else{document.getElementById("search_button").disabled=false;}},_highlightText:function(a,p){var t=this;var d=String(a).split(" ");var f=d.length;if(p.n.indexOf(" ")){var g=p.n.split(" ");var r=g.length;}else{var g=p.n;var r=1;}if(f==1){var j="<b>$1</b>";var s=new RegExp("\\b("+d+")","gi");p.d=String(p.s).replace(s,j);p.n=String(p.n).replace(s,j);}else{for(var l=0;l<r;l++){var n=g[l];if(!n.length){continue;}for(var o=0;o<f;o++){var k=d[o].replace(/\s/g,"");var h=k.length;if(h&&k.toLowerCase()==n.toLowerCase().substring(0,h)){g[l]="<b>"+n.substring(0,h)+"</b>"+n.substring(h);o=f;}}p.n=g.join(" ");}}return p;}};var ViewabilityVideo=function(){var g="js-inbetweener-pinner--type1";var w="js-inbetweener-pinner--type2";var j="js-inbetweener-unpinner";var y="inbetweener-pinner--type1";var u="inbetweener-pinner--type2";var f="inbetweener-unpinner";var d="cvp_story_0";var o="viewability--off";var r="viewability--on";var s=jQuery("body");var p=[];var l=[];var c=[];var v=jQuery("#js-ie-storytop");var a=v.find(".cnnplayer");var n=VideoPlayerManager.getPlayer(d);var q=v.offset().left;var z=800;function A(){if(s.hasClass(r)){a.removeClass("fade-in");s.removeClass(y);s.removeClass(u);s.removeClass(r);s.addClass(o);a.css("left","auto");p.css({left:q+"px"});l.css({left:q+"px"});n.resizeTo(780,439);v.css("height","auto");setTimeout(function(){a.addClass("fade-in");},200);}}function k(){if(!s.hasClass(r)&&n.isPlaying){v.css("height",v.height());a.removeClass("fade-in");s.removeClass(o);s.addClass(r+" "+y);p.css({left:q+z});a.css({left:q+z});n.resizeTo(300,169);setTimeout(function(){a.addClass("fade-in");},200);}}function h(){var C=window.pageYOffset||window.scrollY;var B=v.offset().top+v.height()-75;if(!s.hasClass(r)&&n.isPlaying&&(C>B)){v.css("height",v.height());a.removeClass("fade-in");s.removeClass(o);l.css({left:q+z});s.addClass(r+" "+u);a.css("left",q+z);n.resizeTo(300,169);setTimeout(function(){a.addClass("fade-in");},200);}}function t(){if(a.length<=0){return false;}var C=document.createElement("div");var D=document.createElement("div");var B=document.createElement("div");C.className=g+" "+y;D.className=w+" "+u;B.className=j+" "+f;a.before(B);a.before(C);a.before(D);p=v.find("."+g);l=v.find("."+w);c=v.find("."+j);p.css("left",q);jQuery(window).scroll(function(G){if(n==undefined){return;}var H=window.pageYOffset||window.scrollY;var F=v.offset().top+50;var E=F+439;if(H>F){if(H<=E){k();}else{h();}}else{A();}});window.addEventListener("resize",function(){q=v.offset().left;if(s.hasClass(r)){a.css("left",q+z);p.css({left:q+z});}});}return{init:t,unpin:A,pin_style2:h,pin_style1:k};};var eventLogger={quoteRegistered:false,trackvalues:{social:{"twt-tweet":"twitter_click","twt-retweet":"twitter_click","twt-favorite":"twitter_click","twt-follow":"twitter_click","fb-like":"facebook_click","fb-share":"facebook_post","goog-plus":"google_click","lin-share":"linkedin_click","pin-share":"pinterest_click","reddit-share":"reddit_click","stumbleupon-share":"stumbleupon_click","embed":"embed_click","link":"link_click","email":"email_click","print":"print_click","cmt-cmmt":"disqus_click"}},init:function(){if(jQuery("body.cnn-story").length>0){if(typeof(business)=="undefined"){business={mny:{bubble_quotes:0}};}}},social_track:function(h,a){var g="";var c=this.trackvalues.social[h];var f={type:"social-click"};if(typeof a==="undefined"||a==null){g=window.location.href;}else{g=a;}if(c!=null&&g!=""){try{f.data={clickObj:{socialType:c,pageName:g}};trackMetrics(f);}catch(d){}}},incBubbleCount:function(){try{business.mny.bubble_quotes++;}catch(a){}},log:function(c,a){try{switch(c){case"quote":if(this.quoteRegistered==false){logMetrics({"action":c,"data":{"component":a}});this.quoteRegistered=true;}break;case"navclick":case"navhover":case"quotehover":logMetrics({"action":c,"data":{"component":a}});break;}}catch(d){}}};eventLogger.init();var cnnLinkSelectors={"section":[{name:"Trulia",selector:"div#mod-trulia li.lastItem a",query:"iid=Partner_TR"},{name:"Aol Autos",selector:"div.aol-autos a",query:"iid=Partner_AOL"},{name:"Glassdoor",selector:"#gdWidgetStatic a",query:"iid=Partner_GD"},{name:"Video Summary",selector:".js-video-summary a",query:"iid=SF_video"}],"section_markets":[{name:"Subnav Links",selector:"div#cnnHeader > div.subnav ul li a",query:"iid=MKT_Sub"},{name:"ETF Top Summaries",selector:"div#wsod_etfCenter > div.wsod_pgHeader > div.mod-featstories ul li a",query:"iid=ETF_MKT_News"},{name:"MF Top Summaries",selector:"div#wsod_mutualFundCenter > div.wsod_pgHeader > div.mod-featstories ul li a",query:"iid=MF_MKT_News"},{name:"MkOverview Top Summary",selector:"div#wsod_marketsOverview > div.clearfix > div.wsod_marketsLeftCol > div.summaryBlock a",query:"iid=mkt_SF_news"}],"section_investing":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_economy":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_news":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_technology":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_pf":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_college101":[{name:"RightModule",selector:"div.mod-spFeatstories a",query:"iid=collnews"}],"section_smallbusiness":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_luxury":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_media":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_retirement":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_companies":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_real_estate":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_autos":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_taxes":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_college":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_interactive":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_interactive":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_lists":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_funds":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"special_livepage":[{name:"River",selector:"div.mod-T2panels > ul.summaryList a",query:"?iid=V_LiveShelf ",not:"a.tw,a.fb,a.money-get-twitter,a.money-get-likes"},{name:"HotList module",selector:"div#mod-galleries a",query:"iid=GM"}],"surge_landing":[{name:"River",selector:"ul.list-surge li > a",query:"iid=surge-landing-summary"}],"story":[{name:"Gallery Module",selector:"div#js-mod-galleries div#mod-galleries div.summaryBlock a",query:"iid=GM"},{name:"Most Popular module",selector:"div.mod-mostpop > table tr td.cnnHeadline a",query:"iid=s_mpm"},{name:"Article Markets module",selector:"div#markets-module-stories a",query:"iid=s_inv_mid"},{name:"Economic Calendar",selector:"div#mod-econStats a",query:"iid=s_econ_mid"},{name:"News edit module",selector:"div#newsEditModule a",query:"iid=s_bn_mid"},{name:"Tech Blogs module",selector:"div.mod-blogs a",query:"iid=s_tech_mid"},{name:"PF edit module",selector:"div#pfEditModule a",query:"iid=s_pf_mid"},{name:"Smallbiz edit module",selector:"div#js-mod-spSectionModule a",query:"iid=s_sb_mid"},{name:"End of article links",selector:"div.mod-morestories a",query:"iid=EAL"},{name:"In-Story Embedded Links",selector:"div#storycontent a",query:"iid=EL",not:".comment,#fb-share-counter-link-side,li#linkedin-share-counter-side a"},{name:"Spotlight",selector:"#cnnBody div.cnnCol_side > div#lux-spotlight a",query:"iid=S_LU_SP "},{name:"Life at the top",selector:"#cnnBody div.cnnCol_side > div#lux-thetop a",query:"iid=S_LU_Mid "},{name:"Social Surge",selector:".js-surge-module > a",query:"iid=surge-landing"},{name:"Social Surge",selector:".js-surge-module li > a",query:"iid=surge-story-summary"}],"story_bubbles":[{name:"in-article quote bubbles - headlines",selector:"div.popbody ul li a",query:"iid=QB_MKTNEWS"},{name:"in-article quote bubbles- data",selector:"div.popbody div.panel span.change > a",query:"iid=QB_MKTDATA"}],"gallery":[{name:"Jump page - Featured",selector:"div#mod-river ul li a",query:"iid=F_Jump",not:"a.money-social"},{name:"Jump page - Latest Galleries",selector:"div.mod-T2panels ul li a",query:"iid=L_Jump",not:"a.money-social"}],"gallery-xl":[{name:"Latest Gallery Module",selector:"div.mod-T2panels ul li a",query:"iid=XL_latest"},{name:"More Module",selector:"div#relatedElements a",query:"iid=XL_more"}],"video":[{name:"Series module",selector:".js-vid-shelf-series",query:"iid=V_Series"},{name:"HotList module",selector:"div#mod-galleries a",query:"iid=V_GM"},{name:"Top Videos module",selector:"div#js-vid-shelf-top a",query:"iid=V_Top"},{name:"Latest Videos module",selector:"div.mod-latestnews a",query:"iid=V_LV"},{name:"Series Description header",selector:"div.mod-videoDesc .boxHeading a",query:"iid=V_Mod_Header"},{name:"Series Description RSS",selector:"div.mod-videoDesc p.subscribe-rss a",query:"iid=V_RSS"}],"tablet_fullview":[{name:"Tablet View - Full Article View",selector:"#ctype-story a.cnnMore",query:"iid=FullView"},{name:"Tablet View - Full Article View",selector:"#ctype-gallery a.cnnMore",query:"iid=FullView"}],"tablet_section_access":[{name:"Tablet View - Homepage Access",selector:"#app_tab",query:"iid=Tablet_SFAccess"}],"tablet_hp_access":[{name:"Tablet View - Homepage Access",selector:"#app_tab",query:"iid=Tablet_HPAccess"}],"tools":[{name:"Gallery Module",selector:"div#mod-galleries div.summaryBlock a",query:"iid=GM"},{name:"More Calculators head",selector:"#calculator div.breadcrumb a",query:"iid=TL_Head"},{name:"Related Links",selector:"#relatedLinks a",query:"iid=TL_Links"},{name:"BPL Module",selector:"#bpliveStats a",query:"iid=TL_COL_Mod"},{name:"MPM",selector:"div.mod-mostpop a",query:"iid=TL_Popular"}],"homepage":[{name:"Social Surge",selector:".js-surge-module > a, .js-surge-module > article a",query:"iid=surge-landing"},{name:"Social Surge",selector:".js-surge-module li > article a",query:"iid=surge-hp-summary"},{name:"Top Lead Surge",selector:".js-surge-toplead a",query:"iid=surge-toplead-dom"},{name:"Stack Surge",selector:".js-surge-stack a",query:"iid=surge-stack-dom"},{name:"Grid Surge",selector:".js-surge-grid a",query:"iid=surge-grid-dom"},{name:"Stack",selector:".js-stack article a",query:"iid=hp-stack-dom"},{name:"Featured News (Grid)",selector:".js-river article a",query:"iid=hp-grid-dom"},{name:"Last 5 Quotes module",selector:"table tr td a",query:"iid=HP_Last5",type:"iframe",iframe_selector:"iframe.myInvestments"},{name:"Top Lead",selector:".js-toplead a",query:"iid=hp-toplead-dom"},{name:"Video Zone",selector:"#video-zone a",query:"iid=HP_Video"}],"homepage_international":[{name:"Social Surge",selector:".js-surge-module > a, .js-surge-module > article a",query:"iid=surge-landing"},{name:"Social Surge",selector:".js-surge-module li > article a",query:"iid=surge-hp-summary"},{name:"Top Lead Surge",selector:".js-surge-toplead a",query:"iid=surge-toplead-intl"},{name:"Stack Surge",selector:".js-surge-stack a",query:"iid=surge-stack-intl"},{name:"Grid Surge",selector:".js-surge-grid a",query:"iid=surge-grid-intl"},{name:"Top Lead",selector:".js-toplead a",query:"iid=hp-toplead-intl"},{name:"Stack",selector:".js-stack article a",query:"iid=hp-stack-intl"},{name:"Featured News (Grid)",selector:".js-river article a",query:"iid=hp-grid-intl"},{name:"Market Tracker (Intl)",selector:"div#mod-markettracker a",query:"iid=intnlmrkt"},{name:"Currencies Module",selector:"ul.currencies a",query:"iidF=intnlcurrencies"},{name:"Business 360",selector:"div#mod-business360 a",query:"iid=intnl360"},{name:"Rankings",selector:"div#mod-rankings a",query:"iid=intnlrankings"},{name:"Specials",selector:"div.module-special a",query:"iid=INTL_SPC"},{name:"Right Rail Sponsoered",selector:"div#modSponsored a",query:"iid=INTL_RR"},{name:"TV Promo",selector:"div.mod-specialpromo a",query:"iid=INTL_TV"},{name:"Video Zone",selector:"#video-zone a",query:"iid=HP_Video"}],"markettracker_open":[{name:"Expanded State MT- US",selector:"div#slide_data_us > div.col1 > ul > li a, div#slide_data_us > div.col1 > div.seeMore a",query:"iid=E_MT_US"},{name:"Expanded State MT- Europe",selector:"div#slide_data_europe > div.col1 > ul > li a, div#slide_data_europe > div.col1 > div.seeMore a",query:"iid=E_MT_Eurpoe"},{name:"Expanded State MT- Europe",selector:"div#slide_data_asia > div.col1 > ul > li a, div#slide_data_asia > div.col1 > div.seeMore a",query:"iid=E_MT_Asia"},{name:"Expanded State MT- Currencies",selector:"div#slide_data_currencies > div.col1 > ul > li a, div#slide_data_currencies > div.col1 > div.seeMore a",query:"iid=E_MT_Currencies"},{name:"Expanded State MT- Commodities",selector:"div#slide_data_commodities > div.col1 > ul > li a, div#slide_data_commodities > div.col1 > div.seeMore a",query:"iid=E_MT_Commodities"},{name:"Expanded State MT- Bonds",selector:"div#slide_data_bonds > div.col1 > ul > li a, div#slide_data_bonds > div.col1 > div.seeMore a",query:"iid=E_MT_Bonds"}],"markettracker_closed":[{name:"See All Markets' Link",selector:"div#mod-markettracker div.quotes-latest-body > div.seeMore a",query:"iid=C_All_MKTS"},{name:"Market Tracker- Indexes",selector:"div#mod-markettracker div.quotes-latest-body table.list_indices tbody > tr > td > a",query:"iid=C_MT_Index"},{name:"Market Tracker- Bonds and Currencies",selector:"div#mod-markettracker div.quotes-latest-body table.list_keydata tbody > tr > td > a",query:"iid=C_MT_BC"},{name:"Market Tracker- Commodities",selector:"div#mod-markettracker div.quotes-latest-body table.list_commodities tbody > tr > td > a",query:"iid=C_MT_Commodities"}],"article_top_nav_news":[{name:"Business News- News Headlines",selector:"div.flyout-business div.column article a",query:"iid=A_BN_News"},{name:"Business News- Quicklinks",selector:"div.flyout-business ul.flyout-nav-list a",query:"iid=A_BN_QL"}],"article_top_nav_markets":[{name:"Markets- News",selector:"div.flyout-markets div.column article a",query:"iid=A_MKT_News"},{name:"Markets- Quicklinks",selector:"div.flyout-markets div.column ul.flyout-nav-list a",query:"iid=A_MKT_QL"}],"article_top_nav_tech":[{name:"Technology- News Headlines",selector:"div.flyout-tech div.column article a",query:"iid=A_T_News"},{name:"Technology- Quicklinks",selector:"div.flyout-tech div.column ul.flyout-nav-list a",query:"iid=A_T_QL"}],"article_top_nav_pf":[{name:"PF- News Headlines",selector:"div.flyout-personal_finance div.column article a",query:"iid=A_PF_News"},{name:"PF- Quicklinks",selector:"div.flyout-personal_finance div.column ul.flyout-nav-list a",query:"iid=A_PF_QL"}],"article_top_nav_smallbusiness":[{name:"Small Business- News Headlines",selector:"div.flyout-small_business  div.column article a",query:"iid=A_SB_News"},{name:"Small Business- Quicklinks",selector:"div.flyout-small_business  div.column  ul.flyout-nav-list a",query:"iid=A_SB_QL"}],"article_top_nav_luxury":[{name:"Luxury- News Headlines",selector:"div.flyout-luxury div.column article a",query:"iid=A_LU_News"},{name:"Luxury- Quicklinks",selector:"div.flyout-luxury div.column ul.flyout-nav-list a",query:"iid=A_LU_QL"}],"top_nav_news":[{name:"Business",selector:".main-nav ul.main-nav-ul a.main-nav-a#business-link",query:"iid=Biz_Nav"},{name:"Business News- News Headlines",selector:"div.flyout-business div.column article a",query:"iid=H_BN_News"},{name:"Business News- Quicklinks",selector:"div.flyout-business ul.flyout-nav-list a",query:"iid=H_BN_QL"}],"top_nav_markets":[{name:"Markets",selector:".main-nav ul.main-nav-ul a.main-nav-a#markets-link",query:"iid=Mark_Nav"},{name:"Markets- News",selector:"div.flyout-markets div.column article a",query:"iid=H_MKT_News"},{name:"Markets- Quicklinks",selector:"div.flyout-markets div.column ul.flyout-nav-list a",query:"iid=H_MKT_QL"}],"top_nav_tech":[{name:"Technology",selector:".main-nav ul.main-nav-ul li.main-nav-li#main-nav--tech a.main-nav-a",query:"iid=Tech_Nav"},{name:"Technology- News Headlines",selector:"div.flyout-tech div.column article a",query:"iid=H_T_News"},{name:"Technology- Quicklinks",selector:"div.flyout-tech div.column ul.flyout-nav-list a",query:"iid=H_T_QL"}],"top_nav_media":[{name:"Media",selector:".main-nav ul.main-nav-ul li.main-nav-li#main-nav--media a.main-nav-a",query:"iid=Media_Nav"}],"top_nav_pf":[{name:"PF",selector:".main-nav ul.main-nav-ul li.main-nav-li#main-nav--personal_finance a.main-nav-a",query:"iid=PF_Nav"},{name:"PF- News Headlines",selector:"div.flyout-personal_finance div.column article a",query:"iid=H_PF_News"},{name:"PF- Quicklinks",selector:"div.flyout-personal_finance div.column ul.flyout-nav-list a",query:"iid=H_PF_QL"}],"top_nav_smallbusiness":[{name:"Small Biz",selector:".main-nav ul.main-nav-ul li.main-nav-li#main-nav--small_business a.main-nav-a",query:"iid=SmallBiz_Nav"},{name:"Small Business- News Headlines",selector:"div.flyout-small_business  div.column article a",query:"iid=H_SB_News"},{name:"Small Business- Quicklinks",selector:"div.flyout-small_business  div.column  ul.flyout-nav-list a",query:"iid=H_SB_QL"}],"top_nav_luxury":[{name:"Luxury",selector:".main-nav ul.main-nav-ul li.main-nav-li#main-nav--luxury a.main-nav-a",query:"iid=Lux_Nav"},{name:"Luxury- News Headlines",selector:"div.flyout-luxury div.column article a",query:"iid=H_LU_News"},{name:"Luxury- Quicklinks",selector:"div.flyout-luxury div.column ul.flyout-nav-list a",query:"iid=H_LU_QL"}],"hp_most_popular":[{name:"Most Popular Tab Content (within the 'River')",selector:"div#mod-river > ul.sumlist02 a",query:"iid=HP_MP_River",not:"a.cm, a.fb, a.cm"}]};
function updateLinks(g){var c=cnnLinkSelectors[g];for(var a=0;a<c.length;a++){try{if(c[a].type=="iframe"){var d=jQuery(c[a].iframe_selector).contents().find(c[a].selector);}else{var d=jQuery(c[a].selector);}if(typeof(c[a].not)!="undefined"){d=d.not(c[a].not);}d.each(function(l){if(!isUpdatableLink(this.href,c[a])){return;}var o=jQuery(this);var p=this.innerHTML;var j=o.text();var h=this.href;var k=getHashValue(h);if(k!=""){h=h.replace("#"+k,"");}var r;var t=0;if(h.indexOf("?")==-1){h=h+"?"+c[a].query;}else{r=h.substr((h.indexOf("?")+1),h.length);h=h.substr(0,h.indexOf("?"));var n={};var s=r.split("&");s.push(c[a].query);if(s.length>=1){jQuery.each(s,function(w,y){var A=s[w].split("=");var v=A[0];var z=A[1]||"";if(typeof(n[v])=="undefined"){n[v]=z;t++;}});}var q="?";jQuery.each(n,function(v,w){q+=v+"="+n[v];t--;if(t>0){q+="&";}});console.log("queryVarCount = "+t);h+=q;}if(k!=""){h+="#"+k;}o.attr("href",h);var u=/\W/gi;if(j.length>0&&u.test(j)&&navigator.userAgent.indexOf("MSIE")!=-1){this.innerHTML=p;}if(c[a].name=="Last 5 Quotes module"){this.setAttribute("target","_top");this.removeAttribute("onclick");}});}catch(f){}}}function updateLink(c,a){var c=c+((c.indexOf("?")>-1)?"&":"?")+a.query;return c;}function isUpdatableLink(c,a){if(c==""){return false;}if(c=="#"){return false;}if(c.indexOf(a.query)!=-1){return false;}if(c.indexOf("javascript:")>-1){return false;}if(a.selector.indexOf("div.col3")!=-1){return true;}if(a.selector.indexOf("div.col2 .seeMore")!=-1){return true;}if(c.indexOf(".cnn")==-1&&c.indexOf(".turner")==-1&&c.indexOf("cnnmoneytech.tumblr.com")==-1){return false;}if(a.name=="In-Story Embedded Links"){if(c.indexOf("facebook.com")>-1||c.indexOf("twitter.com")>-1||c.indexOf("linkedin.com")>-1){return false;}if(c.indexOf("/quote/quote.html")>-1||c.indexOf("source=")>-1){return false;}}return true;}function getQSParam(d){d=d.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a="[\\?&]"+d+"=([^&#]*)";var f=new RegExp(a);var c=f.exec(window.location.href);if(c==null){return"";}else{return decodeURIComponent(c[1].replace(/\+/g," "));}}function getHashValue(f){var a="#([^&?#]*)";var d=new RegExp(a);var c=d.exec(f);if(c==null){return"";}else{return c[1];}}function getParamValue(d,g){d=d.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a="[\\?&]"+d+"=([^&#]*)";var f=new RegExp(a);var c=f.exec(g);if(c==null){return"";}else{return decodeURIComponent(c[1].replace(/\+/g," "));}}function updateLinksForNavigation(c){var a={"news":c,"markets":c,"investing":c,"tech":c,"media":c,"pf":c,"smallbusiness":c,"luxury":c};jQuery.each(a,function(d,f){if(f=="story"){try{updateLinks("article_top_nav_"+d);}catch(g){}}else{try{updateLinks("top_nav_"+d);}catch(g){}}});}function showNavTab(c,a){var d=document.getElementById(c);d.className="Tab"+a+"Visible";}function addCommas(a){if(typeof(a)=="undefined"){return"";}a=a.toString();var c=new RegExp("(-?[0-9]+)([0-9]{3})");var d=a.split(".");a=d[0];while(c.test(a)){a=a.replace(c,"$1,$2");}if(d.length==2){a=a+"."+d[1];}return a;}function capitalize(a){return a.replace(/\w+/g,function(c){return c.charAt(0).toUpperCase()+c.substr(1).toLowerCase();});}function getHashValue(f){var a="#([^&?#]*)";var d=new RegExp(a);var c=d.exec(f);if(c==null){return"";}else{return c[1];}}var updateLatestNewsTimestamp=function(){var a=new Date().getTime();var c=1000;var d=60*c;var g=60*d;var h=24*g;var o=0;jQuery(".mod-latestnews li").each(function(q){if(jQuery(this).attr("time")){var r=new Number(jQuery(this).attr("time"));var p=new Date(r);if(r&&r>o){o=r;}}});if(o){var f="";var n=a-o;if(n>0&&n<(60*d)){var k=Math.floor(n/g);var j=Math.floor(n%g/d);var l=Math.floor(n%g%d/c);if(n<d){f=("Updated: "+l+" "+(l==1?"second":"sec.")+" ago");}else{if(n<g){f=("Updated: "+j+" "+(j==1?"min.":"min.")+" ago");}else{if(n<h){f=("Updated: "+k+" "+(k==1?"hr.":"hrs.")+" ago");}}}}jQuery(".mod-latestnews .cnnDateStamp").html(f);}};function openWindow(a,d,f){var c=a;if(c.match("/quizzes/")){document.location.href=c;}else{popupWin=window.open(c,d,f);popupWin.opener.top.name="opener";popupWin.focus();}}var cnnHasOpenPopup=0;function CNN_openPopup(d,c,g,a){var h=location.hostname;window.top.name="opener";var f=window.open(d,c,g);if(f){cnnHasOpenPopup=1;}if(f&&f.opener){if(a){f.opener.location=a;}}if(f){f.focus();}}var cnnVidServer="";function cnnLiveVideo(a){if(!a){a="1";}var c=cnnVidServer+"http://www.cnn.com/video/live/live.html?stream=stream"+a;javascript:CNN_openPopup(c,"liveplayer","toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=yes,width=672,height=540");}function cnnVideo(g,k,n){var j=new Array("world","us","international","spanish","politics","showbiz","offbeat","tech","living","education","health","sports","weather");var d=false;var h=false;var l="";var a=/\/(\d{4})\/(\d{2})\/(\d{2})\//;if(a.test(k)){var f=k.match(a);var c=f[1]+f[2]+f[3];if(c<"20090303"){d=true;}}for(i=0;i<j.length;i++){var o=new RegExp("^/video/"+j[i]+"/");if(o.test(k)){h=true;}}if(k.search(/^\/video\/business\//)>-1&&d==true){h=true;}if(k.search(/\/globalforum\//)>-1){l="http://money.cnn.com/video/globalforum/"+k;}else{if(h){l="http://www.cnn.com/video/#"+k;}else{l="http://money.cnn.com/"+k;}}if(g=="live"){cnnLiveVideo(k);}else{if(top.location==self.location){location.href=l;}else{window.open(l,"vid_win");}}}function writeLink(c,a,d){if(document.getElementById(d)){document.getElementById(d).innerHTML='<a rel="nofollow" href="'+a+'">Subscribe to '+c+"</a>";}}var sectionType="";function setMagLinks(){banner_linkMag="";banner_linkMagURL="";link_fortURL="https://subscription.fortune.com/storefront/subscribe-to-fortune/link/1002978.html";link_moneymagURL="https://subscription.money.com/storefront/subscribe-to-money/link/1003003.html";if(location.pathname.match("fortune")){banner_linkMag="Fortune";banner_linkMagURL=link_fortURL;}else{if(location.pathname.match("moneymag")){banner_linkMag="Money";banner_linkMagURL=link_moneymagURL;}else{var a=Math.floor(Math.random()*2);if(a==0){banner_linkMag="Fortune";banner_linkMagURL=link_fortURL;}else{banner_linkMag="Money";banner_linkMagURL=link_moneymagURL;}}}writeLink(banner_linkMag,banner_linkMagURL,"banner_maglink");}function chooseFortEKeyFooter(){var a=Math.floor(Math.random()*2);if((location.pathname=="/magazines/fortune/")||(location.pathname=="/magazines/fortune/index.html")){writeFortCMLinkFooter("FOnb?source_id=34");}else{if((location.pathname=="/magazines/fortune/investing/")||(location.pathname=="/magazines/fortune/investingindex.html")){writeFortCMLinkFooter("FOnb?source_id=33");}else{if((location.pathname=="/magazines/fortune/tech/")||(location.pathname=="/magazines/fortune/tech/index.html")){writeFortCMLinkFooter("FOnb?source_id=31");}else{if((location.pathname=="/magazines/fortune/fortune500/")||(location.pathname=="/magazines/fortune/fortune500/index.html")){writeFortCMLinkFooter("FOnb?source_id=35");}else{if((location.pathname=="/magazines/fortune/management/")||(location.pathname=="/magazines/fortune/management/index.html")){writeFortCMLinkFooter("FOnb?source_id=32");}else{if((location.pathname=="/magazines/fortune/rankings/")||(location.pathname=="/magazines/fortune/rankings/index.html")){writeFortCMLinkFooter("foab?source_id=33");}else{if((location.hostname.search(/\.blogs(\..+)?\.cnn\.com$/)!=-1)||(location.pathname.match("/magazines/fortune/columnists"))){writeFortCMLinkFooter("FOnb?source_id=36");}else{if(location.pathname.match("/galleries")){writeFortCMLinkFooter("FOnb?source_id=54");}else{if(location.pathname.match("/video/ft")){writeFortCMLinkFooter("FOnb?source_id=37");}else{if(location.pathname.match(".htm$")){writeFortCMLinkFooter("FOnb?source_id=38");}else{if(location.pathname.match("/magazines/fortune/fortune_archive/")){writeFortCMLinkFooter("FOnb?source_id=51");}else{if(location.pathname.match(/(\..+)?\/\d{4}\//)){writeFortCMLinkFooter("foab?source_id=33");}else{writeFortCMLinkFooter("FOnb?source_id=2");}}}}}}}}}}}}}var cnnCSIs=new Array();var cnnUseDelayedCSI=0;var localUserAgent=navigator.userAgent.toLowerCase();
if((localUserAgent.indexOf("msie")>-1)&&(localUserAgent.indexOf("mac")>-1)){cnnUseDelayedCSI=1;}function cnnAddCSI(d,c,h,j){if(d!="contextualLinks"){if(!h){h="";}j=(!j&&(c.charAt(0)=="/"))?false:true;if(cnnUseDelayedCSI){var f=new Object();f.src=c;f.id=d;f.args=h;f.breakCache=j;cnnCSIs[cnnCSIs.length]=f;}else{var k=new Date();var g=k.getTime();var a=(j)?"&time="+g:"";if(h){a=a+"&"+h;}var l='<iframe src="'+c+"?domId="+d+a+'" name="iframe'+d+'" id="iframe'+d+'" width="0" height="0" align="right" style="visibility:hidden"></iframe>';document.write(l);}}}function cnnUpdateCSI(c,g){var a=document.getElementById(g)||document.all[g];if(a){a.innerHTML=c;}var d=0;if(d){var f=d.style.top||"0px";d.style.top="1px";d.style.top=f;}}function cnnHandleCSIs(){if(document.getElementById){var c=document.getElementById("cnnPipelineLauncher");}if(document.body&&document.body.innerHTML&&cnnUseDelayedCSI){var g=document.getElementById("csiIframe")||document.all["csiIframe"];var n="";for(var j=0;j<cnnCSIs.length;j++){var a=cnnCSIs[j].src;var d=cnnCSIs[j].id;var l=new Date();var k=cnnCSIs[j].breakCache;var f=l.getTime();var h=(k)?"&time="+f:"";if(cnnCSIs[j].args){h=h+"&"+cnnCSIs[j].args;}n+='<iframe src="'+a+"?domId="+d+h+'" name="iframe'+d+'" id="iframe'+d+'" width="0" height="0" align="right"></iframe>';}if(g){g.innerHTML=n;}}}function getTimeStamp(h){var n=h.split("T");var l=n[0].split("-");var k=n[1].split(":");var g=l[1]+"/"+l[2]+"/"+l[0]+" "+n[1].toString();h=new Date(g);var j=cnnSiteWideCurrDate;var o="AM";function f(p){return(c(p.getHours())+":"+a(p.getMinutes())+" "+o);}function c(d){if(d>=12){o="PM";d-=12;}if(d<10){d="0"+d;}return d;}function a(d){if(d<=10){d="0"+d;}return d;}if(h.getMonth()==j.getMonth()&&h.getDate()==j.getDate()&&h.getFullYear()==j.getFullYear()){return f(h);}else{return(h.toDateString()+" "+f(h));}}function trunctext(c,a){if(c.length>a){trunced=c.substring(0,a);trunced=trunced.replace(/\w+$/,"...");return trunced;}return c;}function cnnm_setCookie(d,g,a,j,f,h){var c=0;if(a){if((typeof(a)=="string")&&Date.parse(a)){c=a;}else{if(a==""){c="";}else{if(typeof(a)=="number"){c=(new Date((new Date()).getTime()+a*3600000)).toGMTString();}}}}document.cookie=d+"="+g+((c)?(";expires="+c):"")+((j)?";path="+j:"")+((f)?";domain="+f:"")+((h&&(h===true))?"; secure":"");}function cnnm_getCookie(d){var c,f,a=document.cookie.split(";");for(i=0;i<a.length;i++){c=a[i].substr(0,a[i].indexOf("="));f=a[i].substr(a[i].indexOf("=")+1);c=c.replace(/^\s+|\s+$/g,"");if(c==d){return unescape(f);}}}function getQueryStrings(){var g={};var f=function(j){return decodeURIComponent(j.replace(/\+/g," "));};var h=location.search.substring(1);var a=h.split("&");for(var d in a){var c=a[d].split("=");if(c.length>1){g[f(c[0])]=f(c[1]);}}return g;}function intlEdition_Dropdown(){jQuery(".edtn_dropdown dt a").click(function(){jQuery(".edtn_dropdown dd ul").toggle();});jQuery(".edtn_dropdown dd ul li a").click(function(){var d=jQuery(this).html();jQuery(".edtn_dropdown dt a").html(d);jQuery(".edtn_dropdown dd ul").hide();var c=jQuery(this).attr("id");function a(f,g){var h=new Date();h.setDate(h.getDate()+365);document.cookie=f+"="+escape(g)+";expires="+h.toUTCString()+";path=/;domain=cnn.com";return;}a("SelectedEdition",c);if(c=="www"){document.location.href="/?iid=dmstedition";}else{document.location.href="/?iid=intnledition";}});jQuery(document).bind("click",function(c){var a=jQuery(c.target);if(!a.parents().hasClass("edtn_dropdown")){jQuery(".edtn_dropdown dd ul").hide();}});}var cnnOutbrain_Manager={OB_permalink:"",WIDGETS:{story_hotlist:{widgetid:"HOP_5",anchorid:"js-outbrain-hotlist"},section_hotlist:{widgetid:"HOP_8",anchorid:"js-outbrain-hotlist"},story_related:{widgetid:"AR_6",anchorid:"js-outbrain-relateds"},gallery_related:{widgetid:"AR_2",anchorid:"js-outbrain-relateds"},video_related:{widgetid:"TR_1",anchorid:"js-outbrain-relateds"},data_quote_related:{widgetid:"AR_18",anchorid:"js-outbrain-relateds"},story_recommend:{widgetid:"AR_11",anchorid:"js-outbrain-recommended"},gallery_recommend:{widgetid:"AR_13",anchorid:"js-outbrain-recommended"},blog_recommend:{widgetid:"AR_11",anchorid:"js-outbrain-recommended"},data_quote_recommend:{widgetid:"AR_17",anchorid:"js-outbrain-recommended"},video_recommend:{widgetid:"AR_19",anchorid:"js-outbrain-recommended"},video_between_recommend:{widgetid:"AR_21",anchorid:"js-outbrain-between-recommended"},story_module:{widgetid:"AR_5",anchorid:"js-outbrain-module"},blog_module:{widgetid:"AR_5",anchorid:"js-outbrain-module"},gallery_module:{widgetid:"AR_15",anchorid:"js-outbrain-module"},hp_module:{widgetid:"SFC",anchorid:"js-outbrain-module"},videoclip_module:{widgetid:"AR_10",anchorid:"js-outbrain-module"},marketshp_module:{widgetid:"SF_3",anchorid:"js-outbrain-module"},markets_module:{widgetid:"AR_8",anchorid:"js-outbrain-module"},section_module:{widgetid:"SF_4",anchorid:"js-outbrain-module"},section_module_2:{widgetid:"SF_7",anchorid:"js-outbrain-section-module-2"},marketshp_300_module:{widgetid:"SF_8",anchorid:"js-outbrain-marketshp-300-module"},marketshp_726_module:{widgetid:"SF_9",anchorid:"js-outbrain-marketshp-726-module"},story_ads_rr_module:{widgetid:"SB_5",anchorid:"js-outbrain-ads-module"},quote_ads_rr_module:{widgetid:"SB_5",anchorid:"js-outbrain-ads-module"},story_ads_rr2_module:{widgetid:"AR_34",anchorid:"js-outbrain-rightrail-ads-module"},video_footer_module:{widgetid:"AR_20",anchorid:"js-outbrain-module"},hp_module_promoted_stories:{widgetid:"AR_37",anchorid:"js-outbrain-module-rightrail"},hp_module_promoted_stories_orange_zone:{widgetid:"HPP",anchorid:"js-outbrain-module-rightrail"}},addScript:function(){var a=document.createElement("script");a.setAttribute("language","javascript");a.setAttribute("async","async");a.setAttribute("type","text/javascript");a.setAttribute("src","http://widgets.outbrain.com/outbrain.js");document.body.appendChild(a);},get_OB_permalink:function(){return this.OB_permalink;},set_OB_permalink:function(){var a=document.getElementsByTagName("head")[0].getElementsByTagName("link"),f=false,c;for(c=0;c<a.length;c++){try{if(a[c].getAttribute("rel")=="canonical"){f=true;this.OB_permalink=a[c].getAttribute("href");break;}}catch(d){}}if(!f){this.OB_permalink=window.location.href;}this.OB_permalink=this.OB_permalink.replace(/http:\/\/\w+\.money/g,"http://money");},load:function(a){if(typeof a==="undefine"){return;}if(typeof a.permalink!=="undefined"){this.OB_permalink=a.permalink;}else{this.set_OB_permalink();}if(typeof a.feeds!=="undefined"&&true===a.feeds){cnnOutbrainFeeds.load();}if(typeof a.modules!=="undefined"&&a.modules.length>0){for(i=0;i<a.modules.length;i++){cnnOutbrainModules.load(a.modules[i]);}}this.addScript();}};var cnnOutbrainFeeds={OB_data_fbk:"",OB_data_widget_id:"",OB_anchor:document.getElementById("js-OB_feed"),OB_feedIDlist:["FT","DF"],OB_feedIDs:{"FT":{fbk:"CNNMoneyHpFT",widget_id:"HOP_3"},"DF":{fbk:"CNNMoneyHpDF",widget_id:"HOP_4"}},setModuleId:function(){var c=(new Date()).getMilliseconds(),a,d;a=(c%this.OB_feedIDlist.length);d=this.OB_feedIDs[this.OB_feedIDlist[a]];if(typeof d==="undefined"){d=this.OB_feedIDs["FT"];}this.OB_data_fbk=d.fbk;this.OB_data_widget_id=d.widget_id;},addModule:function(){var a="";this.setModuleId();if(this.OB_anchor){this.OB_div_elem='<div class="OUTBRAIN" data-widget-type="hp" data-fbk="'+this.OB_data_fbk+'" data-src="'+cnnOutbrain_Manager.get_OB_permalink()+'" data-widget-id="'+this.OB_data_widget_id+'" data-ob-template="cnnmoney"></div>';this.OB_anchor.innerHTML=this.OB_div_elem;}},load:function(a){var c;if(typeof a!=="undefined"){this.OB_anchor=(typeof a.anchorID!=="undefined")?document.getElementById(a.anchorID):this.OB_anchor;}if(!this.OB_anchor){return;}c=this.OB_anchor.getAttribute("data-feedlist");this.OB_feedIDlist=c.split(",");this.addModule();}};var cnnOutbrainModules={OB_data_widget_id:"",OB_anchor:null,addModule:function(){var a="";if(this.OB_anchor){this.OB_div_elem='<div class="OUTBRAIN" data-widget-id="'+this.OB_data_widget_id+'" data-src="'+cnnOutbrain_Manager.get_OB_permalink()+'" data-ob-template="cnnmoney"></div>';
this.OB_anchor.innerHTML=this.OB_div_elem;}},load:function(c){c=c||{};var a=c.anchorid||"";this.OB_data_widget_id=c.widgetid||this.OB_data_widget_id;this.OB_anchor=document.getElementById(a);if(this.OB_anchor!=null&&this.OB_data_widget_id!=""){this.addModule();}}};var glassDoorConfig={defaultFormat:"300x390",host:"http://jobsearch.money.cnn.com",profile:"",format:"300x390",title:"",industry:"",company:"",query:"",ticker:""};function initGlassDoorIframe(){var a={title:"",profile:"",format:glassDoorConfig.defaultFormat,industry:"",company:"",query:"",ticker:""};var h=location.search.substr(1).split("&");for(var d=0;d<h.length;d++){var f=h[d].split("=");var c=f[0].toLowerCase();var g=f[1];switch(c){case"profile":a.profile=(g=="")?a.profile:g;break;case"format":a.format=(g=="")?a.format:g;break;case"title":a.title=(g=="")?"":g;break;case"industry":a.industry=(g=="")?"":g;break;case"company":a.company=(g=="")?"":g;break;case"query":a.query=(g=="")?"":g;break;case"ticker":a.ticker=(g=="")?"":g;break;}}return a;}var glassDoor={PROFILES:{TECHJOBS:"techjobs",IN_LOCATION:"jobsinplace",IN_COMPANY:"jobsincompany",IN_TICKER:"jobsinticker",IN_FIELD:"jobsinfield"},host:glassDoorConfig.host,requestParams:"",companyName:"",companyNameUri:"/httpcall/research/quote/modules/companyName.asp?display=include&symb=",loadscript:function(){var a=document.createElement("script");a.async=true;a.type="text/javascript";a.src=this.host+"/js/widget.js";document.body.appendChild(a);},setParameters:function(){this.requestParams="format="+encodeURIComponent(glassDoorConfig.format)+"&";if(glassDoorConfig.title!=""){this.requestParams+="t="+encodeURIComponent(glassDoorConfig.title)+"&";}switch(glassDoorConfig.profile){case glassDoor.PROFILES.TECHJOBS:glassDoorConfig.query="Technology";this.requestParams+="q="+encodeURIComponent(glassDoorConfig.query)+"&";break;case glassDoor.PROFILES.IN_LOCATION:this.requestParams+="l="+encodeURIComponent(glassDoorConfig.location)+"&";break;case glassDoor.PROFILES.IN_COMPANY:this.requestParams+="e="+encodeURIComponent(glassDoorConfig.company)+"&";break;case glassDoor.PROFILES.IN_TICKER:this.requestParams+="ticker="+encodeURIComponent(glassDoorConfig.ticker)+"&";break;case glassDoor.PROFILES.IN_FIELD:this.requestParams+="q="+encodeURIComponent(glassDoorConfig.query)+"&";break;}},embed:function(){var a='<div class="jobsWidget">Find <a href="'+glassDoorConfig.host+"/?"+this.requestParams+'" target="_pn">'+glassDoorConfig.title+' Jobs</a> with CNNMoney Jobs. Powered by Glassdoor <a href="'+glassDoorConfig.host+'/index.htm" title="Jobs by Glassdoor">jobs</a> search.</div>';jQuery("div#gdWidget").html(a).show();},getCompanyName:function(c){var a=this.companyNameUri+glassDoorConfig.ticker;jQuery.ajax({url:a,success:function(f){if(f!=""){try{var d=f.substr(f.indexOf(" - ")+3,f.length-1);glassDoorConfig.title=d;glassDoor.setParameters();glassDoor.embed();glassDoor.loadscript();}catch(g){console.log(g);}}}});},init:function(a){if(typeof(a)=="undefined"){var a={};}if(!document.getElementById("gdWidget")){return;}glassDoorConfig.profile=a.profile||"";glassDoorConfig.format=a.format||glassDoorConfig.defaultFormat;glassDoorConfig.title=a.title||"";glassDoorConfig.industry=a.industry||"";glassDoorConfig.company=a.company||"";glassDoorConfig.query=a.query||"";glassDoorConfig.ticker=a.ticker||"";if(glassDoorConfig.ticker!=""&&glassDoorConfig.company==""){this.getCompanyName();}else{this.setParameters();this.embed();this.loadscript();}}};if(window.top!=window){var gdOptions=initGlassDoorIframe();glassDoor.init(gdOptions);}var DataBubbleCalculators={"starter_calc_annuities":{name:"annuities",uri:"/.element/ssi/stories/5.0/tools/starter.annuities.html",isIframe:true},"starter_calc_assetalloc":{name:"assetalloc",uri:"/.element/ssi/stories/5.0/tools/starter.assetalloc.html",isIframe:false},"starter_calc_costofliving":{name:"costofliving",uri:"/.element/ssi/stories/5.0/tools/starter.costofliving.html",isIframe:false},"starter_calc_millionaire":{name:"millionaire",uri:"/.element/ssi/stories/5.0/tools/starter.millionaire.html",isIframe:false},"starter_calc_retireyoung":{name:"retireyoung",uri:"/.element/ssi/stories/5.0/tools/starter.retireyoung.html",isIframe:false},"starter_calc_saveyoung":{name:"saveyoung",uri:"/.element/ssi/stories/5.0/tools/starter.saveyoung.html",isIframe:false},"starter_calc_savings":{name:"savings",uri:"/.element/ssi/stories/5.0/tools/starter.savings.html",isIframe:false}};function initStoryTickerBubbles(){jQuery(".inlink_chart").each(function(){var c=$(this).text();c=updateTicker(c);var f=DataBubbleManager.create();var d=f.attr("id");var g=DataBubbleManager.getOriginal("ticker",c);if(g==null){var h=new DataBubble({"bubbleId":d,"ticker":c,"contentType":DataBubbleManager.contentTypes.TICKER,"useAds":true,"useTracking":true,"link":$(this),"uniqueId":c,"popupType":DataBubbleManager.popupTypes.HOVER,"parent":$(this)});}else{DataBubbleManager.mapDuplicate(g.bubbleId,d);var h=new DataBubble({"bubbleId":d,"ticker":c,"contentType":DataBubbleManager.contentTypes.CONTENT,"content":g.content,"useAds":true,"useTracking":true,"link":$(this),"uniqueId":c,"popupType":(is_iOS==true)?DataBubbleManager.popupTypes.CLICK:DataBubbleManager.popupTypes.HOVER,"parent":$(this)});}DataBubbleManager.add(d,h);});try{eventLogger.log("quote","quote_bubble");}catch(a){}}function initStoryCalcBubbles(){jQuery(".inlink_calc").each(function(){var f=$(this).find(".inlink").attr("id");var d=DataBubbleManager.create();var c=d.attr("id");var a=new DataBubble({"bubbleId":c,"type":DataBubbleManager.bubbleTypes.CALC,"useAds":true,"contentType":((DataBubbleCalculators[f].isIframe==true)?DataBubbleManager.contentTypes.IFRAME:DataBubbleManager.contentTypes.INLINE_EXT),"contentURI":DataBubbleCalculators[f].uri,"uniqueId":f,"popupType":DataBubbleManager.popupTypes.CLICK,"parent":$(this)});DataBubbleManager.add(c,a);});}jQuery(document).ready(function(){try{cnnmBanner.init();}catch(j){}try{CNNM.Social.init();}catch(j){}try{MarketsModuleSlideShow.init();}catch(j){}try{DataBubbleManager.loadTemplate(function(){initStoryTickerBubbles();initStoryCalcBubbles();});}catch(j){}try{updateLinks("story");updateLinksForNavigation("story");}catch(j){console.log(j);}try{VideoPlayerManager.loadAutoplayers();}catch(j){}var g=function(){if(!jQuery.belowthefold(".ratesContainer",{threshold:0,container:window})){try{jQuery(window).unbind("scroll",g);}catch(k){}try{BankrateScroll.init(0);}catch(k){}}};try{if(jQuery("#bankrate_module").length){if(!jQuery.belowthefold(".ratesContainer",{threshold:0,container:window})){try{BankrateScroll.init(0);}catch(j){}}else{jQuery(window).scroll(g);}}}catch(j){}try{if(cnnOmniture_videoopps=="zero"){AspenWeb.init({"site":"cnn_money","appName":"aspenWeb","appVersion":"1.0","platform":"javascript"});var f="article";var d=document.location.pathname.replace("index.html","");var c=window.location.protocol+"//"+window.location.host;var h=document.location.href;AspenWeb.send("pageView",{"pageLocation":f,"fullURL":h,"pagePath":c+d});}}catch(j){}try{cnnOutbrain_Manager.load({"feeds":true,"modules":[cnnOutbrain_Manager.WIDGETS.story_hotlist,cnnOutbrain_Manager.WIDGETS.story_related,cnnOutbrain_Manager.WIDGETS.story_recommend,cnnOutbrain_Manager.WIDGETS.story_module,cnnOutbrain_Manager.WIDGETS.story_ads_rr_module,cnnOutbrain_Manager.WIDGETS.story_ads_rr2_module]});}catch(j){}try{var a={"format":"300x225"};if(location.pathname.indexOf("/technology/")!=-1){a.profile="techjobs";}glassDoor.init(a);}catch(j){if(console&&console.log){console.log("Error loading Glassdoor...\n"+j);}}});(function(){var a=window.location.hostname;window.CNN=window.CNN||{};CNN.msib=CNN.msib||{};CNN.msib.localCfg=CNN.msib.localCfg||{};CNN.msib.localCfg.instance="money";if(a.match(/^money\.cnn\.com$/i)||a.match(/^stage\.money\.cnn\.com$/i)){CNN.msib.localCfg.avatar=CNN.msib.localCfg.avatar||{};CNN.msib.localCfg.avatar.host="avatar.cnn.com";CNN.msib.localCfg.gigya=CNN.msib.localCfg.gigya||{};CNN.msib.localCfg.gigya.appId="3_gtUbleJNtrRITgx-1mM_ci7GcIrH8xL9W_VfAbzSa4zpFrRwnpq_eYd8QTRkr7VC";
CNN.msib.localCfg.livefyre=CNN.msib.localCfg.livefyre||{};CNN.msib.localCfg.livefyre.network="cnn.fyre.co";CNN.msib.localCfg.livefyre.siteId=363961;CNN.msib.localCfg.livefyre.srcDomain="http://zor.livefyre.com";CNN.msib.localCfg.msib=CNN.msib.localCfg.msib||{};CNN.msib.localCfg.msib.baseUrl="https://audience.cnn.com/services/money";}else{CNN.msib.localCfg.avatar=CNN.msib.localCfg.avatar||{};CNN.msib.localCfg.avatar.host="qa.avatar.cnn.com";CNN.msib.localCfg.gigya=CNN.msib.localCfg.gigya||{};CNN.msib.localCfg.gigya.appId="3_LTNCrO1cEo12TEwRPMkA-DrPxGQITCHZ3InrjSvsnYKZ8pxOYgLR1M-qKqH5k19w";CNN.msib.localCfg.livefyre=CNN.msib.localCfg.livefyre||{};CNN.msib.localCfg.livefyre.network="cnn-qa.fyre.co";CNN.msib.localCfg.livefyre.siteId=305124;CNN.msib.localCfg.livefyre.srcDomain="http://zor.t402.livefyre.com";CNN.msib.localCfg.msib=CNN.msib.localCfg.msib||{};CNN.msib.localCfg.msib.baseUrl="https://aud-qai.cnn.com/services/money";}CNN.msib.moneyLivefyreLogin=null;CNN.msib.moneyLivefyreLogout=null;CNN.msib.env=CNN.msib.env||{};CNN.msib.env.host=a;}());(function(h){var j="/sdk/jQuery-easyXDM";var f="/sdk/easyXDM";var o={};var d=this||window;var c="before";var k=[];var g=null;var l=null;var n=false;if(/jquery\.easyXDM\.debug=true/.test(String(window.location))){n=true;}if(n){if(h("#log").length===0){h("body").append('<div id="log"></div>');}}var a=function(q,s){if(!h.support.cors||n){var r=q+f+"/easyXDM.min.js";if(n){r=q+f+"/easyXDM.debug.js";}var p=function(){var v=easyXDM.noConflict("jquery_easyXDM");o.easyXDM=v;var u=q+j+"/jquery.easyXDM.provider.html?baseUrl="+encodeURIComponent(q);var t=h("#jquery_easyXDM_provider_container")[0]||null;if(n){u+="&jquery.easyXDM.debug=true";if(!t){t=h('<div id="jquery_easyXDM_provider_container"></div>').appendTo(h("body"))[0];}}g=new v.Rpc({remote:u,swf:q+f+"/easyxdm.swf",container:t,onReady:function(){s.success(g);}},{remote:{jquery_proxy:{}}});};h.getScript(r,function(){if(!(typeof window.JSON==="object"&&window.JSON)){h.getScript(q+f+"/json2.js",p);}else{p();}});}};o.getConnection=function(p,q){switch(c){case"before":c="working";k.push(q);a(p,{success:function(s){c="success";g=s;for(var r=0;r<k.length;r++){k[r].success(g);}k=[];},failure:function(s){c="failure";l=s;for(var r=0;r<k.length;r++){k[r].failure(l);}k=[];}});break;case"working":k.push(q);break;case"success":q.success(g);break;case"failure":q.failure(l);break;default:throw new Error("Invalid state: "+c);}};h.ajaxTransport("+*",function(q,s,r){if(q.crossDomain&&(!h.support.cors||n)&&s.realmEasyXDM==="msib"){var p=MSIB.settings.baseUrlCore;return{send:function(u,t){o.getConnection(p,{success:function(v){function w(y){t(y.status,y.statusText,y.responses,y.headers);}s.context=null;v.jquery_proxy(s,w);},error:function(){}});},abort:function(){}};}});d.jquery_easyXDM=o;})(jQuery);(function(f){var g=[];function c(l){var k=l.getOpts();return k?k.cnnConfigTarget:void (0);}function j(){return g;}function a(k){if(k){g.push(k);}}function h(){}function d(k){var l=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return l.test(k);}h.prototype.configureElement=function(){return{};};h.prototype.fetchElements=function(){return[];};h.prototype.generateStreamConfigs=function(){var l=this,k=f.makeArray(this.fetchElements());return f.map(k,function(o){var n=l.configureElement(o);n.cnnConfigTarget=l;return n;});};h.prototype.onWidgetLoaded=function(){};window.CNN=window.CNN||{};window.CNN.social=window.CNN.social||{};window.CNN.social.findPlugin=c;window.CNN.social.getLivefyreConvPlugins=j;window.CNN.social.registerLivefyreConvPlugin=a;window.CNN.social.LivefyreConvPlugin=h;window.CNN.social.isValidEmail=d;}(jQuery));(function(n){var p,q,C=[],f,z,l=false;z=function(){z=MSIB.util.isSuccessStatus;return z.apply(this,arguments);};function w(D){if(window.console&&window.console.error){window.console.error(D);}}function v(D){if(typeof D==="undefined"){D=document.location.href;}return p.msib.loginUrl+"?r="+encodeURIComponent(D);}function g(D){return v(D)+"&a=logout";}function u(D){if(l){D(f);}else{C.push(D);}}function B(D){if(D.match(/\.beta\.cnn\.com(:\d+)?$/i)){return"prod";}else{if(D.match(/\.next\.cnn\.com(:\d+)?$/i)){return"qai";}else{w("Unrecogized environment for MSIB (using default): "+D);return"qai";}}}function s(E){var D;D={avatar:{defaultUrl:"http://i.cdn.turner.com/cnn/.element/img/2.0/sect/connect/avatar.gif",host:"avatar.cnn.com"},gigya:{appId:"3_gtUbleJNtrRITgx-1mM_ci7GcIrH8xL9W_VfAbzSa4zpFrRwnpq_eYd8QTRkr7VC",showCounts:"none",enabledProviders:"facebook,twitter,googleplus,linkedin",shareButtons:"Facebook,Facebook-Like,Twitter-Tweet,googleplus-share,LinkedIn,Email,Share",providerCfg:{"Facebook-Like":{action:"recommend"}},moreEnabledProviders:"Pinterest,Tumblr,Reddit,Stumbleupon"},livefyre:{network:"cnn.fyre.co",siteId:353270,srcDomain:"http://zor.livefyre.com"},msib:{appId:"sdk",baseUrl:"https://audience.cnn.com/services/cnn",cookieTtl:2*7*24*60*60*1000,loginUrl:"login.html"}};if(E==="qai"){D.avatar.host="qa.avatar.cnn.com";D.gigya.appId="3_LTNCrO1cEo12TEwRPMkA-DrPxGQITCHZ3InrjSvsnYKZ8pxOYgLR1M-qKqH5k19w";D.livefyre.network="cnn-qa.fyre.co";D.livefyre.siteId=304762;D.livefyre.srcDomain="http://zor.t402.livefyre.com";D.msib.baseUrl="https://aud-qai.cnn.com/services/cnn";}return D;}function r(E,D){if(!E){E=40;}else{if(E<16){E=16;}else{if(E>120){E=120;}}}if(typeof D==="string"&&D!==""){return"http://"+p.avatar.host+"/people/"+encodeURIComponent(D)+"/avatar/"+E+".png";}else{return p.avatar.defaultUrl;}}function y(E){var D;if(typeof q!=="undefined"){E(q);}else{window.__gigyaConf={autoLogin:false,enabledProviders:p.gigya.enabledProviders};D="http://cdn.gigya.com/js/gigya.js?apiKey="+p.gigya.appId;n.ajax(D,{cache:true,dataType:"script"}).done(function(){q=true;E(true);}).fail(function(H,G,F){q=false;w(F);E(false);});}}function t(E){var D=p.livefyre.srcDomain+"/wjs/v3.0/javascripts/livefyre.js";n.ajax(D,{cache:true,dataType:"script"}).done(function(){E(true);}).fail(function(H,G,F){w(F);E(false);});}function j(){var F=MSIB.util.getTid();var E=MSIB.util.getAuthid();var D=MSIB.util.getAuthpass();if(!F||!E||!D){return false;}return true;}function c(E){function D(F){CNN.msib.isLoaded=F!=="error"&&F!=="timeout"&&F!=="abort"&&F!=="parsererror";E();}if(!j()){D();return;}MSIB.msapi.getUserInfo({tid:MSIB.util.getTid(),authid:MSIB.util.getAuthid()},function(G,H,F){if(z(G)){CNN.msib.isLoaded=true;E(F);}else{D(H);}});}function o(E,D){this.loadFrom(E,D);}o.prototype.getAvatar=function(D){return n("<img>").attr({src:this.getAvatarUrl(D),alt:this.loggedIn?this.displayName:"",width:D,height:D});};o.prototype.getAuthority=function(D){var E;if(this.loggedIn){E=this.msib.authorities[D];}return E;};o.prototype.getAvatarUrl=function(D){var E;if(!this.loggedIn){return p.avatar.defaultUrl;}else{if(this.msib.attributes.avatarUrl){return this.msib.attributes.avatarUrl;}else{E=this.getAuthority("USERNAME");if(E){return r(D,E);}else{return p.avatar.defaultUrl;}}}};o.prototype.getUserToken=function(){return MSIB.util.cookie.get(MSIB.settings.livefyreCookieName);};o.prototype.hasAuthority=function(D){if(this.loggedIn){return this.msib.authorities.hasOwnProperty(D);}else{return false;}};o.prototype.loadFrom=function(E,D){this.loggedIn=!!E;this.msib=E;this.gigya=D;E=E||{};this.displayName=E.displayName||"CNN User";return this;};o.prototype.logout=function(D){MSIB.util.fullLogout(function(){window.location.href=g(D);});};o.prototype.reload=function(E){var D=this;c(function(F){E(D.loadFrom(F,MSIB.data.gigyaUser));});};function k(H){var E=CNN.social.getLivefyreConvPlugins(),D=[],G,F;for(F=0;F<E.length;F+=1){Array.prototype.push.apply(D,E[F].generateStreamConfigs());}if(!D.length){H();}else{t(function(I){if(!I){H();}else{G=new fyre.conv.RemoteAuthDelegate();CNN.msib.localCfg.livefyre.auth=G;G.login=function(){MSIB.util.normalizeLoginStatus();CNN.msib.moneyLivefyreLogin();};G.logout=function(){CNN.msib.moneyLivefyreLogout();};fyre.conv.load({network:p.livefyre.network,authDelegate:G},D,function(){var J,L,K;
for(J=0;J<arguments.length;J+=1){L=arguments[J];K=CNN.social.findPlugin(L);if(K){K.onWidgetLoaded(L);}}H();});}});}}function A(){new o().reload(function(D){var E;f=D;l=true;for(E=C.length-1;E>=0;E-=1){C[E](D);}C=[];});}function a(){var G=MSIB.util.getTid(),F=MSIB.util.getAuthid(),E=MSIB.util.getAuthpass(),D;if(G&&F&&E){D=function(){y(function(){MSIB.util.normalizeLoginStatus(A);});};}else{D=function(){MSIB.util.normalizeLoginStatus(A);};}k(D);}function d(){n.extend(true,p,CNN.msib.localCfg);MSIB.initialize({appID:p.msib.appId,baseUrlCore:p.msib.baseUrl,gigyaAppID:p.gigya.appId,tidCookieName:"CNNid",tidCookieDomain:".cnn.com",tidCookieTTL:p.msib.cookieTtl},a);}function h(){var D="http://cdn.livefyre.com/libs/sdk/v2.6.1/streamhub-sdk.min.js";if(!(window.MSIB&&typeof window.MSIB.initialize==="function")){w("Missing dependency: MSIB SDK");}else{n.ajax(D,{cache:true,dataType:"script"}).done(function(){d();}).fail(function(G,F,E){w(E);});}}window.CNN=window.CNN||{};CNN.msib=CNN.msib||{};CNN.msib.localCfg=CNN.msib.localCfg||{};CNN.msib.avatarForScreenName=r;CNN.msib.getLoginUrl=v;CNN.msib.isLoaded=false;CNN.msib.isSuccessStatus=z;CNN.msib.loadGigya=y;CNN.msib.onInitialized=u;p=s(B(window.location.host));CNN.msib.cfg=p;n(h);}(jQuery));var CNN_removeCookie=null;var CNN_setCookie=null;var CNN_getCookies=null;var setLast5ModuleTab=null;var setLast5ModuleTabCookie=null;var user=null;var cnnMODPrefix=null;function getMODPrefix(){var a=location.hostname;if(a.indexOf("jcmsdev")>-1||a.indexOf("qai")>-1||a.indexOf("turner")>-1||a.indexOf("dev")>-1||a.indexOf("ref")>-1||a.indexOf("train")>-1||a.indexOf("localhost")>-1){return"http://markets.money.qai.cnn.com";}else{return"http://markets.money.cnn.com";}}function removeCookie(a,d,c){var f=getCookies();var g=f[a]||null;if(g){document.cookie=a+"="+g+"; expires=Fri, 13-Apr-1970 00:00:00 GMT"+((d)?";path="+d:"")+((c)?";domain="+c:"");}}function setCookie(d,g,a,j,f,h){var c=0;if(a){if((typeof(a)=="string")&&Date.parse(a)){c=a;}else{if(a==""){c="";}else{if(typeof(a)=="number"){c=(new Date((new Date()).getTime()+a*3600000)).toGMTString();}}}}if(d!="authpass"){document.cookie=d+"="+escape(g)+((c)?(";expires="+c):"")+((j)?";path="+j:"")+((f)?";domain="+f:"")+((h&&(h===true))?"; secure":"");}else{document.cookie=d+"="+g+((c)?(";expires="+c):"")+((j)?";path="+j:"")+((f)?";domain="+f:"")+((h&&(h===true))?"; secure":"");}}function getCookies(){var f=new Array;if(document.cookie){var d=document.cookie.split("; ");for(var c=0;c<d.length;c++){var a=d[c].split("=");if(a[0]!="authpass"){f[a[0]]=unescape(a[1])||null;}else{f[a[0]]=a[1]||null;}}}return f;}function _setLast5ModuleTabCookie(c){var a="Last5QuotesTab";removeCookie(a,"/",document.domain);setCookie(a,c,24*30*12,"/",document.domain);}function _setLast5ModuleTab(){var c=getCookies();var a=c["Last5QuotesTab"]||null;switch(a){case"last5":showNavTab("mod-myinvestments",2);break;case"watchlist":showNavTab("mod-myinvestments",1);break;case"portfolio":showNavTab("mod-myinvestments",0);break;default:}}function addOverlay(c){if(jQuery("#"+c).length>0){return;}var a=jQuery("#profile_overlaybg");var f=document.createElement("div");var d=document.createElement("iframe");f.id=c;f.className="overlay_content";d.id=c+"-iframe";f.innerHTML='<a class="close" onclick="cnnHideOverlays();return false;"></a>';a.after(f);f.appendChild(d);}function bindClickEvents(){jQuery("#managa_btn0,#managa_btn1,#managa_btn2,#managa_btn3").unbind();jQuery("#managa_btn0,#managa_btn1,#managa_btn2,#managa_btn3").click(function(){if(user.loggedIn){if(isPreferredEmailConfirmed(user)){var a=jQuery(this).attr("id");makeMODRequest(a);}else{showConfirmedEmailRequiredMsg();}}else{cnnShowLogin();return false;}return false;});jQuery("#managa_btn4").click(function(){jQuery("#profile_newsletter_overlay ul").eq(0).find(" > li").each(function(c){if(c==0){if(user.loggedIn){if(isPreferredEmailConfirmed(user)){var a=jQuery("#profile_newsletter_overlay ul li").eq(0).find("ul input[checked]").val();var d=jQuery("#profile_newsletter_overlay ul li").eq(0).find("ul input[data-subscribed=true]").val();if(d){jQuery("#profile_newsletter_overlay ul").eq(0).find(" > li").eq(0).find("a.btn_subscription").addClass("unsubscribe");jQuery("input[name=moneybreakingnews_email]:radio").each(function(f){jQuery(this).attr("disabled","disabled");});}else{jQuery("input[name=moneybreakingnews_email]:radio").each(function(f){jQuery(this).removeAttr("disabled");});if(!a){jQuery("#profile_newsletter_overlay ul li").eq(0).find("ul input").eq(0).attr("checked","checked");}}jQuery(this).removeClass("collapsedNews").show();jQuery("#profile_newsletter_overlay .boxHeading").text("Breaking News Alerts");jQuery("#profile_newsletter_overlay").cnnShowOverlay();}else{showConfirmedEmailRequiredMsg();}}else{if(!$("#cnnMoneyConnectFormLogin").length){cnnGetHTML("cnnMoneyConnectFormLogin");}$("#cnnMoneyConnectFormLogin").cnnShowOverlay();}}else{jQuery(this).hide();}});});jQuery("#wsod_tabNav_myInvestments a").click(function(){if(jQuery(this).parent().hasClass("secondTab")){var a=jQuery(this).text();jQuery(this).text(jQuery("#wsod_tabNav_myInvestments a").eq(0).text());jQuery("#wsod_tabNav_myInvestments a").eq(0).text(a);if(a=="My Watch List"){if(!user.loggedIn&&jQuery("#cnnWatchListConnect").css("display")=="none"){jQuery(".myInvestments").hide();jQuery("#cnnWatchListConnect").show();}else{if(!user.loggedIn&&jQuery("#cnnWatchListConnect").css("display")!="none"){jQuery("#cnnWatchListConnect").hide();jQuery(".myInvestments").attr("src",cnnMODPrefix+"/common/modules/iframe/myInvestments.asp?myStocksTab=last5&rnd="+Math.floor(Math.random()*101010101)).show();}else{jQuery(".myInvestments").attr("src",cnnMODPrefix+"/secure/watchlist/myWatchlist.asp?myStocksTab=watchlist&rnd="+Math.floor(Math.random()*101010101));}}}else{jQuery("#cnnWatchListConnect").hide();jQuery(".myInvestments").attr("src",cnnMODPrefix+"/common/modules/iframe/myInvestments.asp?myStocksTab=last5&rnd="+Math.floor(Math.random()*101010101)).show();}}return false;});jQuery("#mod-myinvestments .NaviTabs li").click(function(){if(jQuery(this).hasClass("tabnum0")){jQuery("#cnnWatchListConnect").hide();showNavTab("mod-myinvestments",0);setLast5ModuleTabCookie("portfolio");}else{if(jQuery(this).hasClass("tabnum1")){if(user.loggedIn&&jQuery("#cnnWatchListConnect iframe").length==0){jQuery("#cnnWatchListConnect").html('<iframe src="'+cnnMODPrefix+"/secure/watchlist/myWatchlist.asp?myStocksTab=watchlist&rnd="+Math.floor(Math.random()*101010101)+'" scrolling="" width="315" height="282" frameborder="0"></iframe>').css("height",282).show();}else{if(user.loggedIn&&jQuery("#cnnWatchListConnect iframe").length!=0){jQuery("#cnnWatchListConnect").show();}else{jQuery("#cnnWatchListConnect").show();}}showNavTab("mod-myinvestments",1);setLast5ModuleTabCookie("watchlist");}else{jQuery("#cnnWatchListConnect").hide();showNavTab("mod-myinvestments",2);setLast5ModuleTabCookie("last5");}}return false;});jQuery("#wsod_addToWatchlistButton").click(function(){if(user.loggedIn===true){showAddToWatchlistIframe();}else{cnnShowLogin();}return false;});jQuery("#wsod_setAlertButton").click(function(){if(user.loggedIn===true){if(isPreferredEmailConfirmed(user)){showAlertsIframe();}else{showConfirmedEmailRequiredMsg();}}else{cnnShowLogin();}return false;});}function makeMODRequest(c){jQuery(".showOverlay").removeClass("showOverlay");switch(c){case"wsod_setAlertButton":if(user.msib.preferredEmail){showAlertsIframe();}else{showConfirmedEmailRequiredMsg();}break;case"wsod_addToWatchlistButton":showAddToWatchlistIframe();break;case"managa_btn0":showAlertTypeIframe(0,"company");break;case"managa_btn1":showAlertTypeIframe(1,"mf");break;case"managa_btn2":showAlertTypeIframe(2,"watchlist");break;case"managa_btn3":showAlertTypeIframe(3,"keyword");break;case"viewNewslettersOverlay":jQuery("#profile_newsletter_overlay").cnnShowOverlay();var a=true;jQuery(".myNewsletter_signUp").each(function(d){if(jQuery(this).hasClass("loading")){a=false;}});if(!CNN_NEWSLETTERS_LOADED&&a){jQuery(".myNewsletter_signUp").addClass("loading");
ms_getEmails("ms_uiGetEmails");}break;default:break;}}function showAccountRequiredMsg(){if(!$("#cnnMoneyAccountRequired").length){cnnGetHTML("cnnMoneyAccountRequired");}$("#cnnMoneyAccountRequired").cnnShowOverlay();}function showConfirmedEmailRequiredMsg(){if(!$("#cnnMoneyEmailRequired").length){cnnGetHTML("cnnMoneyEmailRequired");}$("#cnnMoneyEmailRequired").cnnShowOverlay();}function showAddToWatchlistIframe(){addOverlay("WSOD-add-watchlist");addAddToWatchlistIframe();}function addAddToWatchlistIframe(){jQuery("#WSOD-add-watchlist-iframe").attr("src",cnnMODPrefix+"/secure/watchlist/addSymbol.asp?wsodissue="+quotes.WSODIssue+"&rnd="+Math.floor(Math.random()*101010101)).parent().cnnShowOverlay();}function showAlertsIframe(){addOverlay("WSOD-alerts");addAlertsIframe();}function addAlertsIframe(){jQuery("#WSOD-alerts-iframe").attr("src",cnnMODPrefix+"/secure/alerts/iframe.asp?wsodissue="+quotes.WSODIssue+"&rnd="+Math.floor(Math.random()*101010101)).parent().cnnShowOverlay();}function showAlertTypeIframe(c,a){addOverlay("WSOD-alerts"+c);jQuery("#WSOD-alerts"+c+"-iframe").attr("src",cnnMODPrefix+"/secure/alerts/iframe.asp?alertType="+a+"&rnd="+Math.floor(Math.random()*101010101)).parent().cnnShowOverlay();}function buildPage(){bindClickEvents();}function postInit(a){user=a;cnnMODPrefix=getMODPrefix();buildPage();}CNN_removeCookie=removeCookie;CNN_setCookie=setCookie;CNN_getCookies=getCookies;setLast5ModuleTab=_setLast5ModuleTab;setLast5ModuleTabCookie=_setLast5ModuleTabCookie;$(function(){CNN.msib.onInitialized(postInit);});function cnnConnectOverlayLoginValidationError(a,d){switch(a){case"clear":try{jQuery(".cnnConnectLoginErrors").hide().html("");jQuery("#emailinput, #passwordinput").removeClass("redinput_error");jQuery("#psigninp2_email, #psigninp2_password").removeClass("redtexterror");}catch(c){}break;case"add":jQuery(".cnnConnectLoginErrors").html(jQuery(".cnnConnectLoginErrors").html()+d);break;case"show":jQuery(".cnnConnectLoginErrors").addClass("redtexterror");jQuery(".cnnConnectLoginErrors").show();try{cnnFocusOnFirstError();}catch(c){}break;}}function clearInputErrors(){jQuery(".redinput_error").val("").removeClass("redinput_error");jQuery(".redtexterror").html("").removeClass("redtexterror");jQuery(".msib-error").html("");jQuery(".cnnConnectLoginErrors, #cnnConnectRegisterErrors, #cnnConnectResetErrors, #cnnConnectForgotErrors, #cnnConnFormScreenNameErrors, #cnnConnectProfileErrors, #updateProfilePasswordMessages, #forgotpass_email").hide();jQuery("#signup_kaptcha").val("");jQuery(".overlay_content").find('input[type="password"], input[type="text"], input[type="email"]').val("");}function resetInputErrors(){jQuery(".redinput_error").removeClass("redinput_error");jQuery(".redtexterror").removeClass("redtexterror");jQuery(".cnnConnectLoginErrors, #cnnConnectRegisterErrors, #cnnConnectResetErrors, #cnnConnectForgotErrors, #cnnConnFormScreenNameErrors, #cnnConnectProfileErrors, #updateProfilePasswordMessages, #forgotpass_email").text("");}function cnnConnectOverlayClearLogin(){jQuery(".cnnConnectLoginErrors").hide();jQuery("#cnnConnectFormLogin")[0].email.value="";jQuery("#cnnConnectFormLogin")[0].password.value="";jQuery("#cnnConnectFormLogin")[0].email.className="cnnConnectFormbg5 cnn_connectoverlay_email";jQuery("#cnnConnectFormLogin")[0].password.className="cnnConnectFormbg6 cnn_connectoverlay_password";jQuery("#psigninp2_email").removeClass("redtexterror");jQuery("#psigninp2_password").removeClass("redtexterror");}function cnnConnectOverlayForgotValidationError(a,d){switch(a){case"clear":try{clearInputErrors();jQuery("#cnnConnectForgotErrors").hide();jQuery("#cnnConnectForgotErrors").html("<br>");}catch(c){}break;case"add":try{jQuery("#cnnConnectForgotErrors")[0].innerHTML+=d;}catch(c){}break;case"show":try{jQuery("#cnnConnectForgotErrors").show();}catch(c){}break;}}function cnnConnectOverlayForgotValidationError(a,d){switch(a){case"clear":try{clearInputErrors();jQuery("#cnnConnectForgotErrors").hide();jQuery("#cnnConnectForgotErrors").html("<br>");}catch(c){}break;case"add":try{jQuery("#cnnConnectForgotErrors")[0].innerHTML+=d;}catch(c){}break;case"show":try{jQuery("#cnnConnectForgotErrors").show();}catch(c){}break;}}function cnnConnectOverlayResetValidationError(a,c){switch(a){case"clear":jQuery("#cnnConnectResetErrors").hide();jQuery("#cnnConnectResetErrors").html("");break;case"add":jQuery("#cnnConnectResetErrors").html(c);break;case"show":jQuery("#cnnConnectResetErrors").addClass("redtexterror");jQuery("#cnnConnectResetErrors").show();break;}}function cnnConnectOverlayResetError(a){switch(a){case"resetCode":jQuery("#cnnConnectFormReset")[0].resetCode.className="redtexterror redinput_error";jQuery("#cnnConnectFormReset p").eq(0).addClass("redtexterror");break;case"newPassword":jQuery("#cnnConnectFormReset")[0].newPassword.className="redtexterror redinput_error";jQuery("#cnnConnectFormReset p").eq(1).addClass("redtexterror");break;case"confirmNewPassword":jQuery("#cnnConnectFormReset").confirmNewPassword.className="redtexterror redinput_error";break;default:jQuery("#cnnConnectFormReset")[0].resetCode.className="redtexterror redinput_error";jQuery("#cnnConnectFormReset p").eq(0).addClass("redtexterror");jQuery("#cnnConnectFormReset")[0].newPassword.className="redtexterror redinput_error";jQuery("#cnnConnectFormReset p").eq(1).addClass("redtexterror");break;}}function cnnConnectOverlayError(d,c,a){var f="#cnnConnectFormRegister";if(a){f="#cnnConnectFormRegisterGigya";}switch(d){case"email":if(jQuery(f)[0].email.value!==""){jQuery(f)[0].email.className="cnn_connectoverlay_email2 redtexterror redinput_error";}break;case"password":if(jQuery(f).password.value!==""){jQuery(f)[0].password.className="cnn_connectoverlay_password2 redtexterror redinput_error";}break;case"errorText":jQuery("#cnnConnectRegisterErrors").hide().html(c).addClass("redtexterror").show();break;case"clearErrorText":jQuery("#cnnConnectRegisterErrors").hide().html("");jQuery("#cnnConnectRegisterErrors")[0].className="";break;case"addErrorText":jQuery("#cnnConnectRegisterErrors")[0].innerHTML+=c;jQuery("#cnnConnectRegisterErrors").addClass("redtexterror");break;case"showErrorText":jQuery("#cnnConnectRegisterErrors").addClass("redtexterror");jQuery("#cnnConnectRegisterErrors").show();break;}}function cnnConnectOverlayRegisterError(c,a){var d="#cnnConnectFormRegister";if(a){d="#cnnConnectFormRegisterGigya";}switch(c){case"email":jQuery(d)[0].email.className="redtexterror redinput_error";jQuery("#signup_email").parent().find(".fieldTitle").eq(1).addClass("redtexterror");break;case"password":jQuery(d)[0].password.className="redtexterror redinput_error";jQuery("#signup_password").parent().find(".fieldTitle").eq(2).addClass("redtexterror");break;case"screenName":jQuery(d)[0].screenName.className="redtexterror redinput_error";jQuery("#signup_screenname").parent().find(".fieldTitle").eq(0).addClass("redtexterror");break;case"captcha":jQuery(d)[0].captcha.className="redtexterror redinput_error";jQuery("#signup_kaptcha_p1").addClass("redtexterror");jQuery("#cnnConnectRegisterErrors").addClass("redtexterror");break;}}function cnnGenerateCaptchaImage(){jQuery("#cnnConnectCaptchaImage").attr("src",ms_baseStandard+"kaptcha?challenge_id="+Math.round(Math.random()*9999999999)).attr("width",200).attr("height",50);}var TurnerPipe=function(){var a=this;var d=[];function f(g){jQuery.ajax({url:g,dataType:"script",processData:false,jsonp:"false",success:function(){},error:function(){}});}function c(g){g();}this.process=function(h){try{c(h.callbacks);}catch(g){}};this.enqueue=function(g){f(g);};return this;};TurnerPipe.prototype.queue=function(a){this.enqueue(a);};TurnerPipe.prototype.dequeue=function(a){this.process(a);};try{var CNNMoneyPipe=new TurnerPipe();}catch(e){}var emailPattern=/^([a-zA-Z0-9_\.\'\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;var screenNamePattern=/^\w+$/;var zipCodePattern=/^\d{5}([\-]\d{4})?$/;Array.prototype.inArray=function(c){var a;for(a=0;a<this.length;a++){if(this[a]===c){return true;
}}return false;};function validateEmail(a){return emailPattern.test(a);}function cnnFocusOnFirstError(){jQuery(".showOverlay input.redinput_error:visible:enabled:first").focus();}function stringTrim(a){return(a.replace(/^\s+|\s+$/g,""));}function cnnClearIframes(){jQuery("#WSOD-alerts0-iframe, #WSOD-alerts1-iframe, #WSOD-alerts2-iframe, #WSOD-alerts3-iframe, #newsletter-preview-iframe, #alert-preview-iframe, #WSOD-alerts-iframe, #WSOD-add-watchlist-iframe").each(function(a){if(jQuery(this).attr("src")!==""&&jQuery(this).attr("src")!=="about:blank"){jQuery(this).attr("src","about:blank");}});}function isPreferredEmailConfirmed(c){var a=c.msib.preferredEmail;if(a){var f=c.msib.emails;for(var d=0;d<f.length;d++){if(f[d].email==a&&f[d].confirmed==true){return true;}}}return false;}function hasUserNameAuthority(a){if(a.msib.authorities.USERNAME){return true;}return false;}function cnnShowLogin(){if(!jQuery("#cnnMoneyConnectFormLogin").length){cnnGetHTML("cnnMoneyConnectFormLogin");}else{jQuery("#cnnMoneyConnectFormLogin").cnnShowOverlay();}return false;}function showConfirmedEmailRequiredMsg(){if(!jQuery("#cnnMoneyEmailRequired").length){cnnGetHTML("cnnMoneyEmailRequired");}jQuery("#cnnMoneyEmailRequired").cnnShowOverlay();}function cnnFocusOnFirstError(){jQuery(".showOverlay input.redinput_error:visible:enabled:first").focus();}function cnnMsibDownError(){if(!jQuery("#WSOD-add-watchlist-iframe").length){jQuery("body").append('<div id="profile_servicedown_overlay" class="overlay_content"><a href="javascript:void(0)" class="close" onclick="cnnHideOverlays();return false;"></a><h2>We\'re Sorry!</h2><p>This service is temporarily unavailable. Please try again soon.</p><br style="clear: both"></div>');}if(jQuery("#profile_servicedown_overlay").css("display")=="none"){jQuery(".showOverlay").removeClass("showOverlay");jQuery("#profile_servicedown_overlay").cnnShowOverlay();}}function cnnHideOverlays(){if(jQuery(".showOverlay").attr("id")!="profile_followtopic11_overlay"){jQuery(".showOverlay").removeClass("showOverlay");jQuery("#profile_overlaybg").hide();clearInputErrors();cnnClearIframes();cnnDisplayAfterLogin="";}else{window.msReload();}}function cnnGetHTML(d,a,c){switch(d){case"cnnMoneyLinkAccountForm":jQuery("body").append('<form onsubmit="return false;" id="cnnMoneyLinkAccountForm" class="overlay_content" data-provider="'+c+'"><h2>Loading...</h2></form>');jQuery("#cnnMoneyLinkAccountForm").cnnShowOverlay();CNNMoneyPipe.queue("http://i.cdn.turner.com/money/.element/script/7.0/services/linkaccount.js",c);break;case"cnnMoneyConnectFormLogin":jQuery("body").append('<form onsubmit="return false;" id="cnnMoneyConnectFormLogin" class="overlay_content"><h2>Loading...</h2></form>');jQuery("#cnnMoneyConnectFormLogin").cnnShowOverlay();CNNMoneyPipe.queue("http://i.cdn.turner.com/money/.element/script/7.0/services/login.js");break;case"cnnMoneyConnectFormLoginWSocial":jQuery("body").append('<form onsubmit="return false;" id="cnnMoneyConnectFormLoginWSocial" class="overlay_content"><h2>Loading...</h2></form>');jQuery("#cnnMoneyConnectFormLoginWSocial").cnnShowOverlay();CNNMoneyPipe.queue("http://i.cdn.turner.com/money/.element/script/7.0/services/loginwsocial.js");break;case"cnnConnectFormRegister":if(a){jQuery("body").append('<form onsubmit="return false;" id="cnnConnectFormRegisterGigya" class="overlay_content"><h2>Loading...</h2></form>');jQuery("#cnnConnectFormRegisterGigya").cnnShowOverlay();CNNMoneyPipe.queue("http://i.cdn.turner.com/money/.element/script/7.0/services/registertmp.gigya.js");}else{jQuery("body").append('<form onsubmit="return false;" id="cnnConnectFormRegister" class="overlay_content"><h2>Loading...</h2></form>');jQuery("#cnnConnectFormRegister").cnnShowOverlay();CNNMoneyPipe.queue("http://i.cdn.turner.com/money/.element/script/7.0/services/registertmp.js");}break;case"cnnConnectFormForgot":jQuery("body").append('<form onsubmit="return false;" id="cnnConnectFormForgot" class="overlay_content"><h2>Loading...</h2></form>');jQuery("#cnnConnectFormForgot").cnnShowOverlay();CNNMoneyPipe.queue("http://i.cdn.turner.com/money/.element/script/7.0/services/forgotpwtmp.js");break;case"cnnConnectFormReset":jQuery("body").append('<form onsubmit="return false;" id="cnnConnectFormReset" class="overlay_content"><h2>Loading...</h2></form>');jQuery("#cnnConnectFormReset").cnnShowOverlay();CNNMoneyPipe.queue("http://i.cdn.turner.com/money/.element/script/7.0/services/resetpwtmp.js");break;case"cnnConnFormScreenName":jQuery("body").append('<form onsubmit="return false;" id="cnnConnFormScreenName" class="overlay_content"><h2>Loading...</h2></form>');jQuery("#cnnConnFormScreenName").cnnShowOverlay();CNNMoneyPipe.queue("http://i.cdn.turner.com/money/.element/script/4.0/services/setScreenNametmp.js");break;case"profile_newsletter_overlay":jQuery("body").append('<form id="profile_newsletter_overlay" class="overlay_content" action="" onsubmit="return false;"><h2>Loading...</h2></form>');CNNMoneyPipe.queue("http://i.cdn.turner.com/money/.element/script/4.0/services/setNewsletterstmp.js");break;case"profile_followtopic11_overlay":jQuery("body").append('<div id="profile_followtopic11_overlay" class="overlay_content"></div>');jQuery("#profile_followtopic11_overlay").cnnShowOverlay();CNNMoneyPipe.queue("http://i.cdn.turner.com/money/.element/script/4.0/services/confirmEmail.js");break;case"cnnMoneySocialSettings":jQuery("body").append('<form onsubmit="return false;" id="cnnMoneySocialSettings" class="overlay_content" data-provider="'+c+'"><h2>Loading...</h2></form>');jQuery("#cnnMoneySocialSettings").cnnShowOverlay();CNNMoneyPipe.queue("http://i.cdn.turner.com/money/.element/script/7.0/services/socialsettings.js",c);break;case"cnnMoneyEmailRequired":jQuery("body").append('<div onsubmit="return false;" id="cnnMoneyEmailRequired" class="overlay_content" data-provider="'+c+'"><h2>Loading...</h2></div>');jQuery("#cnnMoneyEmailRequired").cnnShowOverlay();CNNMoneyPipe.queue("http://i.cdn.turner.com/money/.element/script/7.0/services/emailrequired.js",c);break;case"cnnMoneyAccountRequired":jQuery("body").append('<div onsubmit="return false;" id="cnnMoneyAccountRequired" class="overlay_content" data-provider="'+c+'"><h2>Loading...</h2></div>');jQuery("#cnnMoneyAccountRequired").cnnShowOverlay();CNNMoneyPipe.queue("http://i.cdn.turner.com/money/.element/script/7.0/services/cnnmoneyaccountrequired.js",c);break;default:break;}}try{jQuery(document).ready(function(){try{if(document.compatMode!="BackCompat"){jQuery("body").addClass("cnnProfile");}}catch(a){}if(!(jQuery("#profile_overlaybg").length)){jQuery("body").append('<div id="profile_overlaybg"></div>');}jQuery("#profile_overlaybg").click(function(){cnnHideOverlays();return false;});jQuery(".close").click(function(){cnnHideOverlays();return false;});jQuery.fn.cnnShowOverlay=function(){var d=window.innerHeight?window.innerHeight:jQuery(window).height();var h=jQuery(window).width();var k=Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight);var f=Math.max(document.documentElement.clientWidth,document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth);if(jQuery("#profile_overlaybg").css("display")=="none"){var j=(k>d)?k:d;var c=(f>h)?f:h;jQuery("#profile_overlaybg").css({"width":c,"height":j}).show();}if(this.length){this.css({"left":h/2-(this.width()/2),"top":d/2-(this.height()/2)+jQuery(window).scrollTop()}).addClass("showOverlay");try{this.find("input:visible:enabled:first").focus();}catch(g){}}};jQuery.extend({URLEncode:function(p){var n="";var g=0;p=p.toString();var k=/(^[a-zA-Z0-9_.]*)/;while(g<p.length){var f=k.exec(p.substr(g));if(f!==null&&f.length>1&&f[1]!==""){n+=f[1];g+=f[1].length;}else{if(p[g]==" "){n+="+";}else{var l=p.charCodeAt(g);var j=l.toString(16);n+="%"+(j.length<2?"0":"")+j.toUpperCase();}g++;}}return n;},URLDecode:function(f){var h=f;
var c,d;var g=/(%[^%]{2})/;while((m=g.exec(h))!==null&&m.length>1&&m[1]!==""){b=parseInt(m[1].substr(1),16);d=String.fromCharCode(b);h=h.replace(m[1],d);}return h;}});jQuery(window).resize(function(){if(jQuery("#profile_overlaybg").css("display")=="block"){var d=window.innerHeight?window.innerHeight:jQuery(window).height();var h=jQuery(window).width();var k=Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight);var g=Math.max(document.documentElement.clientWidth,document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth);var j=(k>d)?k:d;var c=(g>h)?g:h;jQuery("#profile_overlaybg").css({"width":c,"height":j}).show();var f=jQuery(".showOverlay");f.css({"left":h/2-(f.width()/2),"top":d/2-(f.height()/2)+jQuery(window).scrollTop()}).show();}});});}catch(e){}(function(L){var g=180,D,N,s,Y;function l(ah,ag,af){var ai,ae;if(ah&&ah.errors&&ah.errors.length>0){ai=ah.errors;for(ae=ai.length-1;ae>=0;ae-=1){if((!ag||ai[ae].field===ag)&&ai[ae].error===af){return true;}}}return false;}function U(){L(".msib-error").text("");}function h(ai,ah){var ae=L("#"+ah).find(".msib-error").first(),ag=L("<ul>"),af;ai=ai||[];for(af=0;af<ai.length;af++){switch(ai[af].message){case"invalidCredentials":ag.append(L("<li>").text("Your email address or password doesn't match our records. Please try again."));break;case"duplicate.email":ag.append(L("<li>").text("This email is already taken."));break;default:ag.append(L("<li>").text(ai[af].message));}}ae.empty();ag.appendTo(ae);}function T(af,ae){var ag;if(af&&af.errors){ag=af.errors;}else{ag=[{message:JSON.stringify(af)}];}h(ag,ae);}function t(){window.location.reload();}function W(ae){MSIB.msapi.srvc.authorize({tid:MSIB.util.getTid(),authid:MSIB.util.getAuthid(),serviceCode:"money"},function(ag,ah,af){if(CNN.msib.isSuccessStatus(ag)){z(ae);}else{aa();}});return false;}function O(ae,ah){var ag=false;var af={tid:MSIB.util.getTid(),authid:MSIB.util.getAuthid(),authpass:MSIB.util.getAuthpass()};if(D&&D.msib&&D.msib.address&&D.msib.address.zip){af["address.zip"]=D.msib.address.zip;}else{af["address.zip"]="";}if(ae&&ae.avatarUrl){af["attributes['avatarUrl']"]=ae.avatarUrl;if(N){if(D&&N&&N.photoURL){ag=true;}}else{if(D&&D.msib&&D.msib.attributes&&D.msib.attributes.avatarUrl){if(D.msib.attributes.avatarUrl!==ae.avatarUrl){ag=true;}}}}if(ae&&ae.displayName){af.displayName=ae.displayName;}if(ag===true){MSIB.msapi.editUserInfo(af,ah);}else{r();}}function r(ae){MSIB.msapi.livefyre.getToken({tid:MSIB.util.getTid(),authid:MSIB.util.getAuthid()},function(ai,aj,ah){if(CNN.msib.isSuccessStatus(ai)){try{var af=(24*365*100);cnnm_setCookie("displayname",D.displayName,af,"/","cnn.com");}catch(ag){}t();}else{T(ah,ae);}});}function z(ag){var ae;var af=(ag=="cnnMoneyConnectFormLoginWSocial"||ag=="cnnMoneyConnectFormLogin")?false:true;ae=function(ai,aj,ah){if(CNN.msib.isSuccessStatus(ai)){console.log("success - "+ag);r(ag);}else{console.log("fail - "+ag);T(ah,ag);}};if(N){if(!af){if(typeof s!=="undefined"&&s.length>0&&s!==N.photoURL){O({avatarUrl:N.photoURL||CNN.msib.cfg.avatar.defaultUrl,displayName:N.nickname||"CNN User"},ae);}else{r(af);}}else{O({avatarUrl:N.photoURL||CNN.msib.cfg.avatar.defaultUrl,displayName:N.nickname||"CNN User"},ae);}}else{D.reload(function(){var aj=D.getAuthority("USERNAME"),ai=D.msib.attributes.avatarUrl,ah=CNN.msib.avatarForScreenName(g,aj);if(!af){if(typeof ai!=="undefined"&&typeof ah!=="undefined"){if(ai!==ah){O({avatarUrl:ah,displayName:aj||"CNN User"},ae);}else{r(af);}}else{r(af);}}else{O({avatarUrl:ah,displayName:aj||"CNN User"},ae);}});}}function P(af,ae,ai,ah){var ag={loginId:af,password:ae};ag.acceptedLegalDocuments="domestic_version";U();MSIB.settings.tidCookieTTL=ai?CNN.msib.cfg.msib.cookieTtl:"SESSION";MSIB.msapi.auth.login(ag,function(ak,al,aj){if(CNN.msib.isSuccessStatus(ak)){W(ah);}else{T(aj,ah);}});return false;}function H(){if(location.hostname.toLowerCase().indexOf("portfolio")>-1||(location.hostname.toLowerCase().indexOf("markets")>-1&&location.pathname.toLowerCase().indexOf("watchlist")>-1)){document.location="http://"+CNN.msib.env.host;}else{t();}}function aa(){MSIB.social.gigya.logout(function(){MSIB.util.fullLogout(function(){N=undefined;Y=undefined;H();});});return false;}function J(){aa();}function y(){if(!L("#cnnMoneyConnectFormLogin").length){cnnGetHTML("cnnMoneyConnectFormLogin");}else{L("#cnnMoneyConnectFormLogin").cnnShowOverlay();}return false;}function M(){if(!L("#cnnMoneyConnectFormLoginWSocial").length){cnnGetHTML("cnnMoneyConnectFormLoginWSocial");}else{L("#cnnMoneyConnectFormLoginWSocial").cnnShowOverlay();}return false;}function B(aj,an){var af=L("#"+aj).find("input[name='email']");var ae=L("#"+aj).find("input[name='password']");var am=L("#"+aj).find("input[name='rememberme']");var ah=stringTrim(af.val());var ak=ae.val();var ao=am.prop("checked");var ai=true;var ag="Registration isn't complete without your ";var al=[];if(validateEmail(ah)===false){ai=false;al[al.length]="email address";L("#psigninp2_email").addClass("redtexterror");af.addClass("redtexterror redinput_error");}if(ak===""){ai=false;al[al.length]="password";L("#psigninp2_password").addClass("redtexterror");ae.addClass("redtexterror redinput_error");}if(ai){if(an){d(ah,ak,aj);}else{P(ah,ak,ao,aj);}}else{if(al.length===2){cnnConnectOverlayLoginValidationError("add","We need your "+al[0]+" and "+al[1]+" to log in.");}else{if(al[0]==="email address"&&validateEmail(ah)===false&&ah!==""){cnnConnectOverlayLoginValidationError("add","You entered an invalid email address.");}else{if(al[0]==="email address"&&ah===""){cnnConnectOverlayLoginValidationError("add","We need your "+al[0]+" to log in.");}else{cnnConnectOverlayLoginValidationError("add","We need your "+al[0]+" to log in.");}}}cnnConnectOverlayLoginValidationError("show");}}function F(ah,ae){var af=[];if(ah&&ah.errors){af=ah.errors;}cnnConnectOverlayError("clearErrorText");if(af.length>0){switch(af[0].message){case"duplicate.emailAddress":case"duplicate.emailAuthority":cnnConnectOverlayRegisterError("email",ae);cnnConnectOverlayError("addErrorText","That email address is already taken.<br/>");break;case"Email Address required":cnnConnectOverlayRegisterError("email",ae);cnnConnectOverlayError("addErrorText","You forgot to enter your email address.<br/>");break;case"emailInvalidFormat.emailAddress":cnnConnectOverlayRegisterError("email",ae);cnnConnectOverlayError("addErrorText","You entered an invalid email address.<br/>");break;case"missing required param: password":cnnConnectOverlayRegisterError("password",ae);cnnConnectOverlayError("addErrorText","You forgot to enter your password.<br/>");break;case"Please enter a password between {0} and {1} characters":cnnConnectOverlayRegisterError("password",ae);cnnConnectOverlayError("addErrorText","You entered an invalid password.<br/>");break;case"blank.username":cnnConnectOverlayRegisterError("screenName",ae);cnnConnectOverlayError("addErrorText","You forgot to enter your screen name.<br/>");break;case"duplicate.username":cnnConnectOverlayRegisterError("screenName",ae);cnnConnectOverlayError("addErrorText","That screen name is already taken. Please choose another.<br/>");break;case"missing privacy policy":cnnConnectOverlayError("addErrorText","You must agree to the privacy policy.<br/>");break;case"invalid.username":cnnConnectOverlayRegisterError("screenName",ae);cnnConnectOverlayError("addErrorText","You entered an invalid screen name.<br/>");break;case"invalid.displayName":cnnConnectOverlayRegisterError("screenName",ae);cnnConnectOverlayError("addErrorText","Screen name not permitted.<br/>");break;default:cnnConnectOverlayError("addErrorText",af[i].message+".<br/>");}}cnnConnectOverlayError("showErrorText");try{cnnFocusOnFirstError();}catch(ag){}}function k(ai,ag,af,ah,ae){MSIB.msapi.auth.register({emailAddress:ag,emailAuthority:ag,username:ah,displayName:ah,acceptedLegalDocuments:"domestic_version",password:af,marketingCode:"money"},function(ak,al,aj){if(CNN.msib.isSuccessStatus(ak)){if(ae){ac(MSIB.util.getTid(),MSIB.util.getAuthid(),MSIB.util.getAuthpass(),ai);
}W(ai);}else{F(aj,ae);}});return false;}function j(ak,ao){var ae=L("#"+ak)[0];var ai=ae.email.value.trim();var am=ae.password.value.trim();var aj=ae.screenName.value.trim();ae.screenName.value=aj;var al=true;var ag="A required field is missing! Registration isn't complete without a valid ";var an=[];if(ai===""||validateEmail(ai)===false){al=false;an[an.length]="email address";cnnConnectOverlayRegisterError("email",ao);}if(am.length<6||am.indexOf(" ")!==-1||am.length>10||am===""){al=false;an[an.length]="password";cnnConnectOverlayRegisterError("password",ao);}if(aj===""||aj.length<4||aj.length>12||screenNamePattern.test(aj)===false){al=false;an[an.length]="screen name";cnnConnectOverlayRegisterError("screenName",ao);}if(al===true){k(ak,ai,am,aj,ao);}else{switch(an.length){case 1:if(an[0]==="email address"&&validateEmail(ai)===false&&ai!==""){ag="You entered an invalid email address.";}else{if(an[0]==="email address"&&ai===""){ag+=an[0];}else{ag+=an[0];}}break;case 2:ag+=an[0]+" and "+an[1];break;default:for(var af=0;af<an.length;af++){ag+=(af==(an.length-1))?"and "+an[af]+".":an[af]+", ";}break;}cnnConnectOverlayError("errorText",ag);try{cnnFocusOnFirstError();}catch(ah){}}}function G(ae){if(ae){L("#cnnMoneyConnectFormLoginWSocial").removeClass("showOverlay");if(!L("#cnnConnectFormRegisterGigya").length){cnnGetHTML("cnnConnectFormRegister",ae);}else{L("#cnnConnectFormRegisterGigya").cnnShowOverlay();}}else{L("#cnnMoneyConnectFormLogin").removeClass("showOverlay");if(!L("#cnnConnectFormRegister").length){cnnGetHTML("cnnConnectFormRegister",ae);}else{L("#cnnConnectFormRegister").cnnShowOverlay();}if(L("#cnnConnectCaptchaImage").length&&L("#cnnConnectCaptchaImage").attr("src").indexOf("loading.gif")>-1){cnnGenerateCaptchaImage();}}}function R(){L("#cnnConnectFormForgot").removeClass("showOverlay");try{L("#cnnConnectFormReset")[0].email.value=L("#cnnConnectFormForgot")[0].email.value;}catch(af){}L("#cnnConnectForgotErrors").hide();L("#cnnConnectFormForgot")[0].email.value="";if(!L("#profile_generic_message_overlay").length){L("body").append('<div id="profile_generic_message_overlay" class="overlay_content"></div>');}var ae='<div id="check-your-email" class="form-inner">                                <a href="javascript:void(0)" class="close" onclick="cnnHideOverlays();return false;">&#215;</a>                                <h2>Check your email</h2>                                <p class="fieldInstruct">You will receive an email from us with instructions for resetting your CNNMoney.com password. If you don\'t receive this email, please check your junk mail folder or <a href="http://money.cnn.com/services/bridge/contact.us.html">contact us</a> for further assistance.</p>                                <div class="clearfix></div>                            </div>';L("#profile_generic_message_overlay").html(ae).cnnShowOverlay();}function f(ah){var af=[];if(ah&&ah.errors){af=ah.errors;}if(af.length>0){if(af[0].error.toLowerCase()=="invalid"){cnnConnectOverlayForgotValidationError("add","Your email address doesn't match our records. Please try again.");jQuery("#cnnConnectFormForgot")[0].email.className="redtexterror redinput_error";jQuery("#cnnConnectForgotErrors, #forgotpass_email").addClass("redtexterror");cnnConnectOverlayForgotValidationError("show");try{cnnFocusOnFirstError();}catch(ag){}}else{if(af[0].error.toLowerCase()=="user not found"){cnnConnectOverlayForgotValidationError("add","Your email address doesn't match our records. Please try again.");jQuery("#cnnConnectFormForgot")[0].email.className="redtexterror redinput_error";jQuery("#cnnConnectForgotErrors, #forgotpass_email").addClass("redtexterror");cnnConnectOverlayForgotValidationError("show");try{cnnFocusOnFirstError();}catch(ag){}}else{if(af[0].error.toLowerCase()=="alreadyrequested"){jQuery("#cnnConnectFormForgot").removeClass("showOverlay");if(!L("#profile_generic_message_overlay").length){L("body").append('<div id="profile_generic_message_overlay" class="overlay_content"></div>');}var ae='<div id="check-your-email" class="form-inner">                                        <a href="javascript:void(0)" class="close" onclick="cnnHideOverlays();return false;">&#215;</a>                                        <h2>Check your email</h2>                                        <p class="fieldInstruct">You will receive an email from us with instructions for resetting your CNNMoney.com password. If you don\'t receive this email, please check your junk mail folder or <a href="http://money.cnn.com/services/bridge/contact.us.html">contact us</a> for further assistance.</p>                                        <div class="clearfix></div>                                    </div>';L("#profile_generic_message_overlay").html(ae).cnnShowOverlay();}else{cnnMsibDownError();}}}}}function q(ae,ag){U();var af;af=MSIB.ajax({type:"GET",url:"/msapi/password.request",data:{type:"EMAIL",principal:ae,appid:"money"}});af.done(function(ai,aj,ah){if(CNN.msib.isSuccessStatus(ah)){R();}else{f(ai);}});af.fail(function(ah,aj,ai){T(ai,ag);});return false;}function X(ag){var ae=jQuery("#"+ag)[0].email.value;if(validateEmail(ae)===false){jQuery("#forgotpass_email").removeClass("redtexterror");jQuery("#cnnConnectForgotErrors").hide().html("");jQuery("#signup_email_forgot").addClass("redinput_error").addClass("redtexterror");jQuery("#forgotpass_email").addClass("redtexterror").html("You must enter your email address to reset your password.").show();try{cnnFocusOnFirstError();}catch(af){}}else{q(ae,ag);}}function v(ag){var ae=[];if(ag&&ag.errors){ae=ag.errors;}if(ae.length>0){cnnConnectOverlayResetValidationError("clear");cnnConnectOverlayResetError("default");cnnConnectOverlayResetValidationError("add",ae[0].message);switch(ae[0].message.toLowerCase()){case"missing email address":cnnConnectOverlayResetError("email");cnnConnectOverlayResetValidationError("add","You forgot to enter your email address.<br/>");break;case"profile not found":cnnConnectOverlayResetError("default");cnnConnectOverlayResetValidationError("add","Your reset code doesn't match our records. Please try again.<br/>");break;case"the reset code does not match our records":cnnConnectOverlayResetError("default");cnnConnectOverlayResetValidationError("add","Your reset code doesn't match our records. Please try again.<br/>");break;case"user not found":cnnConnectOverlayResetError("default");cnnConnectOverlayResetValidationError("add","Your reset code doesn't match our records. Please try again.<br/>");break;case"missing required param: password":cnnConnectOverlayResetError("newPassword");cnnConnectOverlayResetValidationError("add","You forgot to enter your new password.<br/>");break;case"missing confirm new password":cnnConnectOverlayResetError("confirmNewPassword");cnnConnectOverlayResetValidationError("add","You forgot to confirm your new password.<br/>");break;case"reset code has expired":cnnConnectOverlayResetError("resetCode");cnnConnectOverlayResetValidationError("add","Your reset code has expired.");break;case"the reset code you provided has expired":cnnConnectOverlayResetError("resetCode");cnnConnectOverlayResetValidationError("add","Your reset code has expired.");break;default:cnnConnectOverlayResetError("default");cnnConnectOverlayResetValidationError("add","We're sorry! This service is temporarily unavailable. Please try again soon.");break;}cnnConnectOverlayResetValidationError("show");try{cnnFocusOnFirstError();}catch(af){}}}function K(ag,ah,ae){U();var af=L.URLDecode(cnnGetQueryStringKeyValue("userid"));MSIB.msapi.user.resetPassword({userId:af,code:ag,password:ah,},function(aj,ak,ai){if(CNN.msib.isSuccessStatus(aj)){L("#cnnConnectFormReset").removeClass("showOverlay");cnnShowLogin();cnnConnectOverlayResetValidationError("clear");}else{v(ai);}});return false;}function w(aj){var ai=jQuery("#"+aj)[0].resetCode.value;var al=jQuery("#"+aj)[0].newPassword.value;var ae=al;var ak=true;var ag="Reset Password isn't complete without your ";var am=[];if(ai===""||ai==="Reset Code"){ak=false;
am[am.length]="reset code";cnnConnectOverlayResetError("resetCode");}if(al===""||al==="New Password"){ak=false;am[am.length]="new password";cnnConnectOverlayResetError("newPassword");}if(ak===true){K(ai,al,ae);}else{cnnConnectOverlayResetValidationError("clear");switch(am.length){case 1:ag+=am[0]+".";break;case 2:ag+=am[0]+" and "+am[1]+".";break;default:for(var af=0;af<am.length;af++){ag+=(af==(am.length-1))?"and "+am[af]+".":am[af]+", ";}break;}cnnConnectOverlayResetValidationError("add",ag);cnnConnectOverlayResetValidationError("show");try{cnnFocusOnFirstError();}catch(ah){}}}function A(){var ae=3*60*1000,af;af=new Date()-Y;return af>=ae;}function n(ae){U();D.logout(function(){N=undefined;Y=undefined;h([{message:"Your session has timed out; please log in again."}],ae);H();});}function Z(ag){var af=MSIB.util.getTid();var ae=MSIB.util.getAuthid();MSIB.msapi.social.gigya.generateSignature({tid:af,authid:ae},function(ai,aj,ah){if(CNN.msib.isSuccessStatus(ai)){gigya.services.socialize.notifyRegistration({siteUID:af,callback:z,UIDTimestamp:ah.timestamp,UIDSig:ah.signature});}else{T(ah,ag);}});}function ac(ag,af,ae,ah){U();if(typeof N==="undefined"){aa();return false;}MSIB.msapi.authority.add({principalType:"GIGYA",principal:MSIB.social.gigya.makeGigyaPrincipal(N),tid:ag,authid:af,authpass:ae},function(aj,ak,ai){if(CNN.msib.isSuccessStatus(aj)){Z(ah);}else{if(l(ai,"principal","invalid")){if(A(N,aj,ai)){n();}else{h([{message:"There was an error; please try again."}],ah);}}else{T(ai,ah);}}});return false;}function V(ae){if(typeof N==="undefined"){aa();return false;}MSIB.msapi.auth.register({principalType:"GIGYA",principal:MSIB.social.gigya.makeGigyaPrincipal(N),acceptedLegalDocuments:"domestic_version"},function(ag,ah,af){if(CNN.msib.isSuccessStatus(ag)){Z(ae);}else{h([{message:"There was an error; please try again."}],ae);}});return false;}function d(af,ae,ah){U();var ag={loginId:af,password:ae,acceptedLegalDocuments:"domestic_version"};MSIB.msapi.login(ag,function(aj,ak,ai){if(CNN.msib.isSuccessStatus(aj)){ac(ai.tid,ai.authid,ai.authpass);}else{T(ai,ah);}});return false;}function I(){V("cnnSocialOnlyAccount");}function S(ae){L("#gigya-link-account").show();L("#cnnMoneyConnectFormLoginWSocial").removeClass("showOverlay");if(!L("#cnnMoneyLinkAccountForm").length){cnnGetHTML("cnnMoneyLinkAccountForm",null,ae);}else{L("#cnnMoneyLinkAccountForm").cnnShowOverlay();}return false;}function ab(af){var ae=af.provider;N=af.user;Y=new Date();MSIB.msapi.auth.login({principalType:"GIGYA",loginId:MSIB.social.gigya.makeGigyaPrincipal(N)},function(ah,ai,ag){if(CNN.msib.isSuccessStatus(ah)){if(N.isSiteUID){MSIB.msapi.user.get({tid:ah.responseJSON.tid,authid:ah.responseJSON.authid},function(aj){if(typeof aj!=="undefined"&&aj.status===200){s=aj.responseJSON.attributes.avatarUrl;z();}});}else{z();}}else{if(ag.errors&&ag.errors.length>0&&ag.errors[0].error==="notRegistered"){S(ae);}else{N=undefined;Y=undefined;}}});}function o(){gigya.socialize.showLoginUI({containerID:"gigya-widget",context:{},enabledProviders:window.__gigyaConf.enabledProviders,showTermsLink:false,height:185,width:315,buttonsStyle:"fullLogo",lastLoginIndication:"none"});}function ad(ae){gigya.socialize.addEventHandlers({onLogin:ab});}function E(){try{var ae=getMODPrefix();var ag=jQuery("#cnnWatchListConnect");if(D.loggedIn&&ae&&ag.length!=0&&ag.find("iframe").length==0){jQuery("#cnnWatchListConnect").html('<iframe src="'+ae+"/secure/watchlist/myWatchlist.asp?myStocksTab=watchlist&rnd="+Math.floor(Math.random()*101010101)+'" scrolling="" width="315" height="282" frameborder="0"></iframe>').css("height",282).show();}}catch(af){}}function a(){try{cnnmBanner.setLoggedInStatus(D.loggedIn.toString(),D.displayName);}catch(ae){setTimeout(function(){cnnmBanner.setLoggedInStatus(D.loggedIn.toString(),D.displayName);},1500);console.log("Error updating banner in moneySetNavDropdown");}}function c(ah){try{var ag=Math.random().toString(36).substr(2,8),af={type:"GET",tid:MSIB.util.getTid(),authid:MSIB.util.getAuthid(),authpass:MSIB.util.getAuthpass(),password:ag,"address.zip":"00000",confirmPassword:ag,username:"GONE"+Math.random().toString(36).substr(2,8)};if(typeof MSIB.msapi!=="undefined"&&typeof MSIB.msapi.user!=="undefined"&&MSIB.msapi.user.edit){MSIB.msapi.user.edit(af,ah);}}catch(ae){}}function C(ae,af){if(typeof MSIB.msapi!=="undefined"&&typeof MSIB.msapi.authority!=="undefined"&&typeof MSIB.util!=="undefined"&&MSIB.util.getTid&&MSIB.util.getAuthid&&MSIB.util.getAuthpass){if(D.hasAuthority(ae)){MSIB.msapi.authority.remove({type:ae,tid:MSIB.util.getTid(),authid:MSIB.util.getAuthid(),authpass:MSIB.util.getAuthpass()},af);}}}function Q(ae){if(typeof CNN.msib!=="undefined"&&CNN.msib.isSuccessStatus){if(CNN.msib.isSuccessStatus(ae)){jQuery("#responseMessage").html("Success! You will now be logged out.");}else{jQuery("#responseMessage").html("There was a problem Unlinking your account. Please try again later.");}}}function p(){if(typeof D!=="undefined"&&D!==null&&D.hasAuthority){if(D.hasAuthority("GIGYA")&&!D.hasAuthority("EMAIL")){c(function(ae){if(typeof CNN.msib!=="undefined"&&CNN.msib.isSuccessStatus){if(CNN.msib.isSuccessStatus(ae)){C("GIGYA",Q);}else{Q(ae);}}});}else{C("GIGYA",Q);}if(D.hasAuthority("FACEBOOK")){C("FACEBOOK");}if(D.hasAuthority("TWITTER")){C("TWITTER");}setTimeout(function(){var af=window.location,ae=af.protocol+"//"+af.hostname+(af.port?(":"+af.port):"");CNN.msib.moneyLogout();},3000);}}function u(ae){D=ae;CNN.msib.loadGigya(ad);L(document).on("submit","#cnnMoneyConnectFormLogin",function(){resetInputErrors();B("cnnMoneyConnectFormLogin");return false;});L(document).on("submit","#cnnMoneyConnectFormLoginWSocial",function(){resetInputErrors();B("cnnMoneyConnectFormLoginWSocial");return false;});L(document).on("click",".cnnLogin",function(){y();return false;});L(document).on("click",".cnnSocialLogin",function(){M();return false;});L(document).on("click",".cnnLogout",function(){J();return false;});L(document).on("click","#gigya-link-account-button",function(){var af=true;resetInputErrors();B("cnnMoneyLinkAccountForm",af);return false;});L(document).on("click","#gigya-sign-up-link",function(){var af=true;resetInputErrors();G(af);return false;});L(document).on("click","#gigya-sign-up-button",function(){var af=true;resetInputErrors();j("cnnConnectFormRegisterGigya",af);return false;});L(document).on("click","#gigya-login-button",function(){I();return false;});L(document).on("click",".cnnSignup",function(){var af=false;resetInputErrors();G(af);return false;});L(document).on("submit","#cnnConnectFormRegister",function(){resetInputErrors();j("cnnConnectFormRegister");return false;});L(document).on("submit","#cnnConnectFormForgot",function(){resetInputErrors();X("cnnConnectFormForgot");return false;});L(document).on("submit","#cnnConnectFormReset",function(){resetInputErrors();w("cnnConnectFormReset");return false;});a();E();}CNN.msib.moneyLogout=J;CNN.msib.addGigyaWidget=o;CNN.msib.moneyLivefyreLogin=M;CNN.msib.moneyLivefyreLogout=J;CNN.msib.reloadWindow=t;CNN.msib.showMsibStatusError=T;CNN.msib.deleteAuthorities=p;L(function(){CNN.msib.onInitialized(u);});}(jQuery));(function(c){var l,f=0;function j(o){var p=o.attr("id");if(typeof p==="undefined"||p===""){do{p="cnnLivefyreComments_"+f;f+=1;}while(document.getElementById(p));o.attr("id",p);}return p;}function d(o){l=o.data;return false;}function k(){c(".fyre-comment-footer").each(function(){var o=c(this);if(!o.data("cnn-click")){o.data("cnn-click",1);o.on("click",null,o,d);}});}function g(o){CNN.share.popup({elem:l,url:o.url});}function n(){var p=0,o=0,r=10,q=25;c(".fyre .fyre-stream-content > .fyre-comment-article").each(function(s,t){if(o){if(p>=r){c(t).addClass("non-mobile-comment");}if(p>=q){c(t).addClass("non-web-comment");}}else{if(p>=r){c(t).addClass("large-first-mobile-comment");}if(p>=q){c(t).addClass("large-first-web-comment");}}if(c("> .fyre-comment-wrapper",c(t)).css("display")!=="none"){p=p+1;}c(".fyre-comment-article",c(t)).each(function(v,u){if(c("> .fyre-comment-wrapper",c(u)).css("display")!=="none"){p=p+1;
}if(p>r){c(u).addClass("non-mobile-reply");}if(p>q){c(u).addClass("non-web-reply");}});o=1;});if(p>=r){c(".js-livefyre-comments").addClass("at-least-10-comments");}if(p>=q){c(".js-livefyre-comments").addClass("at-least-25-comments");}c(".fyre .fyre-comment-stream > .fyre-stream-more").addClass("in-house-more-button");c(".js-livefyre-comments .fyre-comment-stream").append('<div class="cnn-custom-stream-more"><div class="fyre-stream-more"><div class="fyre-stream-more-container"><div class="fyre-text">Show More Comments</div></div></div></div>');c(".cnn-custom-stream-more .fyre-stream-more-container").click(function(){c(".js-livefyre-comments").addClass("show-all-initial-comments");});}function h(){c(".js-livefyre-comments").addClass("js-livefyre-comments-logged-in");}function a(){this.widget=null;this.targetId=null;}a.prototype=new CNN.social.LivefyreConvPlugin();a.prototype.configureElement=function(t){var s=c(t),p=j(s),q=s.data("article-id"),r=s.data("checksum"),u=s.data("collectionMeta"),o;this.targetId=p;o={app:"main",siteId:CNN.msib.cfg.livefyre.siteId,el:p,articleId:q,collectionMeta:u,};if(r){o.checksum=r;}return o;};a.prototype.fetchElements=function(){return c(".js-livefyre-comments");};a.prototype.changeConv=function(o){o=o||{};o.siteId=CNN.msib.localCfg.livefyre.siteId;o.el=this.targetId;if(!("collectionMeta" in o)||!("checksum" in o)||!("articleId" in o)){console.log("collectionMeta, checksum, and articleId are all required keys to refresh the comments, make sure these are being passed in the cfg object");}else{this.widget.changeCollection(o);}};a.prototype.onWidgetLoaded=function(o){this.widget=o;o.on("userLoggedIn",h);};CNN.social.registerLivefyreConvPlugin(new a());}(jQuery));var cnnBVPAdSections={"news":"cnnmoney.com_businessnews_archive","economy":"cnnmoney.com_businessnews_jobsandeconomy_archive","business":"cnnmoney.com_businessnews_archive","business2":"cnnmoney.com_businessnews_archive","markets":"cnnmoney.com_marketsandstocks_archive","media ":"cnnmoney.com_media_archive","luxury":"cnnmoney.com_luxury_archive","pf":"cnnmoney.com_personalfinance_archive","moneymag":"cnnmoney.com_personalfinance_archive","fsb":"cnnmoney.com_smallbusiness_archive","smallbusiness":"cnnmoney.com_smallbusiness_archive","technology":"cnnmoney.com_technology_archive","fortune_news":"fortune.com_businessnews_archive","fortune_business":"fortune.com_businessnews_archive","fortune_markets":"fortune.com_marketsandstocks_archive","fortune_pf":"fortune.com_personalfinance_archive","fortune_smallbusiness":"fortune.com_smallbusiness_archive","fortune_technology":"fortune.com_technology_archive","fortune_fortune":"fortune.com_technology_archive","2020_visionaries":"cnnmoney.com_technology_2020visionaries_archive","btw":"cnnmoney.com_businessnews_btw_archive","b.t.w.":"cnnmoney.com_businessnews_btw_archive","cnnmoneyreports":"cnnmoney.com_businessnews_cnnmoneyreports_archive","facetoface":"cnnmoney.com_business_news_face_to_face_archive","fear_and_greed":"cnnmoney.com_investing_fearandgreed_archive","future_of_tech":"cnnmoney.com_technology_futureoftech_archive","strategysessions":"cnnmoney.com_businessnews_strategysessions_archive","morningbuzz":"cnnmoney.com_investing_thebuzz_archive","corneroffice":"cnnmoney.com_businessnews_clevel_corneroffice_archive","detroit":"cnnmoney.com_businessnews_jobsandeconomy_detroitproject_archive","midtermelections2010":"cnnmoney.com_businessnews_jobsandeconomy_election_archive","gas":"cnnmoney.com_businessnews_jobsandeconomy_energy_archive","cnnmoneynow":"cnnmoney.com_marketsandstocks_cnnmoneynow_archive","moneytips":"cnnmoney.com_personalfinance_moneytips_archive","asktheexpert":"cnnmoney.com_retirement_asktheexpert_archive","revell":"cnnmoney.com_retirement_rulesofretirement_archive","innovationnation":"cnnmoney.com_technology_innovationnation_archive","smallglobal":"cnnmoney.com_smallbusiness_smallandglobal_archive","smallbiztips":"cnnmoney.com_smallbusiness_smallbiztips_archive","fsbmakeover":"cnnmoney.com_smallbusiness_smallbusinessmakeover_archive","resourceguide":"cnnmoney.com_smallbusiness_smallbiztips_archive","stateofsmallbiz":"cnnmoney.com_small_business_state_of_small_business_archive","where-are-they-now":"cnnmoney.com_small_business_where_are_they_now_archive","techtalk":"cnnmoney.com_technology_techtalk_archive","toptips":"cnnmoney.com_personalfinance_fivetips_archive","consciouscapitalism":"cnnmoney.com_businessnews_clevel_consciouscapitalism_archive","visionaries":"cnnmoney.com_businessnews_visionaries_archive","investing_guide":"cnnmoney.com_investing_investingguide_archive","alternative_investing":"cnnmoney.com_investing_alternativeinvesting_archive","american_dream":"cnnmoney.com_businessnews_americandream_archive","americas_choice_2016":"cnnmoney.com_businessnews_americaschoice2016_archive","americas_debt":"cnnmoney.com_businessnews_americasdebt_archive","bestadvice":"fortune.com_businessnews_bestadvice_archive","best_in_tech":"cnnmoney.com_technology_bestintech_archive","bestplacelive_2013":"cnnmoney.com_personalfinance_bestplacestolive_archive","bestplacelive_2012":"cnnmoney.com_personalfinance_bestplacestolive_archive","bestplacelive_2010":"cnnmoney.com_personalfinance_bestplacestolive_archive","bestplacelive_2009":"cnnmoney.com_personalfinance_bestplacestolive_archive","bestplacelive_2008":"cnnmoney.com_personalfinance_bestplacestolive_archive","bestplacelive_2007":"cnnmoney.com_personalfinance_bestplacestolive_archive","buffett_live":"cnnmoney.com_investing_buffett_live_archive","cnnmoney_investigates_con_woman":"cnnmoney.com_businessnews_cnnmoneyinvestigatesconwoman_archive","thebuzz":"cnnmoney.com_investing_thebuzz_archive","traders":"CNNMoney.com_Site_Business_News_Traders_Archive_Instream","holidaymoney2009":"cnnmoney.com_personalfinance_holidaymoney_archive","holidaymoney2010":"cnnmoney.com_personalfinance_holidaymoney_archive","road-to-wealth":"cnnmoney.com_personal_finance_road_to_wealth_archive","bing":"fortune.com_businessnews_stanleybing_archive","csuite":"fortune.com_clevel_csuitestrategies_archive","csuiteunpackaged":"fortune.com_clevel_csuitestrategies_archive","cyber_safe":"cnnmoney.com_technology_cybersafe_archive","40under40_2010":"fortune.com_clevel_peopleyoushouldknow_archive","40under40_2011":"fortune.com_business_news_clevel_40_under_40_archive","40under40_2012":"fortune.com_business_news_clevel_40_under_40_archive","mostpowerfulwomen2013":"fortune.com_clevel_50mostpowerfulwomen_archive","election_2016":"cnnmoney.com_economy_election2016_archive","g20":"cnnmoney.com_business_g20_archive","gentlemans_guide":"cnnmoney.com_luxury_gentlemansguide_archive","global_real_estate":"cnnmoney.com_realestate_globalrealestate_archive","globalforum":"fortune.com_worldbiz_globalforum_archive","global500_2013":"fortune.com_lists_global500_archive","growing_in_india":"cnnmoney.com_business_growinginindia_archive","streetlife":"fortune.com_marketsandstocks_streetlife_archive","innovators":"cnnmoney.com_businessnews_innovators_archive","investorsguide2010":"fortune.com_personalfinance_ultimateinvestmentguide_archive","investorsguide2011":"fortune.com_personalfinance_ultimateinvestmentguide_archive","money-sense":"fortune.com_personal_finance_money_sense_archive","brainstormtech":"fortune.com_technology_brainstorm_archive","disruptors":"fortune.com_technology_disruptors_archive","techmate":"fortune.com_technology_techmate_archive","techtransformation":"fortune.com_technology_techtransformation_archive","the_business_view":"cnnmoney.com_business_thebusinessview_archive","the_collector":"cnnmoney.com_luxury_thecollector_archive","bestcos2012":"fortune.com_lists_100bestcompaniestoworkfor_archive","picture_this":"cnnmoney.com_businessnews_picturethis_archive","power":"cnnmoney.com_ businessnews_power_archive","powering_your_world":"cnnmoney.com_technology_poweringyourworld_archive","powerwomen2012":"fortune.com_clevel_50mostpowerfulwomen_archive","bestcos2011":"fortune.com_lists_100bestcompaniestoworkfor_archive","millennials_and_their_money":"cnnmoney.com_personalfinance_millennialsandtheirmoney_archive","mostadmired2013":"fortune.com_lists_mostadmiredcompanies_archive","mostadmired2014":"fortune.com_lists_mostadmiredcompanies_archive","most_innovative_cities":"cnnmoney.com_technology_mostinnovativecities_archive","davos":"cnnmoney.com_businessnews_worldbiz_davos_archive","executivedreamteam":"fortune.com_clevel_executivedreamteam_archive","empire":"cnnmoney.com_site_small_business_empire_archive","evolution":"cnnmoney.com_technology_evolution_archive","appnation":"cnnmoney.com_technology_app_nation_archive","gadget":"cnnmoney.com_technology_gadget_archive","gamechangers":"cnnmoney.com_businessnews_game_changers_archive","fastestgrowingcos2012":"fortune.com_lists_fastestgrowingcompanies_archive","fastestgrowingcos2013":"fortune.com_lists_fastestgrowingcompanies_archive","fed_focus":"cnnmoney.com_investing_fed_focus_archive","wheels":"cnnmoney.com_personalfinance_auto_wheels_archive","women_entrepreneurs":"CNNMoney.com_Site_Small_Business_Women_Entrepreneurs_Archive_Instream","verne_harnish":"cnnmoney.com_small_business_verne_harnish_archive","sept11_2011":"fortune.com_personalfinance_ground_zero_archive","trailblazers":"cnnmoney.com_small_business_innovation_trailblazers_archive","away":"cnnmoney.com_personalfinance_away_archive","drive":"cnnmoney.com_luxury_drive_archive","million-dollar-homes":"cnnmoney.com_luxury_milliondollarhomes_archive","the-big-spend":"cnnmoney.com_luxury_thebigspend_archive","the_open":"cnnmoney.com_investing_openingbell_archive","reliablesources":"cnnmoney.com_media_reliablesources_archive","made_in_poland":"cnnmoney.com_business_madeinpoland_archive","market_movers":"cnnmoney.com_investing_marketmovers_archive","market_movers_and_shakers":"cnnmoney.com_investing_marketmoversandshakers_archive","money_moves":"cnnmoney.com_personalfinance_moneymoves_archive","your-money":"cnnmoney.com_personalfinance_yourmoney_archive","future-of-love":"cnnmoney.com_technology_futureoflove_archive","big-money":"cnnmoney.com_luxury_rare_archive","new_delhi_pollution":"cnnmoney.com_businessnews_newdelhipollution_archive","new_rules_for_retirement":"cnnmoney.com_personalfinance_newrulesforretirement_archive","24-hours-with":"cnnmoney.com_personalfinance_24hourswith_archive","billion-dollar-ideas":"cnnmoney.com_businessnews_billiondollarideas_archive","family":"cnnmoney.com_personalfinance_family_archive","family-money":"cnnmoney.com_luxury_familymoney_archive","why-costs":"cnnmoney.com_luxury_whythiscoststhat_archive","opening-bell":"cnnmoney.com_investing_openingbell_archive","aloft":"cnnmoney.com_luxury_aloft_archive","hottest-investments-world":"cnnmoney.com_investing_hottestinvestmentsworld_archive","the_connectors":"cnnmoney.com_business_theconnectors_archive","the-real-economy":"cnnmoney.com_economy_therealeconomy_archive","cloud-computing":"cnnmoney.com_technology_cloudcomputing_archive","business-ofbeing":"cnnmoney.com_businessnews_businessofbeing_archive","holiday-shopping":"cnnmoney.com_personalfinance_holidayshopping_archive","homes":"cnnmoney.com_personalfinance_homes_archive","passion_to_portfolio":"cnnmoney.com_business_passiontoportfolio_archive","planning-next":"cnnmoney.com_personalfinance_planningnext_archive","quest_means_business":"cnnmoney.com_business_questmeansbusiness_archive","dream-retirement":"cnnmoney.com_personalfinance_dreamretirement_archive","savings_challenge":"cnnmoney.com_personalfinance_savingschallenge_archive","science-of-work":"cnnmoney.com_smallbusiness_scienceofwork_archive","stockswatch":"cnnmoney.com_site_investing_stockswatch_archive","voyage":"cnnmoney.com_luxury_voyage_archive","smart-spending":"cnnmoney.com_personalfinance_smartspending_archive","startups":"cnnmoney.com_smallbusiness_startups_archive","superhero_hackers":"cnnmoney.com_technology_superherohackers_archive","surge":"cnnmoney.com_businessnews_surge_archive","retire_your_way":"cnnmoney.com_personalfinance_retireyourway_archive","producing_the_goods":"cnnmoney.com_technology_producingthegoods_archive","working_life":"cnnmoney.com_ businessnews_workinglife_archive","world_business_today":"cnnmoney.com_business_worldbusinesstoday_archive","upstarts":"cnnmoney.com_technology_upstarts_archive","upstarts30":"cnnmoney.com_technology_upstarts30_archive"};
var cnnStoryAdSections={"markets":"cnnmoney.com_marketsandstocks_t1","news/economy":"cnnmoney.com_businessnews_jobsandeconomy_t1","news":"cnnmoney.com_businessnews_t1","pf":"cnnmoney.com_personalfinance_t1","real_estate":"cnnmoney.com_realestate_t1","retirement":"cnnmoney.com_retirement_t1","smallbusiness":"cnnmoney.com_smallbusiness_t1","technology":"cnnmoney.com_technology_t1","fortune_news":"fortune.com_businessnews_t1","fortune_pf":"fortune.com_personalfinance_t1","fortune_smallbusiness":"fortune.com_smallbusiness_t1","fortune_technology":"fortune.com_technology_t1","fortune_lifestyle":"fortune.com_lifestyle_t1","blog_features":"fortune.com_businessnews_t1","blog_postcards":"fortune.com_businessnews_t1","blog_tech":"fortune.com_technology_t1","blog_finance":"cnnmoney.com_investing_t1","blog_management":"fortune.com_businessnews_t1","blog_moremoney":"cnnmoney.com_personalfinance_t1","blog_readereschoice":"cnnmoney.com_personalfinance_t1","blog_helpdesk":"cnnmoney.com_personalfinance_fivetips_t1","blog_economy":"cnnmoney.com_businessnews_jobsandeconomy_t1","blog_buzz":"cnnmoney.com_investing_thebuzz_t1","blog_smallbusiness":"cnnmoney.com_smallbusiness_t1","2020_visionaries":"cnnmoney.com_technology_2020visionaries_t1","bestbizideas":"cnnmoney.com_businessnews_bestbusinessideas_t1","greenbiz":"cnnmoney.com_businessnews_bizgreen_t1","facetoface":"cnnmoney.com_business_news_face_to_face_t1","future_of_tech":"cnnmoney.com_technology_futureoftech_t1","strategysessions":"cnnmoney.com_businessnews_strategysessions_t1","morningbuzz":"cnnmoney.com_investing_thebuzz_t1","bestjobs2009":"cnnmoney.com_businessnews_jobsandeconomy_bestjobs_t1","bestjobs":"cnnmoney.com_businessnews_jobsandeconomy_bestjobs_t1","detroit":"cnnmoney.com_businessnews_jobsandeconomy_detroitproject_t1","TheRescue":"cnnmoney.com_businessnews_jobsandeconomy_election_t1","midtermelections2010":"cnnmoney.com_businessnews_jobsandeconomy_election_t1","gas":"cnnmoney.com_businessnews_jobsandeconomy_energy_t1","fortuneoutlook":"cnnmoney.com_businessnews_jobsandeconomy_theoutlook_t1","luxurylifetop":"cnnmoney.com_luxury_t1","alternative_investing":"cnnmoney.com_investing_alternativeinvesting_t1","american_dream":"cnnmoney.com_businessnews_americandream_t1","americas_choice_2016":"cnnmoney.com_businessnews_americaschoice2016_t1","americas_debt":"cnnmoney.com_businessnews_americasdebt_t1","bestplacelive_2013":"cnnmoney.com_personalfinance_bestplacestolive_t1","bestplacelive_2012":"cnnmoney.com_personalfinance_bestplacestolive_t1","bestplacelive_2010":"cnnmoney.com_personalfinance_bestplacestolive_t1","bestplacelive_2009":"cnnmoney.com_personalfinance_bestplacestolive_t1","bestplacelive_2008":"cnnmoney.com_personalfinance_bestplacestolive_t1","bestplacelive_2007":"cnnmoney.com_personalfinance_bestplacestolive_t1","buffett_live":"cnnmoney.com_investing_buffett_live_t1","doitnow":"cnnmoney.com_personalfinance_doitnow_t1","election_2016":"cnnmoney.com_economy_election2016_t1","cnnmoney_investigates_con_woman":"cnnmoney.com_businessnews_cnnmoneyinvestigatesconwoman_t1","holiday":"cnnmoney.com_personalfinance_holidaymoney_t1","holidaymoney2009":"cnnmoney.com_personalfinance_holidaymoney_t1","holidaymoney2010":"cnnmoney.com_personalfinance_holidaymoney_t1","holiday2007":"cnnmoney.com_personalfinance_holidaymoney_t1","homes":"cnnmoney.com_personalfinance_homes_t1","moneymainstreet":"cnnmoney.com_personalfinance_moneyandmainstreet_t1","family":"cnnmoney.com_personalfinance_family_t1","familymoney":"cnnmoney.com_personalfinance_yourfamily_t1","fed_focus":"cnnmoney.com_investing_fed_focus_t1","yourfamilymoney":"cnnmoney.com_personalfinance_yourfamily_t1","road-to-wealth":"cnnmoney.com_personal_finance_road_to_wealth_t1","familymoney":"cnnmoney.com_realestate_yourfamily_t1","yourfamilymoney":"cnnmoney.com_realestate_yourfamily_t1","MONEY":"cnnmoney.com_retirement_asktheexpert_t1","best_in_tech":"cnnmoney.com_technology_bestintech_t1","bestplaceretire_2010":"cnnmoney.com_retirement_bestplacestoretire_t1","bestplaceretire_2009":"cnnmoney.com_retirement_bestplacestoretire_t1","bestplaceretire_2008":"cnnmoney.com_retirement_bestplacestoretire_t1","bestplaceretire_2007":"cnnmoney.com_retirement_bestplacestoretire_t1","bestplaceretire":"cnnmoney.com_retirement_bestplacestoretire_t1","retirerich":"cnnmoney.com_retirement_retirerich_t1","revell":"cnnmoney.com_retirement_rulesofretirement_t1","bestbizideas":"cnnmoney.com_smallbusiness_bestbusinessideas_t1","innovationnation":"cnnmoney.com_technology_innovationnation_t1","smallandglobal":"cnnmoney.com_smallbusiness_smallandglobal_t1","fsbmakeover":"cnnmoney.com_smallbusiness_smallbusinessmakeover_t1","stateofsmallbiz":"cnnmoney.com_small_business_state_of_small_business_t1","fortunetechtalk":"cnnmoney.com_technology_techtalk_t1","toptips":"cnnmoney.com_personalfinance_fivetips_t1","visionaries":"cnnmoney.com_businessnews_visionaries_t1","investing_guide":"cnnmoney.com_investing_investingguide_t1","where-are-they-now":"cnnmoney.com_small_business_where_are_they_now_t1","bestadvice2009":"fortune.com_businessnews_bestadvice_t1","brainstormgreen":"fortune.com_businessnews_brainstormgreenconference_t1","dumbest":"fortune.com_lists_dumbmoments_t1","stanleybing":"fortune.com_businessnews_stanleybing_t1","mostpowerfulwomen2013":"fortune.com_clevel_50mostpowerfulwomen_t1","picture_this":"cnnmoney.com_businessnews_picturethis_t1","power":"cnnmoney.com_businessnews_power_t1","powering_your_world":"cnnmoney.com_technology_poweringyourworld_t1","powerwomen2012":"fortune.com_clevel_50mostpowerfulwomen_t1","powerwomen2010":"fortune.com_clevel_50mostpowerfulwomen_t1","powerwomen2009":"fortune.com_clevel_50mostpowerfulwomen_t1","powerwomen2008":"fortune.com_clevel_50mostpowerfulwomen_t1","powerwomen2007":"fortune.com_clevel_50mostpowerfulwomen_t1","powerwomen":"fortune.com_clevel_50mostpowerfulwomen_t1","csuite":"fortune.com_clevel_csuitestrategies_t1","csuiteunpackaged":"fortune.com_clevel_csuitestrategies_t1","cyber_safe":"cnnmoney.com_technology_cybersafe_t1","leadership2008":"fortune.com_clevel_leadershipseries_t1","40under40_2010":"fortune.com_clevel_peopleyoushouldknow_t1","40under40_2011":"fortune.com_business_news_clevel_40_under_40_t1","40under40_2012":"fortune.com_business_news_clevel_40_under_40_t1","fortpower25":"fortune.com_clevel_powerissue_t1","peopleinpower":"fortune.com_clevel_powerissue_t1","bestcos2012":"fortune.com_lists_100bestcompaniestoworkfor_t1","bestcos2011":"fortune.com_lists_100bestcompaniestoworkfor_t1","bestcos2010":"fortune.com_lists_100bestcompaniestoworkfor_t1","bestcos2009":"fortune.com_lists_100bestcompaniestoworkfor_t1","bestcos2008":"fortune.com_lists_100bestcompaniestoworkfor_t1","bestcos":"fortune.com_lists_100bestcompaniestoworkfor_t1","fastestgrowingcos2009":"fortune.com_lists_fastestgrowingcompanies_t1","fastestgrowingcos2008":"fortune.com_lists_fastestgrowingcompanies_t1","fear_and_greed":"cnnmoney.com_investing_fearandgreed_t1","fortfastgrow_2007":"fortune.com_lists_fastestgrowingcompanies_t1","fortune500_2013":"fortune.com_lists_fortune500_t1","fortune500_2012":"fortune.com_lists_fortune500_t1","fortune500_2011":"fortune.com_lists_fortune500_t1","fortune500_2010":"fortune.com_lists_fortune500_t1","fortune500_2009":"fortune.com_lists_fortune500_t1","fortune500_2008":"fortune.com_lists_fortune500_t1","fortune500_2007":"fortune.com_lists_fortune500_t1","fortune500_2006":"fortune.com_lists_fortune500_t1","g20":"cnnmoney.com_business_g20_t1","gadget":"cnnmoney.com_technology_gadget_t1","gentlemans_guide":"cnnmoney.com_luxury_gentlemansguide_t1","global_real_estate":"cnnmoney.com_realestate_globalrealestate_t1","global500_2013":"fortune.com_lists_global500_t1","global500_2009":"fortune.com_lists_global500_t1","global500_2008":"fortune.com_lists_global500_t1","global500_2007":"fortune.com_lists_global500_t1","globalforum":"fortune.com_worldbiz_globalforum_t1","growing_in_india":"cnnmoney.com_business_growinginindia_t1","made_in_poland":"cnnmoney.com_business_madeinpoland_t1","millennials_and_their_money":"cnnmoney.com_personalfinance_millennialsandtheirmoney_t1","mostadmired2009":"fortune.com_lists_mostadmiredcompanies_t1","mostadmired2008":"fortune.com_lists_mostadmiredcompanies_t1","mostadmired2013":"fortune.com_lists_mostadmiredcompanies_t1","mostadmired2014":"fortune.com_lists_mostadmiredcompanies_t1","mostadmiredcos":"fortune.com_lists_mostadmiredcompanies_t1","most_innovative_cities":"cnnmoney.com_technology_mostinnovativecities_t1","callawaycars":"fortune.com_lifestyle_autos_callawaycars_t1","fortluxbiz2008":"fortune.com_lifestyle_bizofluxury_t1","luxurylifetop":"fortune.com_lifestyle_lifeatthetop_t1","roadwarriorsfortune":"fortune.com_lifestyle_travel_roadwarriorsguide_t1","captainsblog":"fortune.com_marketsandstocks_streetlife_t1","innovators":"cnnmoney.com_businessnews_innovators_t1","investorsp-econ08":"fortune.com_personalfinance_investorsspecialguide_t1","investorsguide2010":"fortune.com_personalfinance_ultimateinvestmentguide_t1","investorsguide2011":"fortune.com_personalfinance_ultimateinvestmentguide_t1","money-sense":"fortune.com_personal_finance_money_sense_t1","bpsmbiz2009":"fortune.com_smallbusiness_bestplacesforsmallbusiness_t1","fsbhowwegotstarted":"fortune.com_smallbusiness_entrepreneurialheroes_t1","brainstormTech2008":"fortune.com_technology_brainstorm_t1","brainstormtech":"fortune.com_technology_brainstorm_t1","disruptors":"fortune.com_technology_disruptors_t1","techinnovation":"fortune.com_technology_innovationtechspecial_t1","techinnovators2008":"fortune.com_technology_techspecialreport_t1","the_business_view":"cnnmoney.com_business_thebusinessview_t1","the_collector":"cnnmoney.com_luxury_thecollector_t1","biztransform":"fortune.com_technology_techtransformation_t1","davos":"cnnmoney.com_businessnews_worldbiz_davos_t1","executivedreamteam":"fortune.com_clevel_executivedreamteam_t1","empire":"cnnmoney.com_site_small_business_empire_t1","evolution":"cnnmoney.com_technology_evolution_t1","appnation":"cnnmoney.com_technology_app_nation_t1","gamechangers":"cnnmoney.com_businessnews_game_changers_t1","fastestgrowingcos2012":"fortune.com_lists_fastestgrowingcompanies_t1","fastestgrowingcos2013":"fortune.com_lists_fastestgrowingcompanies_t1","wheels":"cnnmoney.com_personalfinance_auto_wheels_t1","women_entrepreneurs":"CNNMoney.com_Site_Small_Business_Women_Entrepreneurs_T1_Instream","sept11_2011":"fortune.com_personalfinance_ground_zero_t1","verne_harnish":"cnnmoney.com_small_business_verne_harnish_t1","trailblazers":"cnnmoney.com_small_business_innovation_trailblazers_t1","away":"cnnmoney.com_personalfinance_away_t1","drive":"cnnmoney.com_luxury_drive_t1","million-dollar-homes":"cnnmoney.com_luxury_milliondollarhomes_t1","the-big-spend":"cnnmoney.com_luxury_thebigspend_t1","the_open":"cnnmoney.com_investing_openingbell_t1","traders":"CNNMoney.com_Site_Business_News_Traders_T1_Instream","reliablesources":"cnnmoney.com_media_reliablesources_t1","market_movers":"cnnmoney.com_investing_marketmovers_t1","market_movers_and_shakers":"cnnmoney.com_investing_marketmoversandshakers_t1","money_moves":"cnnmoney.com_personalfinance_moneymoves_t1","your-money":"cnnmoney.com_personalfinance_yourmoney_t1","future-of-love":"cnnmoney.com_technology_futureoflove_t1","big-money":"cnnmoney.com_luxury_rare_t1","new_delhi_pollution":"cnnmoney.com_businessnews_newdelhipollution_t1","new_rules_for_retirement":"cnnmoney.com_personalfinance_newrulesforretirement_t1","24-hours-with":"cnnmoney.com_personalfinance_24hourswith_t1","billion-dollar-ideas":"cnnmoney.com_businessnews_billiondollarideas_t1","family-money":"cnnmoney.com_luxury_familymoney_t1","why-costs":"cnnmoney.com_luxury_whythiscoststhat_t1","opening-bell":"cnnmoney.com_investing_openingbell_t1","aloft":"cnnmoney.com_luxury_aloft_t1","hottest-investments-world":"cnnmoney.com_investing_hottestinvestmentsworld_t1","the_connectors":"cnnmoney.com_business_theconnectors_t1","the-real-economy":"cnnmoney.com_economy_therealeconomyt1","cloud-computing":"cnnmoney.com_technology_cloudcomputing_t1","business-ofbeing":"cnnmoney.com_businessnews_businessofbeing_t1","holiday-shopping":"cnnmoney.com_personalfinance_holidayshopping_t1","passion_to_portfolio":"cnnmoney.com_business_passiontoportfolio_t1","planning-next":"cnnmoney.com_personalfinance_planningnext_t1","quest_means_business":"cnnmoney.com_business_questmeansbusiness_t1","dream-retirement":"cnnmoney.com_personalfinance_dreamretirement_t1","savings_challenge":"cnnmoney.com_personalfinance_savingschallenge_t1","science-of-work":"cnnmoney.com_smallbusiness_scienceofwork_t1","startups":"cnnmoney.com_smallbusiness_startups_t1","voyage":"cnnmoney.com_luxury_voyage_t1","smart-spending":"cnnmoney.com_personalfinance_smartspending_t1","stockswatch":"cnnmoney.com_site_investing_stockswatch_t1","superhero_hackers":"cnnmoney.com_technology_superherohackers_t1","surge":"cnnmoney.com_businessnews_surge_t1","retire_your_way":"cnnmoney.com_personalfinance_retireyourway_t1","producing_the_goods":"cnnmoney.com_technology_producingthegoods_t1","working_life":"cnnmoney.com_businessnews_workinglife_t1","world_business_today":"cnnmoney.com_business_worldbusinesstoday_t1","upstarts":"cnnmoney.com_technology_upstarts_t1","upstarts30":"cnnmoney.com_technology_upstarts30_t1"};
function setADBPValues(c,f,a){c.contentpage.cnnOmniture_source=c.contentpage.cnnOmniture_prop14="";c.contentpage.cnnOmniture_prop17="";c.contentpage.cnnOmniture_prop19="";c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="";if(f.source=="CNNMoney"){c.contentpage.cnnOmniture_source=c.contentpage.cnnOmniture_prop14="CNNMONEY";}else{if(f.source=="Fortune"){c.contentpage.cnnOmniture_source=c.contentpage.cnnOmniture_prop14="FORT";}}switch(f.section){case"/video/news":c.contentpage.cnnOmniture_prop19="News";break;case"/video/markets":c.contentpage.cnnOmniture_prop19="Markets";break;case"/video/pf":c.contentpage.cnnOmniture_prop19="PersonalFinance";break;case"/video/technology":c.contentpage.cnnOmniture_prop19="Technology";break;case"/video/luxury":c.contentpage.cnnOmniture_prop19="Luxury";break;default:break;}var d=c.profile;if(d=="videoInteractive"){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="interactive player";}else{if(location.pathname.match("/interactive/")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="interactive player";}else{if(d=="live"){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="live player";}else{if(d=="videoclip"){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="videoclip";}else{if(d=="story"||d=="wp_blogs"){if("top"==c.vidloc){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="story top";}else{c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="story player";}}else{if(d=="gallerySmall"||d=="galleryLarge"||d=="galleryExtraLarge"){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="gallery player";}else{if(location.pathname=="/"||location.pathname=="/index.html"){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="cnnmoney homepage";}else{if(location.pathname=="/smallbusiness/"||location.pathname.match("/smallbusiness/index.html")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="smallbusiness homepage";}else{if(location.pathname=="/smallbusiness/makeover/"||location.pathname.match("/smallbusiness/makeover/index.html")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="smallbusiness makeover";}else{if(location.pathname=="/magazines/fortune/"||location.pathname.match("/magazines/fortune/index.html")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="fortune homepage";}else{if(top.location.pathname.match("data/premarket")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="premarkets";}else{if(top.location.pathname.match("data/afterhours")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="afterhours";}else{if(location.pathname.match("/video/")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="videoclip";}else{if(location.pathname.match("news/specials/assignment_detroit")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="detroit homepage";}else{c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="story player";}}}}}}}}}}}}}}}function playVideo(d,a){var c=(a===undefined)?VideoPlayerManager.getPlayer():VideoPlayerManager.getPlayer(a);if(c==null){VideoPlayerManager.playVideos();return;}var f=c.play_list.getIndex(d);if(!f){c.play_list.injectItem({id:d});}c.play(d);}var VideoPlayerManager={ispreview:(location.hostname.match("preview"))?true:false,players:{},playerprofiles:{configs:{"generic":{width:1024,height:576,divid:"playerarea",slateClick:"top",autoplay:false},"story":{width:780,height:439,divid:"vid0",slateClick:"top",autoplay:false},"wp_blogs":{width:476,height:268,divid:"cnnVidplayer",slateClick:"player",autoplay:false},"section":{width:620,height:348,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"sectionLarge":{width:1024,height:576,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"videoclip":{width:1100,height:620,divid:"cnnVidplayer",slateClick:"top",autoplay:true},"galleryLarge":{width:620,height:348,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"gallerySmall":{width:340,height:191,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"galleryExtraLarge":{width:1024,height:576,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"homepage":{width:780,height:439,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"markets":{width:300,height:168,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"noAds":{width:780,height:439,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"interactive":{width:925,height:520,divid:"playerarea",slateClick:"top",autoplay:false},"videoInteractive":{width:1024,height:576,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"live":{width:925,height:520,divid:"playerarea",slateClick:"player",autoplay:true},"twitter":{width:420,height:236,divid:"cnnVidplayer",slateClick:"player",autoplay:false}}},add:function(a){this.players[a.id]=a;},pauseplayers:function(a){for(var c in this.players){if(a!=this.players[c].id&&this.players[c].isPlaying){this.players[c].pause();}}},getPlayer:function(c){if(typeof(c)=="undefined"){for(var a in this.players){return this.players[a];}}return this.players[c];},initVideo:function(A){profile=(typeof A.playerprofile!=="undefined")?A.playerprofile:"generic";var c=(VideoPlayerManager.ispreview)?"preview":profile,s=(typeof A.width!=="undefined")?A.width:this.playerprofiles.configs[profile].width,o=(typeof A.height!=="undefined")?A.height:this.playerprofiles.configs[profile].height,u=(typeof A.playerid!=="undefined")?A.playerid:"cvp_x"+(parseInt(Math.random()*10000)).toString(),d=(typeof A.divid!=="undefined")?A.divid:this.playerprofiles.configs[profile].divid,f=(typeof A.flashVarsProfile!=="undefined")?A.flashVarsProfile:"2",h=(typeof A.freewheelJsUrl!=="undefined")?A.freewheelJsUrl:"",g=(typeof A.ssid!=="undefined")?A.ssid:undefined,E=(A.profile=="twitter")?"off":"on",l=(typeof A.autoplay!=="undefined")?(A.autoplay):this.playerprofiles.configs[profile].autoplay,k=(typeof A.has_poster!=="undefined")?(A.has_poster):true,a=(typeof A.defaultSection!=="undefined")?A.defaultSection:null,z=A.videoArray||A.playlist,D=(typeof A.auto_playlist!="undefined")?A.auto_playlist:true,j=(typeof A.maxVideos!=="undefined")?A.maxVideos:7,q=(typeof A.loc!="undefined")?A.loc:"",r=(typeof A.contentpage!="undefined")?A.contentpage:undefined,t=(typeof A.disableEndSlate!="undefined")?A.disableEndSlate:undefined,B=(typeof A.disableNextUpSlate!="undefined")?A.disableNextUpSlate:undefined,n=(typeof A.mode!="undefined")?A.mode:undefined,w=(typeof A.firstVideoId!="undefined")?A.firstVideoId:undefined,C=(typeof A.callouts!="undefined")?A.callouts:undefined;var y={id:u,width:s,height:o,divId:d,flashVarsProfile:f,freewheelJsUrl:h,defaultSection:a,callouts:C,mode:n,firstVideoId:w,maxVideos:j,playlist:z,auto_playlist:D,contentpage:r,disableEndSlate:t,disableNextUpSlate:B,vidloc:q,vidprofile:profile,ssid:g,autoplay:l,autostart:E,has_poster:k};var p=(typeof A.callbacks!=="undefined")?A.callbacks:{};var v=new VideoPlayer(y,p);if(!v.canPlay){v.embedNeedsFlash();return;}this.add(v);v.init();},playVideos:function(a){var f=vidConfig.length,d;for(var c=0;c<f;c++){d=vidConfig[c];if(typeof(a)!="undefined"){if(typeof(d.playerid)!="undefined"&&a==d.playerid){this.initVideo(d);return;}}else{this.initVideo(d);}}},loadAutoplayers:function(){var d=vidConfig.length,c,f=false;for(var a=0;a<d;a++){c=vidConfig[a];profile=(typeof c.playerprofile!=="undefined")?c.playerprofile:"generic";f=(typeof c.autoplay!=="undefined")?(c.autoplay):this.playerprofiles.configs[profile].autoplay;if(f){this.initVideo(c);}}}};function VideoPlayer(config,callbacks){var _self=this;var _player=null;this.profile=config.vidprofile||config.playerprofile||"generic";this.id=config.id||"cvp_x"+(parseInt(Math.random()*10000)).toString();this.playerWidth=config.width||VideoPlayerManager.playerprofiles.configs[this.profile].width;this.playerHeight=config.height||VideoPlayerManager.playerprofiles.configs[this.profile].height;
this.playerDivId=config.divId||VideoPlayerManager.playerprofiles.configs[this.profile].divid;this.flashVarsProfile=config.flashVarsProfile||"2";this.freewheelJsUrl=config.freewheelJsUrl||"";this.autoplay=config.autoplay||false;this.has_poster=(typeof config.has_poster!==undefined)?config.has_poster:true;this.vidloc=config.vidloc||"";this.defaultSection=config.defaultSection||null;this.mode=config.mode||VideoPlaylist.MODES.NORMAL;this.firstVideoId=config.firstVideoId||null;this.updateFirstHed=config.updateFirstHed||false;this.maxVideos=config.limit||config.maxVideos||7;this.temp_list=config.playlist||config.videoArray||[];this.auto_playlist=(config.auto_playlist!==undefined)?config.auto_playlist:true;this.initial_callouts=config.callouts||{};this.contentpage=(typeof(config.contentpage)!=="undefined")?eval(config.contentpage):window;this.disableNextUpSlate=(config.disableNextUpSlate!==undefined)?config.disableNextUpSlate:true;this.disableEndSlate=(config.disableEndSlate!==undefined)?config.disableEndSlate:false;this.ssid=config.ssid||undefined;this.play_list=new VideoPlaylist(this.maxVideos,this.mode);this.slateClickTarget=config.slateClickTarget||VideoPlayerManager.playerprofiles.configs[this.profile].slateClick||"top";this.endSlate=null;this.pauseSlate=null;this.nextUpSlate=null;this.activeVideoObject=null;this.callbacks=callbacks||{};this.callouts={onCVPReady:[],onContentBegin:[],onContentPause:[],onContentEnd:[],onContentPlayhead:[]};this.hedClass="js-vid-hed-"+this.id;this.dekClass="js-vid-dek-"+this.id;this.countdownClass="js-vid-countdown-"+this.id;this.bylineClass="js-vid-byline-"+this.id;this.player_elem=null;this.hed_elem=null;this.dek_elem=null;this.byline_elem=null;this.countdown_elem=null;this.adStartTime=0;this.trackingcontext="main";this.videoStartTime=0;this.canPlay=false;this.maximizeAndroid=false;this.isPlaying=false;this.isPaused=false;this.isAdPlaying=false;this.isHTML5=false;this.playlistloaded=false;this.isReplay=false;this.autoPaused=false;this.playBackStarted=false;this.autostart_tracking=false;this.viewability_pinner=null;var default_callbacks={onPlayerReady:function(playerId){_self.setHTML5flag();},onAdSetup:function(){try{AmazonDirectMatchBuy.setAdKeyValuePairs(this);AmazonDirectMatchBuy.requestAdRefresh();}catch(e){console.log("Error in onAdSetup. AmazonDirectMatchBuy = "+AmazonDirectMatchBuy);}},onCVPReady:function(){try{_self.setplayerElems();}catch(e){}var firstVideo=_self.play_list.getItem(_self.firstVideoId);if(firstVideo!=null){_self.play_list.setPointer(firstVideo.id);_self.play_list.prevItem();}try{_self.playNext();}catch(e){VideoPlayer.utils.log("Error trying to play first video fron onCVPReady");}try{if(_self.vidloc=="top"){_self.viewability_pinner=new ViewabilityVideo;_self.viewability_pinner.init();}}catch(e){console.log("onCVPReady: Video Viewability setup: "+e.message);}if(_self.callouts.onCVPReady.length>0){for(var i=0;i<_self.callouts.onCVPReady.length;i++){try{var _f=_self.callouts.onCVPReady[i];if(typeof(_f)==="function"){_f(_self.id);}}catch(e){VideoPlayer.utils.log("Error running callout - "+e);}}}},onAdPlay:function(playerId,token,mode,id,duration,blockId,adType){try{var vdata=this.getContentEntry(this.getContentId());var analyticsAdtype="video-"+adType;vdata=window.JSON.parse(vdata);vdata.video_collection=_self.play_list.getItem(this.getContentId()).collection;vdata.cnnOmniture_prop14=vdata.cnnOmniture_source=_self.contentpage.cnnOmniture_prop14;vdata.cnnOmniture_prop19=_self.contentpage.cnnOmniture_prop19;vdata.cnnOmniture_prop24=vdata.cnnOmniture_playername=_self.contentpage.cnnOmniture_prop24;_self.contentpage.sendVideoEvent(vdata,analyticsAdtype,playerId);}catch(e){VideoPlayer.utils.log("error in onAdPlay - "+e);}_self.adStartTime=new Date();_self.isAdPlaying=true;_self.adcountdown_start(duration);try{_self.viewability_pinner.pin_style2();}catch(e){console.log("onAdPlay: Video Viewability pinning: "+e.message);}},onAdPlayhead:function(playerId,playhead,duration){_self.adcountdown_update(duration-playhead);},onAdEnd:function(playerId,token,mode,id,blockId,adType){try{var vdata=this.getContentEntry(this.getContentId());vdata=window.JSON.parse(vdata);vdata.adType=adType;vdata.video_collection=_self.play_list.getItem(this.getContentId()).collection;_self.contentpage.sendVideoEvent(vdata,"video-adcomplete",playerId);}catch(e){VideoPlayer.utils.log("error in onAdEnd - "+e);}_self.adStartTime=0;_self.isAdPlaying=false;_self.adcountdown_remove();},onContentBegin:function(playerId,contentId){_self.playBackStarted=true;_self.hideSlates();_self.videoStartTime=new Date();_self.isPlaying=true;try{_self.activeVideoObject=window.JSON.parse(this.getContentEntry(contentId));if(typeof(setADBPValues)==="function"){setADBPValues(_self,_self.activeVideoObject,contentId);}}catch(e){console.warn("Error in onContentBegin, trying to get json data to set ADBP values"+e.message);}try{VideoPlayerManager.pauseplayers(_self.id);}catch(e){VideoPlayer.utils.log("pauseplayers"+e.message);}try{if(0<_self.play_list.pointer||_self.isReplay||(0==_self.play_list.pointer&&_self.updateFirstHed)){_self.updateexternalitems(_self.activeVideoObject);}}catch(e){VideoPlayer.utils.log("update:"+e.message);}try{if((0<_self.play_list.pointer||_self.autoplay)&&!_self.isReplay){_self.trackingcontext="autostart";this.switchTrackingContext(_self.trackingcontext);}else{_self.trackingcontext="main";this.switchTrackingContext(_self.trackingcontext);}}catch(e){}try{if(!_self.playlistloaded){_self.loadplaylist();}}catch(e){}if(_self.callouts.onContentBegin.length>0){for(var i=0;i<_self.callouts.onContentBegin.length;i++){try{var _f=_self.callouts.onContentBegin[i];if(typeof(_f)==="function"){_f(_self.id,contentId);}}catch(e){VideoPlayer.utils.log("Error running callout - "+e);}}}},onContentPlay:function(playerId,contentId){try{var vdata=this.getContentEntry(contentId);vdata=window.JSON.parse(vdata);vdata.video_length=_self.activeVideoObject.trt||3;vdata.video_publish_date=_self.activeVideoObject.dateCreated.text.replace(/\//g,"-")||"";vdata.video_collection=_self.play_list.getItem(contentId).collection;vdata.cnnOmniture_prop14=vdata.cnnOmniture_source=_self.contentpage.cnnOmniture_prop14;vdata.cnnOmniture_prop19=_self.contentpage.cnnOmniture_prop19;vdata.cnnOmniture_prop24=vdata.cnnOmniture_playername=_self.contentpage.cnnOmniture_prop24;try{if("autostart"==_self.trackingcontext){vdata.is_auto=1;}}catch(e){}_self.contentpage.sendVideoEvent(vdata,"video-start",playerId);}catch(e){VideoPlayer.utils.log("Error on contentplay : video-start: "+e.message);}try{_self.viewability_pinner.pin_style2();}catch(e){console.log("onContentPlay: Video Viewability pinning: "+e.message);}},onContentPause:function(playerId,contentId,paused){try{var vdata=this.getContentEntry(contentId);vdata=window.JSON.parse(vdata);vdata.paused=paused;vdata.video_collection=_self.play_list.getItem(contentId).collection;vdata.cnnOmniture_prop14=vdata.cnnOmniture_source=_self.contentpage.cnnOmniture_prop14;vdata.cnnOmniture_prop19=_self.contentpage.cnnOmniture_prop19;vdata.cnnOmniture_prop24=vdata.cnnOmniture_playername=_self.contentpage.cnnOmniture_prop24;_self.contentpage.sendVideoEvent(vdata,"video-pause",playerId);}catch(e){VideoPlayer.utils.log("error in onContentPause - "+e);}if(!this.isPaused()){VideoPlayerManager.pauseplayers(_self.id);_self.isPlaying=true;_self.isPaused=false;}else{_self.isPlaying=false;_self.isPaused=true;}if(_self.callouts.onContentPause.length>0){for(var i=0;i<_self.callouts.onContentPause.length;i++){try{var _f=_self.callouts.onContentPause[i];if(typeof(_f)==="function"){_f(_self.id,contentId,paused);}}catch(e){VideoPlayer.utils.log("Error running callout - "+e);}}}},onContentBuffering:function(playerId,contentId,buffering){try{var vdata=this.getContentEntry(contentId);vdata=window.JSON.parse(vdata);vdata.buffering=buffering;vdata.video_collection=_self.play_list.getItem(contentId).collection;vdata.cnnOmniture_prop14=vdata.cnnOmniture_source=_self.contentpage.cnnOmniture_prop14;
vdata.cnnOmniture_prop19=_self.contentpage.cnnOmniture_prop19;vdata.cnnOmniture_prop24=vdata.cnnOmniture_playername=_self.contentpage.cnnOmniture_prop24;_self.contentpage.sendVideoEvent(vdata,"video-buffer",playerId);}catch(e){VideoPlayer.utils.log("error in onContentBuffering - "+e);}},onTrackingContentSeek:function(playerId,dataObj){try{var vdata=this.getContentEntry(this.getContentId());vdata=window.JSON.parse(vdata);vdata.video_collection=_self.play_list.getItem(contentId).collection;vdata.cnnOmniture_prop14=vdata.cnnOmniture_source=_self.contentpage.cnnOmniture_prop14;vdata.cnnOmniture_prop19=_self.contentpage.cnnOmniture_prop19;vdata.cnnOmniture_prop24=vdata.cnnOmniture_playername=_self.contentpage.cnnOmniture_prop24;_self.contentpage.sendVideoEvent(vdata,"video-scrub",playerId);}catch(e){VideoPlayer.utils.log("error in onTrackingContentSeek - "+e);}},onContentPlayhead:function(playerId,contentId,playhead,duration){try{var vc=new _self.contentpage._jsmd.plugin.gMONVideoCollection();if(playhead>(duration/2)&&vc.get(playerId,"hasScrubbed")==false&&vc.get(playerId,"pastHalf")==false){var vdata=this.getContentEntry(contentId);vdata=window.JSON.parse(vdata);vdata.video_collection=_self.play_list.getItem(contentId).collection;vdata.cnnOmniture_prop14=vdata.cnnOmniture_source=_self.contentpage.cnnOmniture_prop14;vdata.cnnOmniture_prop19=_self.contentpage.cnnOmniture_prop19;vdata.cnnOmniture_prop24=vdata.cnnOmniture_playername=_self.contentpage.cnnOmniture_prop24;_self.contentpage.sendVideoEvent(vdata,"video-fifty_percent",playerId);}}catch(e){VideoPlayer.utils.log("error in onContentPlayhead - "+e);}if(_self.callouts.onContentPlayhead.length>0){for(var i=0;i<_self.callouts.onContentPlayhead.length;i++){try{var _f=_self.callouts.onContentPlayhead[i];if(typeof(_f)==="function"){_f(_self.id,contentId,playhead,duration);}}catch(e){VideoPlayer.utils.log("Error running callout - "+e);}}}},onContentEnd:function(playerId,contentId){try{var vdata=this.getContentEntry(contentId);vdata=window.JSON.parse(vdata);vdata.video_collection=_self.play_list.getItem(contentId).collection;vdata.cnnOmniture_prop14=vdata.cnnOmniture_source=_self.contentpage.cnnOmniture_prop14;vdata.cnnOmniture_prop19=_self.contentpage.cnnOmniture_prop19;vdata.cnnOmniture_prop24=vdata.cnnOmniture_playername=vdata.cnnOmniture_playername=_self.contentpage.cnnOmniture_prop24;_self.contentpage.sendVideoEvent(vdata,"video-complete",playerId);}catch(e){VideoPlayer.utils.log("error in onContentEnd - "+e);}_self.isPlaying=false;_self.isReplay=false;if(!_self.play_list.hasMoreItems()&&_self.play_list.mode===VideoPlaylist.MODES.REPEAT){_self.play_list.resetPointer();}try{if(!_self.showSlate()){_self.playNext();}}catch(e){VideoPlayer.utils.log("Couldn't load slate - "+e.message);_self.playNext();}if(_self.callouts.onContentEnd.length>0){for(var i=0;i<_self.callouts.onContentEnd.length;i++){try{var _f=_self.callouts.onContentEnd[i];if(typeof(_f)==="function"){_f(_self.id,contentId);}}catch(e){VideoPlayer.utils.log("Error running callout - "+e);}}}},onContentReplayRequest:function(playerId,contentId,additionalParams){_self.isReplay=true;_self.trackingcontext="main";this.switchTrackingContext(_self.trackingcontext);},onContentEntryLoadError:function(playerId,contentId,errorMessage,errorCode,queue){_self.handleContentError("onContentEntryLoadError",playerId,contentId,errorMessage);},onContentError:function(playerId,contentId,errorMessage){_self.handleContentError("onContentError",playerId,contentId,errorMessage);},onCVPVisibilityChange:function(playerId,visible){},onPageVisibilityChange:function(playerId,visible){},onViewportVisibilityChange:function(playerId,visible){},onAdError:function(playerId,errorMessage){},onAdPrerollUrl:function(playerId,contentId){},onAdPostrollUrl:function(playerId,contentId){VideoPlayer.utils.log("postroll url coming in for - "+contentId);return false;},onAdSensitive:function(playerId,contentId){},onContentEntryLoad:function(playerId,contentId,isQueue){},onContentResize:function(playerId,width,height){},onContentVolume:function(playerId,muted,volume){},onContentBitrateInfo:function(playerId,currentBitrateId,maxBitrateId,currentBitrate){},onContentBitrateChangeStart:function(playerId,currentBitrateId,maxBitrateId,currentBitrate){},onContentBitrateChangeEnd:function(playerId,currentBitrateId,maxBitrateId,currentBitrate){},onContentBitrateChangeError:function(playerId,error,currentBitrateId,maxBitrateId,currentBitrate){},onContentComplete:function(playerId,contentId){},onContentMetadata:function(playerId,contentId,duration,width,height){},onContentQueue:function(playerId,queue){},onContentQueueAutoplay:function(playerId,autoplay){},onTrackingAdStart:function(playerId,dataObj){},onTrackingAdComplete:function(playerId,dataObj){},onTrackingAdProgress:function(playerId,dataObj){},onTrackingAdCountdown:function(playerId,dataObj){},onTrackingAdClick:function(playerId,dataObj){},onTrackingContentPlay:function(playerId,dataObj){},onTrackingContentBegin:function(playerId,dataObj){},onTrackingContentProgress:function(playerId,dataObj){},onTrackingContentComplete:function(playerId,dataObj){},onTrackingContentReplay:function(playerId,dataObj){},onTrackingContentSegmentPlay:function(playerId,dataObj){},onTrackingContentSegmentComplete:function(playerId,dataObj){},onTrackingFullscreen:function(playerId,dataObj){},onTrackingMuted:function(playerId,dataObj){},onTrackingPaused:function(playerId,dataObj){}};function _init(){if(!VideoPlayer.utils.canPlayFlash()&&!VideoPlayer.utils.canPlayHTML5()){return;}_self.canPlay=true;_self.play_list.load(_self.temp_list);_player={id:_self.id,width:_self.playerWidth,height:_self.playerHeight,flashVars:{context:(VideoPlayerManager.ispreview)?"preview":_self.profile,autostart:((!_self.has_poster&&!_self.autoplay)||_self.profile==="twitter")?"off":"on",site:"cnnmoney",profile:_self.flashVarsProfile},embed:{containerSwf:VideoPlayer.utils.getContainerPath(),expressInstallSwf:"/.element/apps/cvp2/assets/expressInstall.swf",options:{quality:"high",bgcolor:"#000000",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent"}}};if(navigator.userAgent.toLowerCase().indexOf("msie 8")==-1){_player.playerType=(_self.profile==="twitter")?"html5":VideoPlayer.utils.getBestPlayer();}if(_self.freewheelJsUrl!=""){_player.freewheelJsUrl=_self.freewheelJsUrl;}var playercallbacks=default_callbacks;for(var c in _self.callbacks){playercallbacks[c]=_self.callbacks[c];}for(var c in playercallbacks){_player[c]=playercallbacks[c];}_self.contentpage.cnnOmniture_prop14=null;_self.contentpage.cnnOmniture_prop19=null;_self.contentpage.cnnOmniture_prop17=null;_self.contentpage.cnnOmniture_prop24=null;_self.registerCallouts(_self.initial_callouts);}this.init=function(){_player=new CVP(_player);try{AmazonDirectMatchBuy.init();}catch(e){console.log("Error while embedding. AmazonDirectMatchBuy = "+AmazonDirectMatchBuy);}setTimeout(function(){_self.embed();},250);};this.loadplaylist=function(){if(this.playlistloaded){return;}if(this.auto_playlist){if(this.defaultSection==null&&(this.profile=="story"||this.profile=="wp_blogs")){var firstVideoId=this.play_list.getFirstItemId();var playlistItem=this.play_list.getItem(firstVideoId);var branding=(playlistItem.branding!==undefined)?playlistItem.branding:"";var category=(playlistItem.category!==undefined)?playlistItem.category:"";this.defaultSection=VideoPlayer.utils.getDefaultSection(branding,category);}if(this.defaultSection!=null){if(this.profile==="story"){for(var i=0;i<this.play_list.list.length;i++){if(this.play_list.list[i].adSensitive==="yes"){this.playlistloaded=true;this.play_list.setLimit(this.play_list.list.length);return;}}}VideoPlayer.utils.getPayload(this.defaultSection,true,"xml","defaultplaylist",{success:function(reqId,data,textStatus,jqXHR){var playlist=[];var $xmldata=jQuery(data);var $video=$xmldata.find("video");for(i=0;i<$video.length;i++){var videoId=$video.eq(i).find("id").text();var headline=$video.eq(i).find("headline").text();
var dek=$video.eq(i).find("description").text();if(videoId!=""&&headline!=""){if("/"!=videoId.charAt(0)){videoId="/"+videoId;}playlist.push({"id":videoId,"hed":headline,"dek":dek});}}_self.play_list.append(playlist);},error:function(reqId,jqXHR,textStatus,errorThrown){}});}}this.playlistloaded=true;};this.mute=function(){try{_player.mute();}catch(e){}};this.resizeTo=function(width,height){try{document.getElementById(this.id).width=width;document.getElementById(this.id).height=height;_player.resize(width,height);}catch(e){VideoPlayer.utils.log("Error trying to resize to "+width+"x"+height+" - "+e);}};this.hideSlates=function(){if(!this.disableNextUpSlate){this.nextUpSlate.hide();}if(!this.disableEndSlate){this.endSlate.hide();}};this.setplayerElems=function(){var player_holderid="cnnplayer_"+this.id;var cvpplayerobject=document.getElementById(this.id);var parent=cvpplayerobject.parentNode;var traversals=0;do{parent=parent.parentNode;traversals++;}while(parent.className.match("cnnplayer")==null&&traversals<4);parent.setAttribute("id",player_holderid);if(this.playerWidth<560&&this.playerWidth>=420){parent.className=parent.className+" medium-player";}else{if(this.playerWidth<420){parent.className=parent.className+" small-player";}}this.player_elem=parent;this.hed_elem=document.querySelector("."+this.hedClass);this.dek_elem=document.querySelector("."+this.dekClass);this.countdown_elem=document.querySelector("."+this.countdownClass);this.byline_elem=document.querySelector("."+this.bylineClass);try{var playerParent=document.getElementById(this.id).parentNode;if(!this.disableEndSlate){this.endSlate=new VideoPlayerSlate({targetNode:playerParent,playerId:_self.id,type:VideoPlayerSlate.TYPES.END,clickTarget:_self.slateClickTarget});}if(!this.disableNextUpSlate){this.nextUpSlate=new VideoPlayerSlate({targetNode:playerParent,playerId:_self.id,type:VideoPlayerSlate.TYPES.NEXTUP,clickTarget:_self.slateClickTarget,onCountdownComplete:function(){try{_self.playNext();}catch(e){VideoPlayer.utils.log("Error trying to call next video. - "+e.message);}}});}}catch(e){VideoPlayer.utils.log("Error creating slates. "+e.message);}};this.unmute=function(){try{_player.unmute();}catch(e){}};this.updateexternalitems=function(vidjson){vidjson=vidjson||{};var vid=vidjson["id"];var hed=(typeof(vidjson.headline)!="undefined")?vidjson.headline:"";var dek=(typeof(vidjson.description)!="undefined")?vidjson.description:"";var producer="";var producer_tw="";var producer_icon="";var producer_url="";var producerImg_elem=document.getElementById("js-byline-icon");var shareBylineContainer_Elem=document.getElementById("js-share-byline-timestamp");var byline_html="";var producerIcon_html="";var shareimageNode={};var shareimage="";if(""!=hed){if(null!=this.hed_elem){this.hed_elem.innerHTML=hed;}if(null!=this.dek_elem){this.dek_elem.innerHTML=dek;}}if(null!=this.byline_elem){if(typeof(vidjson.producer)!="undefined"){if(typeof(vidjson.producer.name)!="undefined"){producer=(typeof(vidjson.producer.name.text)!="undefined")?vidjson.producer.name.text:producer;producer_tw=(typeof(vidjson.producer.name["twitterhandle"])!="undefined")?vidjson.producer.name["twitterhandle"]:producer_tw;producer_icon=(typeof(vidjson.producer.name["icon"])!="undefined")?vidjson.producer.name["icon"]:producer_icon;producer_url=(typeof(vidjson.producer.name["url"])!="undefined")?vidjson.producer.name["url"]:producer_url;}else{if(typeof(vidjson.producer[0])!="undefined"&&typeof(vidjson.producer[0].name)!="undefined"){producer=(typeof(vidjson.producer[0].name.text)!="undefined")?vidjson.producer[0].name.text:producer;producer_tw=(typeof(vidjson.producer[0].name["twitterhandle"])!="undefined")?vidjson.producer[0].name["twitterhandle"]:producer_tw;}}}var byline_html=producer;if(""!=producer){if(""!=producer_icon){producerIcon_html='<img src="'+producer_icon+'" class="byline-icon" height="55" width="55" />';}if(""!=producer_url){byline_html='<a href="'+producer_url+'">'+byline_html+"</a>";producerIcon_html='<a href="'+producer_url+'">'+producerIcon_html+"</a>";}byline_html='<span class="byline">by '+byline_html+"</span>";if(""!=producer_tw){byline_html+='&nbsp; <a href="https://twitter.com/intent/user?screen_name='+producer_tw+'" class="soc-twtname">@'+producer_tw+"</a>";}shareBylineContainer_Elem.className=shareBylineContainer_Elem.className.replace(/ byline--none/g,"");}else{shareBylineContainer_Elem.className+=" byline--none";}producerImg_elem.innerHTML=producerIcon_html;this.byline_elem.innerHTML=byline_html;}if(this.profile=="videoclip"){if(vidjson.images!==undefined){shareimageNode=vidjson.images[15]||vidjson.images[10]||vidjson.images[5]||vidjson.images[0]||shareimageNode;if(shareimageNode.image!==undefined){shareimage=shareimageNode.image.text||shareimage;}}var sharevid=vid.replace("/video/","video/");try{cnnUpdateShareWidget({"video_id":sharevid,"title":hed,"image":shareimage});}catch(e){}}};this.adcountdown_start=function(duration){var playerclass=this.player_elem.className;playerclass+=" showcountdown";this.player_elem.className=playerclass;if(!isNaN(duration)&&this.isHTML5){var countdown=setInterval(function(){_self.countdown_elem.innerHTML="Your video will play in "+VideoPlayer.utils.time_tostring(duration);duration--;if(duration<0){clearInterval(countdown);_self.countdown_elem.innerHTML="";playerclass=_self.player_elem.className;playerclass=playerclass.replace(" showcountdown","");_self.player_elem.className=playerclass;}},1000);}};this.adcountdown_update=function(duration){if(isNaN(duration)||this.isHTML5){return;}_self.countdown_elem.innerHTML="Your video will play in "+VideoPlayer.utils.time_tostring(duration);};this.adcountdown_remove=function(){_self.countdown_elem.innerHTML="";var playerclass=this.player_elem.className;playerclass=playerclass.replace(" showcountdown","");_self.player_elem.className=playerclass;};this.setHTML5flag=function(){if(_player.getPlayerType()=="html5"){this.isHTML5=true;}else{this.isHTML5=false;}};this.embed=function(){_player.embed(this.playerDivId);};this.embedNeedsFlash=function(){try{var s='<a href="http://get.adobe.com/flashplayer/" target="_blank"><img src="http://i2.cdn.turner.com/money/.element/img/4.0/video/no_flash/620x384_no_flash.gif" width="'+this.playerWidth+'" height="'+this.playerHeight+'" alt="" border="0"></a>';var elem=document.getElementById(this.playerDivId).parentNode;if(elem){elem.innerHTML=s;}}catch(e){VideoPlayer.utils.log("could not embed flash message - "+e);}};this.registerCallouts=function(callouts){if(typeof(callouts.onCVPReady)==="function"){this.callouts.onCVPReady.push(callouts.onCVPReady);}if(typeof(callouts.onContentBegin)==="function"){this.callouts.onContentBegin.push(callouts.onContentBegin);}if(typeof(callouts.onContentPause)==="function"){this.callouts.onContentPause.push(callouts.onContentPause);}if(typeof(callouts.onContentEnd)==="function"){this.callouts.onContentEnd.push(callouts.onContentEnd);}if(typeof(callouts.onContentPlayhead)==="function"){this.callouts.onContentPlayhead.push(callouts.onContentPlayhead);}};this.pause=function(autoPaused){try{this.autoPaused=(typeof(autoPaused)=="boolean")?autoPaused:false;_player.pause();}catch(e){VideoPlayer.utils.log("Error trying to pause. - "+e);}};this.play=function(id,allowPastLimit){try{var playListItem=this.play_list.getItem(id);if(!playListItem){VideoPlayer.utils.log("Cannot play "+id+" - Not found in playlist.");return;}}catch(e){VideoPlayer.utils.log("Error accessing playlist in VideoPlayer.play(); - "+e);return;}try{this.play_list.setPointer(id,allowPastLimit);var profile=_player.getContext();var ssid=this.ssid||VideoPlayerAds.get_ssid(profile,id,this.contentpage,playListItem);if(""!=ssid){_player.setAdSection(ssid);}if(this.play_list.getCurrentItemId()===id){setTimeout(function(){_player.play(id);},100);}try{if(profile!="videoclip"){_vrtrack({track_url:"http://money.cnn.com"+id});}else{if(profile=="videoclip"&&this.play_list.getFirstItemId()!=this.play_list.getCurrentItemId()){_vrtrack({track_url:"http://money.cnn.com"+id});
}}}catch(e){VideoPlayer.utils.log("Error in firing _vrtrack \nid="+id+"\n\n"+e.message);}}catch(e){VideoPlayer.utils.log("Error in VideoPlayer.play()\nid="+id+"\n\n"+e.message);}};this.playNext=function(){if(this.play_list.hasMoreItems()){this.play_list.nextItem();var nextVideoId=this.play_list.getCurrentItemId();this.play(nextVideoId);}else{if(this.play_list.getNumItems()>0){try{this.showSlate();}catch(e){}}}};this.handleContentError=function(type,playerId,contentId,errorMessage){switch(type){case"onContentError":case"onContentEntryLoadError":VideoPlayer.utils.log(type+" - "+contentId+" - "+errorMessage);this.play_list.remove(contentId);if(this.play_list.hasMoreItems()){this.playNext();}else{try{this.showSlate();}catch(e){}}break;default:break;}};this.showSlate=function(){if(!this.play_list.hasMoreItems()&&this.play_list.mode!==VideoPlaylist.MODES.REPEAT){if(!this.disableNextUpSlate){this.nextUpSlate.hide();}if(!this.disableEndSlate){this.endSlate.show(this.play_list);return true;}return false;}else{if(!this.disableEndSlate){this.endSlate.hide();}if(!this.disableNextUpSlate){this.nextUpSlate.show(this.play_list);return true;}return false;}return false;};this.replay=function(){try{_player.replay();}catch(e){var playlistItemId=this.play_list.getCurrentItemId();this.isReplay=true;this.trackingcontext="main";_player.switchTrackingContext(this.trackingcontext);this.play(playlistItemId);}};this.resume=function(autoResume){try{if(!_player.isPaused){VideoPlayer.utils.log("player.resume() - Player is not paused.");}if(this.autoPaused===true||autoResume===true){_player.resume();this.autoPaused=false;}else{VideoPlayer.utils.log("Cannot resume playback. Player is not autoPaused.");}}catch(e){VideoPlayer.utils.log("Error trying to resume playback. - "+e.message);}};this.getCurrentPlayTime=function(){return parseInt(_player.getPlayhead())*1000;};this.queue=function(vid){};this.emptyQueue=function(){};this.seek=function(sec){};_init();}VideoPlayer.utils={isSecure:(location.protocol==="https:")?true:false,canPlayFlash:function(){if(typeof CVP.swfobject=="object"&&CVP.swfobject.hasFlashPlayerVersion("9.0")){return true;}return false;},canPlayHTML5:function(){var c=false;try{var a=document.createElement("video");if(a.canPlayType&&a.canPlayType("video/mp4").replace(/no/,"")){c=true;}a=null;}catch(d){c=false;}return c;},getBestPlayer:function(){var a=navigator.userAgent.toLowerCase();if(a.indexOf("android")>-1||a.indexOf("silk")>-1||a.indexOf("kindle")>-1){if(this.canPlayFlash()){return"flash";}return"html5";}if(a.indexOf("ipad")>-1||a.indexOf("iphone")>-1||a.indexOf("ipod")>-1){return"html5";}if(this.canPlayFlash()){return"flash";}if(this.canPlayHTML5()){return"html5";}return"";},getContainerPath:function(){var a={dev:"/.element/apps/cvp2/assets/cvp_main_container.swf",pro:"http://i.cdn.turner.com/money/.element/apps/cvp2/assets/cvp_main_container.swf",pro_secure:"https://s.cdn.turner.com/money/.element/apps/cvp2/assets/cvp_main_container.swf"};var c=a["pro"];switch(location.hostname){case"money.cnn.com":c=a["pro"];break;case"secure.money.cnn.com":c=a["pro_secure"];break;default:c=a["dev"];break;}return c;},getDefaultSection:function(c,g){var f="/.element/ssi/auto/4.0/video/xml/latest.xml";var a=["fortune","luxury","markets","moneymag","news","pf","smallbusiness","technology","luxury","media"];if(c!=""){f="/.element/ssi/auto/4.0/video/xml/branding/"+c+".xml";}else{for(var d=0;d<a.length;d++){if(a[d]==g){f="/.element/ssi/auto/4.0/video/xml/"+g+".xml";break;}}}return f;},getPosterImage:function(l,a){var p=((VideoPlayer.utils.isSecure)?"https://s.":"http://i2.")+"cdn.turner.com/money/.element/img/4.0/video/default_thumbs/cnnmoney.620x348.jpg";for(var o in l){if(o.indexOf(a+"x")===0){var j=new Image();j.src=l[o];return j;}}var c="";var d="";for(var o in l){var f=o.split("x");var n=f[0];var g=f[1];if(n<=a){c=l[o];}if(n>=a){d=l[o];break;}}var j=new Image();if(d!==""){j.src=d;}else{if(c!==""){j.src=c;}else{j.src=p;}}return j;},getImages:function(d,j){if(j===undefined){var j=["160x90","576x324","620x348","1024x576","1280x720"];}var a={};for(var g=0;g<d.length;g++){for(var h=0;h<j.length;h++){var k=j[h].split("x");var c=k[0];var f=jQuery(d[g]);if(f.text().match(j[h])||f.attr("width")==c){a[j[h]]=(VideoPlayer.utils.isSecure)?f.text().replace("http://i2.","https://s."):f.text();}}}return a;},getPayload:function(f,c,a,g,d){f=f.replace("4.0video","4.0/video");f=f.replace("4.0//video","4.0/video");jQuery.ajax({reqId:g,async:c,dataType:a,url:f,success:function(j,k,h){if(typeof(d.success)=="function"){d.success(this.reqId,j,k,h);}},error:function(h,k,j){if(typeof(d.error)=="function"){d.error(this.reqId,h,k,j);}}});},log:function(a){try{console.log(a);}catch(c){}},warn:function(a){try{console.warn(a);}catch(c){}},secureHost:function(a){if(a.indexOf("http://ht.cdn.turner.com/money/big/ads/")===0){a=a.replace("http://ht.cdn.turner.com/money/big/ads/","https://secure.money.cnn.com/big/ads/");}a=a.replace(/http:/g,"https:");a=a.replace(/http\%/g,"https%");return a;},time_tostring:function(c){var d="";var c=Math.round(c);var a=Math.floor(c/3600);var f=Math.floor((c-(a*3600))/60);var g=c-(a*3600)-(f*60);if(a>0){if(a<10){d+="0";}d+=a;}if(f>0){d+=":";if(f<10){d+="0";}d+=f;}else{d+="00";}d+=":";if(g<10){d+="0";}d+=g;return d;}};function VideoPlaylist(c,f){var a=this;this.list=[];this.pointer=-1;this.limit=c||7;this.endOfList=true;this.mode=f||"normal";function d(l){var n=[];for(var h=0;h<l.length;h++){if(l[h].id===undefined){continue;}if("/"!=l[h].id.charAt(0)){l[h].id="/"+l[h].id;}n[h]=l[h].id;}var o=[];o.push(l[0]);for(var h=1;h<n.length;h++){var k=false;for(var g=0;g<o.length;g++){if(n[h].match(o[g].id)||o[g].id.match(n[h])){k=true;break;}}if(k==false){o.push(l[h]);}}return o;}this.append=function(j){try{if(j.length===undefined){return;}var h=d(j);if(h.length==0){return;}for(var g=0;g<h.length;g++){this.list.push(h[g]);}var l=d(this.list);this.list=l;this.loadPlaylistItemData();this.updateEndOfListFlag();}catch(k){console.log("VideoPlaylist could not append new list - "+k);}};this.getCurrentItem=function(){if(this.list[this.pointer]){return this.list[this.pointer];}return null;};this.getCurrentItemId=function(){if(this.list[this.pointer]){return this.list[this.pointer].id;}return"";};this.getFirstItemId=function(){if(this.list.length>0){return this.list[0].id;}return"";};this.getIndex=function(h){for(var g=0;g<this.list.length;g++){if(this.list[g].id==h){return g;}}return null;};this.getItem=function(j){for(var g=0;g<this.list.length;g++){var h=this.list[g].id;if(h===j){return this.list[g];}}return null;};this.getItemsInRange=function(k,j){var h=[];if(k<0){throw new Error("Out of range exception. Cannot access playlist in position "+startIdex);}for(var g=k;g<=j||g>=this.list.length;g++){if(g>=this.list.length){break;}if(this.list[g]){h.push(this.list[g]);}}return h;};this.getLastItemId=function(){if(this.list[this.list.length-1]){return this.list[this.list.length-1].id;}return"";};this.getNumItems=function(){return this.list.length;};this.hasMoreItems=function(){return(!this.endOfList);};this.injectItem=function(h,g){if(h===undefined){throw new Error("Nothing to inject into playlist. Missing item parameter.");}if(g===undefined){var g=this.pointer+1;}if(g>this.list.length-1){g=this.list.length-1;}if(g==-1){g=0;}this.list.splice(g,0,h);var j=d(this.list);this.list=j;this.loadPlaylistItemData(false);this.updateEndOfListFlag();};this.load=function(g){if(g.length===undefined){throw new Error("Missing Array parameter");}var h=d(g);if(h.length==0){throw new Error("Playlist resulted in 0 valid entries.");}this.list=h;this.resetPointer();this.loadPlaylistItemData(false);this.updateEndOfListFlag();};this.loadPlaylistItemData=function(h){if(h===undefined){var h=true;}var k={success:function(s,r,t,q){var o=a.getIndex(s);var p=jQuery(r);if(p[0].firstChild.nodeName==="html"){r=q.responseText.replace(" <?xml","<?xml");r=jQuery.parseXML(r);p=jQuery(r);}var n=p.find("video > images > image");var l=p.find("video > files > file");
a.list[o].category=p.find("video > category").text();a.list[o].branding=p.find("video > branding").text();a.list[o].source=p.find("video > source").text();a.list[o].adSensitive=p.find("video > isAdSensitive").text();a.list[o].headline=a.list[o].hed=p.find("video > headline").text();a.list[o].jqFiles=l;a.list[o].jqImages=n;a.list[o].collection=(typeof(a.list[o].collection)=="undefined"||a.list[o].collection=="")?"no video collection":a.list[o].collection;a.list[o].images=VideoPlayer.utils.getImages(n);a.list[o].poster=a.list[o].img=VideoPlayer.utils.getPosterImage(a.list[o].images,"620");a.list[o].thumb=VideoPlayer.utils.getPosterImage(a.list[o].images,"160");a.list[o]._dataComplete="success";if(a.list[o].headline===""){}},error:function(o,l,p,n){a.remove(o);}};for(var g=0;g<this.list.length;g++){if(this.list[g]._dataComplete===undefined){if(this.list[g].id.indexOf("/presenter")==0){var j=this.list[g].id+".xml";}else{var j="/video/data/4.0"+this.list[g].id+".xml";}this.list[g]._dataComplete="";VideoPlayer.utils.getPayload(j,h,"xml",this.list[g].id,k);}}};this.prevItem=function(){if(this.pointer!=-1){this.pointer--;this.updateEndOfListFlag();}};this.nextItem=function(){if(this.hasMoreItems()){this.pointer++;this.updateEndOfListFlag();}};this.remove=function(h){var g=this.getIndex(h);this.list.splice(g,1);if(g==this.pointer&&(g!=0&&this.list.length>0)){this.pointer--;}this.updateEndOfListFlag();};this.resetPointer=function(){this.pointer=-1;this.updateEndOfListFlag();};this.updateEndOfListFlag=function(){this.endOfList=(this.pointer>=(this.list.length-1)||(this.pointer>=this.limit-1));};this.setLimit=function(g){this.limit=g;this.updateEndOfListFlag();};this.setPointer=function(j,g){if(g===undefined){var g=false;}var h=this.getIndex(j);if(h==null){throw new Error("Cannot set pointer to id - "+j+". Item not found.");}if(g===false&&h>=this.limit){throw new Error("Cannot set pointer to playlist-item past the limit of "+this.limit);}if(g===true&&h>=this.limit){this.limit=h+1;}this.pointer=h;this.updateEndOfListFlag();};}VideoPlaylist.MODES={NORMAL:0,REPEAT:1};function VideoPlayerSlate(c){if(c===undefined){throw new Error("Missing required parameter to create VideoPlayerSlate object.");}if(c.targetNode===undefined||c.playerId===undefined){throw new Error("Missing required parameter to create VideoPlayerSlate object.");}var a=this;this.type=(c.type!==undefined)?c.type:VideoPlayerSlate.TYPES.END;this.rootNode=c.targetNode;this.playerId=c.playerId;this.id=this.playerId+"_"+this.type+"Slate";this.clickTarget=c.clickTarget||"top";this.seconds=c.seconds||5;this.onCountdownComplete=c.onCountdownComplete||null;this.onCountdownPause=c.onCountdownPause||null;function d(){var f=document.createElement("div");f.id=a.id;f.className=(a.type===VideoPlayerSlate.TYPES.NEXTUP)?"video-posterboard nextup-slate":"video-posterboard end-slate";a.rootNode.appendChild(f);a.buildUI();}this.countdown={isRunning:false,isStopped:false,isPaused:false,intervalId:null,start:function(){if(this.isRunning){console.log("Cannot start the same counter while its running...");return;}this.isRunning=true;this.isStopped=false;var g=0;var f=jQuery("div#"+a.id+" .video-slate-countdown");f.html("0"+a.seconds);this.intervalId=setInterval(function(){if(!a.countdown.isPaused){g++;f.html("0"+(a.seconds-g));}if(g>=a.seconds||a.countdown.isStopped){window.clearInterval(a.countdown.intervalId);a.countdown.complete();}},1000);},pause:function(){this.isPaused=!this.isPaused;if(typeof(a.onCountdownPause)==="function"){a.onCountdownPause(this.isPaused);}},stop:function(){this.isStopped=true;},complete:function(){this.isRunning=false;if(this.isStopped){return;}if(typeof(a.onCountdownComplete)==="function"){a.onCountdownComplete();}}};this.show=function(h){if(this.type===VideoPlayerSlate.TYPES.NEXTUP){var n=h.pointer+1;var j=h.list[n];if(!j){j={};}var f=j.id||"";var o=j.poster||{};var g=j.hed||"";var k=h.getItemsInRange(n+1,n+4);this.buildUI();this.runTemplate({id:f,title:g,poster:o,list:k});jQuery("div#"+this.id).show();this.countdown.start();return;}if(this.type===VideoPlayerSlate.TYPES.END){var j=h.getCurrentItem();var f=j.id||"";var o=j.poster||{};var k=h.getItemsInRange(h.pointer+1,h.pointer+4);if(k.length<3){var l=3-k.length;var p=h.getItemsInRange(1,l);k=k.concat(p);}this.runTemplate({id:f,poster:o,list:k});jQuery("div#"+this.id).show();return;}};this.hide=function(){jQuery("div#"+this.id).hide();};this.replay=function(){console.log("In replay handler");};this.buildUI=function(){var g="_top";var f="";f+='<div class="video-slate-wrapper">';f+='<div class="video-bg">';f+='<div class="mask"></div>';f+='<img src="" alt="" width="620" height="348">';f+="</div>";f+='<div class="video-slate-content">';if(this.type==VideoPlayerSlate.TYPES.NEXTUP){f+='	<div class="video-slate-header">';f+='		<div class="video-slate-countdown"></div>';f+='		<div class="video-title-wrapper">';f+='			<span class="video-nextup">Next up:</span>';f+='			<span class="video-title"></span>';f+="		</div>";f+="	</div>";}f+='	<div class="video-thumbnails-wrapper">';f+='		<a class="video-thumbnail first" href="/" target="'+g+'">';f+='			<img src="" alt="" width="160" height="90">';f+='			<div class="video-thumbnail-caption"></div>';f+="		</a>";f+='		<a class="video-thumbnail second" href="/" target="'+g+'">';f+='			<img src="" alt="" width="160" height="90">';f+='			<div class="video-thumbnail-caption"></div>';f+="		</a>";f+='		<a class="video-thumbnail third" href="/" target="'+g+'">';f+='			<img src="" alt="" width="160" height="90">';f+='			<div class="video-thumbnail-caption"></div>';f+="		</a>";f+='	 	<div class="clearFloat"></div>';f+="	</div>";f+='	<div data-playerid="'+this.playerId+'" class="replay">Replay</div>';f+="</div>";f+="</div>";jQuery("#"+this.id).html(f);jQuery("#"+this.id+" > .video-slate-wrapper > .video-slate-content > .replay").click(function(){var h=this.dataset["playerid"];VideoPlayerManager.getPlayer(h).replay();a.countdown.stop();});};this.runTemplate=function(f){if(f===undefined){var f={};}var j=(f.title!==undefined)?f.title:"",k=(f.poster!==undefined)?f.poster:"",h=(f.list!==undefined)?f.list:[],g="";if(this.type==VideoPlayerSlate.TYPES.NEXTUP){jQuery("#"+this.id+" > .video-slate-wrapper > .video-slate-content > div.video-slate-header .video-title").text(j);}jQuery("#"+this.id+" > .video-slate-wrapper > .video-bg > img").replaceWith(k);jQuery("#"+this.id+" > .video-slate-wrapper > .video-slate-content > .video-thumbnails-wrapper a.video-thumbnail").each(function(n){var l=jQuery(this);if(h[n]){l.find("img").attr("src",(h[n].thumb.src||""));l.find(".video-thumbnail-caption").text(h[n].hed);l.attr("href",h[n].id);if(a.clickTarget==="player"){l.click(function(o){o.preventDefault();VideoPlayerManager.getPlayer(a.playerId).play(h[n].id,true);});}l.show();}else{l.hide();}});};d();}VideoPlayerSlate.TYPES={NEXTUP:"nextup",PAUSE:"pause",END:"end"};var VideoPlayerAds={page_target:window,pagebranding:"",pagesection:"",get_ssid:function(g,f,d,c){if(null!=d){this.page_target=d;}var k="";switch(g){case"generic":case"story":case"interactive":k=this.get_story_ssid();break;case"wp_blogs":k=this.get_blogstory_ssid();break;case"gallerySmall":case"galleryLarge":case"galleryExtraLarge":case"videoclip":case"section":case"sectionLarge":var h=c.branding;var j=c.category;var a=c.source;k=this.get_bvp_ssid(h,j,a);break;case"homepage":case"markets":k=this.get_smallplayer_ssid();break;default:break;}return k;},_get_story_section:function(){var g=location.pathname;var d=g.split("/");var c=[];var f="";for(var a=0;a<d.length-2;a++){if(isNaN(parseInt(d[a],10))&&d[a]!=""){c.push(d[a]);}}for(var a=0;a<c.length;a++){f+=c[a];if(a<c.length-1){f+="/";}}if(this.page_target.cnnSource=="FORT"){f="fortune_"+f;}return f;},_get_page_branding:function(){if(typeof(this.page_target.cnnBrandingValue)=="undefined"){return"";}if(this.page_target.cnnBrandingValue==""){return"";}return this.page_target.cnnBrandingValue;},set_branding:function(a){this.pagebranding=a;},set_section:function(a){this.pagesection=a;
},get_story_ssid:function(){var c=(""!=this.pagebranding)?this.pagebranding:this._get_page_branding();var f=(""!=this.pagesection)?this.pagesection:this._get_story_section();var a=cnnStoryAdSections[c];var d=cnnStoryAdSections[f];if(a!=null){return a;}if(d!=null){return d;}if(this.page_target.cnnSource=="FORT"){f="fortune_technology";}else{f="news";}return cnnStoryAdSections[f];},get_blogstory_ssid:function(){var c=(""!=this.pagebranding)?this.pagebranding:this._get_page_branding();var f=(""!=this.pagesection)?this.pagesection:this._get_story_section();var a=cnnStoryAdSections[c];var d=cnnStoryAdSections[f];if(a!=null){return a;}if(d!=null){return d;}if(typeof(cnnStoryAdSections[blogname])!="undefined"){return cnnStoryAdSections[blogname];}return cnnStoryAdSections[f];},get_bvp_ssid:function(d,g,f){var c=this._get_page_branding();var a=cnnBVPAdSections[c];if(a!=null){return a;}if(typeof(cnnBVPAdSections[d])!="undefined"){return cnnBVPAdSections[d];}if(f.toLowerCase()=="fortune"){if(typeof(cnnBVPAdSections["fortune_"+g])!="undefined"){return cnnBVPAdSections["fortune_"+g];}return cnnBVPAdSections["fortune_technology"];}if(typeof(cnnBVPAdSections[g])!="undefined"){return cnnBVPAdSections[g];}return cnnBVPAdSections["news"];},get_smallplayer_ssid:function(){var a="cnnmoney.com_homepage";var c=location.pathname;if(c=="/smallbusiness/"||c.match("/smallbusiness/index.html")){a="cnnmoney.com_smallbusiness_sectionhomepage";}else{if(c=="/magazines/fortune/"||c.match("/magazines/fortune/index.html")){a="fortune.com_homepage";}else{if(c.match("data/premarket")){a="cnnmoney.com_premarkets";}else{if(c.match("data/afterhours")){a="cnnmoney.com_afterhours";}}}}return a;}};var adaptiveVideoPage=(function(){var d=null,k=null,s=null,p=null,v=null,l=null,c=1064,a=580,o="small-player",r=false,f=true,j=true;function t(){var w=false;(function(y){if(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(y)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(y.substr(0,4))){w=true;}})(navigator.userAgent||navigator.vendor||window.opera);return w;}function n(){var w=document.body||document.documentElement,A=w.style,B="transition";if(typeof A[B]=="string"){return true;}var y=["Moz","webkit","Webkit","Khtml","O","ms"];B=B.charAt(0).toUpperCase()+B.substr(1);for(var z=0;z<y.length;z++){if(typeof A[y[z]+B]=="string"){return true;}}return false;}function h(){if(r){d.removeClass(o);}else{p.t=setTimeout((function(){p.animate({"width":"1024px"},500,"linear");}),400);s.t=setTimeout((function(){s.animate({"height":"576px"},500,"linear");}),400);clearTimeout(k.t);k.animate({"margin-top":"0px"},500,"linear");clearTimeout(v.t);v.animate({"height":"0px"},500,"linear");}}function g(){if(r){d.addClass(o);}else{l.css("position","absolute");clearTimeout(p.t);p.animate({"width":"620px"},500,"linear");clearTimeout(s.t);s.animate({"height":"348px"},500,"linear");k.t=setTimeout((function(){k.animate({"margin-top":"-372px"},500,"linear",function(){l.css("position","relative");});}),400);v.t=setTimeout((function(){v.animate({"height":"372px"},500,"linear");}),400);}}function q(){d=jQuery("#cnnBody");k=d.find(".cnnCol_side");l=d.find(".cnnCol_main");k.prepend('<div class="responsive-border"></div>');v=k.find(".responsive-border");s=d.find(".cnnplayer");p=d.find(".cnnRow");}function u(){jQuery(window).resize(function(){var z=jQuery(this),w=z.width(),y=z.height();if(w<=c||y<=a){if(f){g();f=false;}}else{if(!f){h();f=true;}}});}return{init:function(){if(typeof disableAdaptiveVideoPage!=="undefined"){if(disableAdaptiveVideoPage==true){j=false;}}if(j&&!t()){q();r=n();u();jQuery(window).trigger("resize");}}};})();